{"version":3,"sources":["duocoder.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_$","$","extend","panelVars","language","editor","matchings","_this","this","panel","setLanguage","index","setEditor","setMatchings","getLanguage","getEditor","getMatchings","2","3","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_class","name","dir","children","arguments","undefined","parent","forEach","child","value","4","Language","Category","./category","./language","5","ace","ext","Server","languages","getLanguages","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","err","return","../server","6","setupMain","initEditor","initCategories","setupLayout","viewCode","viewDesc","viewComparison","./init_categories","./init_editor","./set_language","./setup_layout","./setup_main","./view_code","./view_comparison","./view_desc","7","RSVP","app","from","to","loadCategory","category","Promise","resolve","loadCode","then","loadDesc","categories","$index","append","$sub_index","j","click","removeClass","addClass","$li","$ul","data","sub","../app","rsvp","8","afterRender","$panel","$code","find","edit","attr","setTheme","getSession","setMode","renderer","on","matching","slice","$spans","each","$span","span","text","indexOf","substring","trim","console","error","9","$title","10","mousemove","pageX","pageY","$match","_$match$offset","offset","top","left","bottom","height","right","width","match","filter","11","setupLanguages","setupStickToBottom","setupSmoothScroll","./setup_languages","./setup_smooth_scroll","./setup_stick_to_bottom","12","_arr","_loop","container","_i","$container","$lang","$logo","$lang_to","$lang_from_selected","$lang_to_selected","from_index","to_index","val","submit","../../server","13","location","pathname","replace","hostname","hash","animate","scrollTop","$unfocused","onScroll","toggleClass","document","window","scroll","14","$stick_to_bottom_fake","$stick_to_bottom_real","$lang_from","$fullscreen","onResize","resize","15","num","content","push","parseInt","setValue","16","_slicedToArray","sliceIterator","arr","_n","_d","_e","_s","Array","isArray","$desc","pair","max","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","Math","comparisons","empty","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_loop2","comparison","_comparison","pieces_from","pieces_to","is_same","every","element","$line","_arr2","_i2","pieces","$group","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","piece","$piece","clone","_iterator2","17","desc","html","markdown","toHTML","18","DOM","Storage","App","_require","getCategories","reason","assert","main","learn","lang_from_ext","getUrlParameter","lang_to_ext","set","get","lang_from","getWithExt","lang_to","sParam","params","decodeURIComponent","search","split","param","./app","./app/constructor","./bean","./dom","./server","./storage","19","request","url","type","./request","20","ajax","defaults","options","reject","callbacks","success","response","opts","21","../bean","22","23","./get_categories","./get_languages","./load_code","./load_desc","24","path","./ajax/get","25","26","27","_set","_get","getName","./manager","28","Cookies","remove","29","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","len","run","Item","array","noop","process","nextTick","args","apply","title","browser","env","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","umask","30","global","factory","define","amd","callback","callbacksFor","object","_promiseCallbacks","configure","config","objectOrFunction","x","isFunction","isMaybeThenable","F","scheduleFlush","entry","payload","guid","id","childGuid","childId","stack","instrument","eventName","promise","_guidKey","_id","detail","_result","label","_label","timeStamp","now","resolve$1","constructor","withOwnPromise","getThen","GET_THEN_ERROR","tryThen","fulfillmentHandler","rejectionHandler","handleForeignThenable","thenable","async","sealed","fulfill","handleOwnThenable","_state","FULFILLED","REJECTED","_onError","subscribe","handleMaybeThenable","maybeThenable","then$$","publishRejection","publish","PENDING","_subscribers","onFulfillment","onRejection","subscribers","settled","invokeCallback","ErrorObject","tryCatch","TRY_CATCH_ERROR","hasCallback","succeeded","failed","initializePromise","resolver","resolved","_arguments","state","result","makeSettledResult","position","Enumerator","input","abortOnReject","_instanceConstructor","_abortOnReject","_validateInput","_input","_remaining","_init","_enumerate","_validationError","all","entries","race","reject$1","needsResolver","needsNew","counter","Result","getThen$1","obj","ERROR","tryApply","makeObject","_","argumentNames","_name","arrayResult","wrapThenable","_then","onFulFillment","denodeify","nodeFunc","fn","self","promiseInput","arg","needsPromiseInput","GET_THEN_ERROR$1","p","handlePromiseInput","handleValueInput","__proto__","all$1","AllSettled","_superConstructor","allSettled","race$1","PromiseHash","HashSettled","hashSettled","rethrow","defer","deferred","map","promises","mapFn","values","results","resolve$2","reject$2","resolveAll","resolveSingle","filterFn","filtered","newLength","asap","queue$1","scheduleFlush$1","useNextTick","node","setImmediate","flush","useVertxTimer","vertxNext","useSetTimeout","useMutationObserver","iterations","observer","BrowserMutationObserver","createTextNode","observe","characterData","useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","attemptVertex","vertx","runOnLoop","runOnContext","_defineProperty","EventTarget","mixin","allCallbacks","splice","trigger","_isArray","toString","Date","getTime","o_create","create","_eachEntry","_settleMaybeThenable","c","_settledAt","_makeResult","_willSettleAt","enumerator","guidKey","cast","after","catch","finally","hasOwnProperty","browserWindow","browserGlobal","MutationObserver","WebKitMutationObserver","isNode","isWorker","Uint8ClampedArray","importScripts","platform","_async$filter","cb","_process"],"mappings":"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","file":"duocoder.js","sourcesContent":["/**\n * DuoCoder - Duolingo for Coders\n * @version v0.0.1\n * @author Jason Park\n * @link https://github.com/parkjs814/DuoCoder\n * @license MIT\n */\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _$ = $,\n    extend = _$.extend;\n\n\nvar panelVars = {\n  language: null,\n  editor: null,\n  matchings: null\n};\n\nmodule.exports = function () {\n  var _this = this;\n\n  this.panel = [extend(true, {}, panelVars), extend(true, {}, panelVars)];\n\n  this.setLanguage = function (index, language) {\n    _this.panel[index].language = language;\n  };\n\n  this.setEditor = function (index, editor) {\n    _this.panel[index].editor = editor;\n  };\n\n  this.setMatchings = function (index, matchings) {\n    _this.panel[index].matchings = matchings;\n  };\n\n  this.getLanguage = function (index) {\n    return _this.panel[index].language;\n  };\n\n  this.getEditor = function (index) {\n    return _this.panel[index].editor;\n  };\n\n  this.getMatchings = function (index) {\n    return _this.panel[index].matchings;\n  };\n};\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = {};\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nmodule.exports = function () {\n  function _class(name, dir) {\n    var _this = this;\n\n    var children = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    _classCallCheck(this, _class);\n\n    this.parent = null;\n    this.name = name;\n    this.dir = dir;\n    this.children = children;\n    children.forEach(function (child) {\n      child.parent = _this;\n    });\n  }\n\n  _createClass(_class, [{\n    key: \"sub\",\n    value: function sub(index) {\n      return this.children[index];\n    }\n  }]);\n\n  return _class;\n}();\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nvar Language = require('./language');\nvar Category = require('./category');\n\nmodule.exports = {\n  Language: Language,\n  Category: Category\n};\n\n},{\"./category\":3,\"./language\":5}],5:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nmodule.exports = function () {\n  function _class(name, ace, ext) {\n    _classCallCheck(this, _class);\n\n    this.name = name;\n    this.ace = ace;\n    this.ext = ext;\n  }\n\n  _createClass(_class, null, [{\n    key: 'getWithExt',\n    value: function getWithExt(ext) {\n      var Server = require('../server');\n      var languages = Server.getLanguages();\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = languages[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var language = _step.value;\n\n          if (language.ext == ext) return language;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }]);\n\n  return _class;\n}();\n\n},{\"../server\":23}],6:[function(require,module,exports){\n'use strict';\n\nvar setupMain = require('./setup_main');\nvar initEditor = require('./init_editor');\nvar initCategories = require('./init_categories');\nvar setupLayout = require('./setup_layout');\nvar setLanguage = require('./set_language');\nvar viewCode = require('./view_code');\nvar viewDesc = require('./view_desc');\nvar viewComparison = require('./view_comparison');\n\nmodule.exports = {\n  setupMain: setupMain,\n  initEditor: initEditor,\n  initCategories: initCategories,\n  setupLayout: setupLayout,\n  setLanguage: setLanguage,\n  viewCode: viewCode,\n  viewDesc: viewDesc,\n  viewComparison: viewComparison\n};\n\n},{\"./init_categories\":7,\"./init_editor\":8,\"./set_language\":9,\"./setup_layout\":10,\"./setup_main\":11,\"./view_code\":15,\"./view_comparison\":16,\"./view_desc\":17}],7:[function(require,module,exports){\n'use strict';\n\nvar RSVP = require('rsvp');\nvar Server = require('../server');\nvar app = require('../app');\nvar viewCode = require('./view_code');\nvar viewDesc = require('./view_desc');\n\nvar from = 0,\n    to = 1;\n\nvar loadCategory = function loadCategory(index, category, language) {\n  return new RSVP.Promise(function (resolve) {\n    Server.loadCode(category, language).then(function (code) {\n      viewCode(index, language, code);\n      resolve();\n    });\n    if (index == to) {\n      Server.loadDesc(category, language).then(viewDesc);\n    }\n  });\n};\n\nmodule.exports = function (categories) {\n  var $index = $('#index');\n  categories.forEach(function (category, i) {\n    $index.append('<li>' + (i + 1) + '| ' + category.name + '</li>');\n    var $sub_index = $('<ul class=\"sub\" data-category=\"' + i + '\"></ul>');\n    $index.append($sub_index);\n    category.children.forEach(function (category, j) {\n      $sub_index.append('<li data-subcategory=\"' + j + '\">' + category.name + '</li>');\n    });\n  });\n\n  $('#index > li').click(function () {\n    $('#index > li.active').removeClass('active');\n    $(this).addClass('active');\n  });\n\n  $('ul.sub > li').click(function () {\n    $('ul.sub > li.active').removeClass('active');\n    $(this).addClass('active');\n    var $li = $(this);\n    var $ul = $(this).parent();\n    loadCategory(from, categories[$ul.data('category')].sub($li.data('subcategory')), app.getLanguage(from));\n    loadCategory(to, categories[$ul.data('category')].sub($li.data('subcategory')), app.getLanguage(to));\n  });\n\n  $('#index > li:eq(0)').click();\n  $('ul.sub > li:eq(0)').click();\n};\n\n},{\"../app\":2,\"../server\":23,\"./view_code\":15,\"./view_desc\":17,\"rsvp\":30}],8:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app');\n\nmodule.exports = function (index, language, afterRender) {\n  var $panel = $('.panel:eq(' + index + ')');\n  var $code = $panel.find('.code');\n  var editor = ace.edit($code.attr('id'));\n  editor.setTheme('ace/theme/monokai');\n  if (index == 0) $panel.find('.desc').addClass('ace-monokai');\n  editor.getSession().setMode('ace/mode/' + language.ace);\n  editor.renderer.on('afterRender', function () {\n    var matchings = app.getMatchings(index);\n    if (!matchings || matchings.length == 0) return;\n    var i = 0;\n    var matching = matchings[i].slice(0);\n    var $spans = $code.find('span');\n    $spans.each(function () {\n      var $span = $(this);\n      var span = $span.text();\n      if (span.indexOf(matching[0]) == 0) {\n        matching[0] = matching[0].substring(span.length).trim();\n        $span.addClass('match');\n        $span.data('match', matching[1]);\n        if (matching[0].length == 0) {\n          matching = matchings[++i].slice(0);\n        }\n      } else {\n        console.error('something wrong');\n      }\n    });\n    if (afterRender) afterRender();\n  });\n  return editor;\n};\n\n},{\"../app\":2}],9:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (index, language) {\n  var $panel = $('.panel:eq(' + index + ')');\n  var $title = $panel.find('.title');\n  $title.text(language.name);\n};\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function () {\n  $('.code, #comparison').mousemove(function (e) {\n    $('.match').removeClass('selected');\n    var $code = $(this);\n    var pageX = e.pageX,\n        pageY = e.pageY;\n\n    $code.find('.match').each(function () {\n      var $match = $(this);\n\n      var _$match$offset = $match.offset(),\n          top = _$match$offset.top,\n          left = _$match$offset.left;\n\n      var bottom = top + $match.height();\n      var right = left + $match.width();\n      if (top < pageY && pageY < bottom && left < pageX && pageX < right) {\n        (function () {\n          var match = $match.data('match');\n          $('.match').filter(function () {\n            return $(this).data('match') == match;\n          }).addClass('selected');\n        })();\n      }\n    });\n  });\n};\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\nvar setupLanguages = require('./setup_languages');\nvar setupStickToBottom = require('./setup_stick_to_bottom');\nvar setupSmoothScroll = require('./setup_smooth_scroll');\n\nmodule.exports = function () {\n  setupLanguages();\n  setupStickToBottom();\n  setupSmoothScroll();\n};\n\n},{\"./setup_languages\":12,\"./setup_smooth_scroll\":13,\"./setup_stick_to_bottom\":14}],12:[function(require,module,exports){\n'use strict';\n\nvar Server = require('../../server');\n\nvar languages = Server.getLanguages();\n\nmodule.exports = function () {\n  var _arr = ['#lang-from', '#lang-to'];\n\n  var _loop = function _loop() {\n    var container = _arr[_i];\n    var $container = $(container);\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = languages[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var language = _step.value;\n\n        var $lang = $('<a class=\"lang\" href=\"' + (container == '#lang-from' ? '#dots' : '#top') + '\"></a>');\n        $container.append($lang);\n        var $logo = $('<div class=\"logo\" style=\"background-image: url(\\'./images/lang_' + language.ext + '.png\\')\"></div>');\n        $lang.append($logo);\n        $logo.append('<div class=\"logo mono\" style=\"background-image: url(\\'./images/lang_' + language.ext + '_mono.png\\')\"></div>');\n        $lang.append('<div class=\"name\">' + language.name + '</div>');\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    $container.find('.lang').click(function () {\n      $container.find('.lang.selected').removeClass('selected');\n      $(this).addClass('selected');\n    });\n  };\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    _loop();\n  }\n  $('.lang').click(function () {\n    var $lang_to = $('#lang-to');\n    var $lang_from_selected = $('#lang-from .lang.selected');\n    var $lang_to_selected = $('#lang-to .lang.selected');\n    if ($lang_from_selected.length && $lang_to_selected.length) {\n      var from_index = $lang_from_selected.index();\n      var to_index = $lang_to_selected.index() - 2;\n      $lang_to.find('[name=\"lang_from\"]').val(languages[from_index].ext);\n      $lang_to.find('[name=\"lang_to\"]').val(languages[to_index].ext);\n      $lang_to.submit();\n    }\n  });\n};\n\n},{\"../../server\":23}],13:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function () {\n  $('a[href*=\"#\"]:not([href=\"#\"])').click(function () {\n    if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && location.hostname == this.hostname) {\n      var target = $(this.hash);\n      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n      if (target.length) {\n        $('html, body').animate({\n          scrollTop: target.offset().top\n        }, 500);\n        return false;\n      }\n    }\n  });\n  var $unfocused = $('.focused');\n  var onScroll = function onScroll() {\n    $unfocused.toggleClass('unfocused', $(document).scrollTop() <= 168);\n  };\n  onScroll();\n  $(window).scroll(onScroll);\n};\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function () {\n  var $stick_to_bottom_fake = $('.stick-to-bottom.fake');\n  var $stick_to_bottom_real = $('.stick-to-bottom.real');\n  var $lang_from = $('#lang-from');\n  var $fullscreen = $('.fullscreen');\n  var onResize = function onResize() {\n    var top = $lang_from.offset().top + $lang_from.height();\n    var bottom = $stick_to_bottom_fake.offset().top;\n    $fullscreen.toggleClass('full', top < bottom);\n    $stick_to_bottom_real.toggleClass('stick', top < bottom);\n  };\n  onResize();\n  $(window).resize(onResize);\n};\n\n},{}],15:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app');\n\nmodule.exports = function (index, language, code) {\n  var matchings = [];\n  app.setMatchings(index, matchings);\n  code = code.replace(/#(\\d+){\\[([^(\\]})]*)\\]}/g, function (match, num, content) {\n    matchings.push([content, parseInt(num)]);\n    return content;\n  });\n  matchings.push(['', -1]);\n  app.getEditor(index).setValue(code, -1);\n};\n\n},{\"../app\":2}],16:[function(require,module,exports){\n'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar app = require('../app');\n\nvar from = 0,\n    to = 1;\n\nmodule.exports = function () {\n  var $desc = $('#comparison');\n  var pair = [app.getMatchings(from), app.getMatchings(to)];\n\n  var max = -1;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = pair[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var matchings = _step.value;\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = matchings[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var matching = _step3.value;\n\n          max = Math.max(max, matching[1]);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var comparisons = [];\n  for (var i = 0; i <= max; i++) {\n    comparisons.push([[], []]);\n  }\n  var _arr = [from, to];\n\n  var _loop = function _loop() {\n    var i = _arr[_i];\n    $('.panel:eq(' + i + ') .code .match').each(function () {\n      var $match = $(this);\n      var match = $match.data('match');\n      comparisons[match][i].push($match);\n    });\n  };\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    _loop();\n  }\n\n  $desc.empty();\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    var _loop2 = function _loop2() {\n      var comparison = _step2.value;\n\n      var _comparison = _slicedToArray(comparison, 2),\n          pieces_from = _comparison[0],\n          pieces_to = _comparison[1];\n\n      var is_same = pieces_from.length == pieces_to.length && pieces_from.every(function (element, index) {\n        return element.text() == pieces_to[index].text();\n      });\n      if (is_same) return 'continue';\n      var $line = $('<div class=\"line\"></div>');\n      $desc.append($line);\n      var _arr2 = [pieces_from, pieces_to];\n      for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n        var pieces = _arr2[_i2];\n        var $group = $('<span class=\"group\"></span>');\n        $line.append($group);\n        if (!pieces.length) {\n          $group.append('<span class=\"empty\"></span>');\n        }\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = pieces[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var piece = _step4.value;\n\n            var $piece = piece.clone();\n            $piece.data('match', piece.data('match'));\n            $group.append($piece);\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n      }\n    };\n\n    for (var _iterator2 = comparisons[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _ret2 = _loop2();\n\n      if (_ret2 === 'continue') continue;\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n};\n\n},{\"../app\":2}],17:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (desc) {\n  var $desc = $('#description');\n  $desc.html(markdown.toHTML(desc));\n};\n\n},{}],18:[function(require,module,exports){\n'use strict';\n\nvar RSVP = require('rsvp');\nvar DOM = require('./dom');\nvar Server = require('./server');\nvar Storage = require('./storage');\nvar app = require('./app');\nvar App = require('./app/constructor');\n\nvar _require = require('./bean'),\n    Language = _require.Language;\n\nvar _$ = $,\n    extend = _$.extend;\n\n\nvar categories = Server.getCategories();\nvar languages = Server.getLanguages();\nvar from = 0,\n    to = 1;\n\n// set global promise error handler\nRSVP.on('error', function (reason) {\n  console.assert(false, reason);\n});\n\nextend(true, window, {\n  main: DOM.setupMain,\n  learn: function learn() {\n    extend(true, app, new App());\n    var lang_from_ext = getUrlParameter('lang_from');\n    var lang_to_ext = getUrlParameter('lang_to');\n    if (lang_from_ext && lang_to_ext) {\n      Storage.language.set(from, lang_from_ext);\n      Storage.language.set(to, lang_to_ext);\n    } else {\n      lang_from_ext = Storage.language.get(from);\n      lang_to_ext = Storage.language.get(to);\n    }\n    var lang_from = Language.getWithExt(lang_from_ext);\n    var lang_to = Language.getWithExt(lang_to_ext);\n    app.setLanguage(from, lang_from);\n    app.setLanguage(to, lang_to);\n    app.setEditor(from, DOM.initEditor(from, lang_from, DOM.viewComparison));\n    app.setEditor(to, DOM.initEditor(to, lang_to, DOM.viewComparison));\n    DOM.initCategories(categories);\n    DOM.setupLayout();\n    DOM.setLanguage(from, lang_from);\n    DOM.setLanguage(to, lang_to);\n  }\n});\n\nvar getUrlParameter = function getUrlParameter(sParam) {\n  var params = decodeURIComponent(window.location.search.substring(1)).split('&');\n  for (var i = 0; i < params.length; i++) {\n    var param = params[i].split('=');\n    if (param[0] === sParam) {\n      return param[1] === undefined ? true : param[1];\n    }\n  }\n  return null;\n};\n\n},{\"./app\":2,\"./app/constructor\":1,\"./bean\":4,\"./dom\":6,\"./server\":23,\"./storage\":26,\"rsvp\":30}],19:[function(require,module,exports){\n'use strict';\n\nvar request = require('./request');\n\nmodule.exports = function (url) {\n  return request(url, {\n    type: 'GET'\n  });\n};\n\n},{\"./request\":20}],20:[function(require,module,exports){\n'use strict';\n\nvar RSVP = require('rsvp');\nvar _$ = $,\n    ajax = _$.ajax,\n    extend = _$.extend;\n\n\nvar defaults = {};\n\nmodule.exports = function (url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return new RSVP.Promise(function (resolve, reject) {\n    var callbacks = {\n      success: function success(response) {\n        resolve(response);\n      },\n      error: function error(reason) {\n        reject(reason);\n      }\n    };\n    var opts = extend({}, defaults, options, callbacks, { url: url });\n    ajax(opts);\n  });\n};\n\n},{\"rsvp\":30}],21:[function(require,module,exports){\n'use strict';\n\nvar _require = require('../bean'),\n    Category = _require.Category;\n\nmodule.exports = function () {\n  return categories;\n};\n\nvar categories = [new Category('Variables', 'var', [new Category('Definition', 'def'), new Category('Boolean Type', 'bool'), new Category('Numeric Types', 'num'), new Category('Strings', 'str'), new Category('Data Structures', 'data_structure'), new Category('Constants', 'const')]), new Category('Operators', 'operator', [new Category('Boolean Operations', 'bool'), new Category('Comparisons', 'compare'), new Category('Bitwise Operations', 'bitwise')]), new Category('Conditionals', 'conditional', [new Category('If / Else Statement', 'if_else'), new Category('Switch / Case Statement', 'switch_case'), new Category('Ternary Operator', 'ternary')]), new Category('Loops', 'loop', [new Category('For Statement', 'for'), new Category('While Statement', 'while'), new Category('Continue Statement', 'continue'), new Category('Break Statement', 'break')]), new Category('Functions', 'func', [new Category('Definition', 'def'), new Category('Parameters', 'param'), new Category('Return Statement', 'return')]), new Category('Classes', 'class', [new Category('Definition', 'def'), new Category('Class Variables', 'cls_var'), new Category('Class Functions', 'cls_func'), new Category('Instances', 'obj'), new Category('Instance Variables', 'obj_var'), new Category('Instance Functions', 'obj_func'), new Category('Inheritance', 'inherit')]), new Category('Built-In', 'built_in', [new Category('Math Functions', 'math'), new Category('String Functions', 'str'), new Category('Data Structure Operations', 'data_structure'), new Category('Others', 'etc')])];\n\n},{\"../bean\":4}],22:[function(require,module,exports){\n'use strict';\n\nvar _require = require('../bean'),\n    Language = _require.Language;\n\nmodule.exports = function () {\n  return languages;\n};\n\nvar languages = [new Language('C++', 'c_cpp', 'cpp'), new Language('Python', 'python', 'py'), new Language('Java', 'java', 'java'), new Language('EMCAScript', 'javascript', 'js'), new Language('Nada.', null, 'idk')];\n\n},{\"../bean\":4}],23:[function(require,module,exports){\n'use strict';\n\nvar loadCode = require('./load_code');\nvar loadDesc = require('./load_desc');\nvar getCategories = require('./get_categories');\nvar getLanguages = require('./get_languages');\n\nmodule.exports = {\n  loadCode: loadCode,\n  loadDesc: loadDesc,\n  getCategories: getCategories,\n  getLanguages: getLanguages\n};\n\n},{\"./get_categories\":21,\"./get_languages\":22,\"./load_code\":24,\"./load_desc\":25}],24:[function(require,module,exports){\n'use strict';\n\nvar get = require('./ajax/get');\n\nmodule.exports = function (category, language) {\n  var path = language.ext + '/code.' + language.ext;\n  do {\n    path = category.dir + '/' + path;\n    category = category.parent;\n  } while (category);\n  return get('./data/' + path);\n};\n\n},{\"./ajax/get\":19}],25:[function(require,module,exports){\n'use strict';\n\nvar get = require('./ajax/get');\n\nmodule.exports = function (category, language) {\n  var path = language.ext + '/desc.md';\n  do {\n    path = category.dir + '/' + path;\n    category = category.parent;\n  } while (category);\n  return get('./data/' + path);\n};\n\n},{\"./ajax/get\":19}],26:[function(require,module,exports){\n'use strict';\n\nvar language = require('./language');\n\nmodule.exports = {\n  language: language\n};\n\n},{\"./language\":27}],27:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./manager'),\n    _set = _require.set,\n    _get = _require.get;\n\nvar getName = function getName(index) {\n  return 'lang_' + index;\n};\n\nmodule.exports = {\n  set: function set(index, ext) {\n    return _set(getName(index), ext);\n  },\n  get: function get(index) {\n    return _get(getName(index));\n  }\n};\n\n},{\"./manager\":28}],28:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = {\n  set: function set(name, value) {\n    Cookies.set(name, value);\n  },\n  get: function get(name) {\n    Cookies.get(name);\n  },\n  remove: function remove(name) {\n    Cookies.remove(name);\n  }\n};\n\n},{}],29:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],30:[function(require,module,exports){\n(function (process,global){\n/*!\n * @overview RSVP - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2016 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE\n * @version   3.3.3\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.RSVP = global.RSVP || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction indexOf(callbacks, callback) {\n  for (var i = 0, l = callbacks.length; i < l; i++) {\n    if (callbacks[i] === callback) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nfunction callbacksFor(object) {\n  var callbacks = object._promiseCallbacks;\n\n  if (!callbacks) {\n    callbacks = object._promiseCallbacks = {};\n  }\n\n  return callbacks;\n}\n\n/**\n  @class RSVP.EventTarget\n*/\nvar EventTarget = {\n\n  /**\n    `RSVP.EventTarget.mixin` extends an object with EventTarget methods. For\n    Example:\n     ```javascript\n    let object = {};\n     RSVP.EventTarget.mixin(object);\n     object.on('finished', function(event) {\n      // handle event\n    });\n     object.trigger('finished', { detail: value });\n    ```\n     `EventTarget.mixin` also works with prototypes:\n     ```javascript\n    let Person = function() {};\n    RSVP.EventTarget.mixin(Person.prototype);\n     let yehuda = new Person();\n    let tom = new Person();\n     yehuda.on('poke', function(event) {\n      console.log('Yehuda says OW');\n    });\n     tom.on('poke', function(event) {\n      console.log('Tom says OW');\n    });\n     yehuda.trigger('poke');\n    tom.trigger('poke');\n    ```\n     @method mixin\n    @for RSVP.EventTarget\n    @private\n    @param {Object} object object to extend with EventTarget methods\n  */\n  mixin: function mixin(object) {\n    object['on'] = this['on'];\n    object['off'] = this['off'];\n    object['trigger'] = this['trigger'];\n    object._promiseCallbacks = undefined;\n    return object;\n  },\n\n  /**\n    Registers a callback to be executed when `eventName` is triggered\n     ```javascript\n    object.on('event', function(eventInfo){\n      // handle the event\n    });\n     object.trigger('event');\n    ```\n     @method on\n    @for RSVP.EventTarget\n    @private\n    @param {String} eventName name of the event to listen for\n    @param {Function} callback function to be called when the event is triggered.\n  */\n  on: function on(eventName, callback) {\n    if (typeof callback !== 'function') {\n      throw new TypeError('Callback must be a function');\n    }\n\n    var allCallbacks = callbacksFor(this),\n        callbacks = undefined;\n\n    callbacks = allCallbacks[eventName];\n\n    if (!callbacks) {\n      callbacks = allCallbacks[eventName] = [];\n    }\n\n    if (indexOf(callbacks, callback) === -1) {\n      callbacks.push(callback);\n    }\n  },\n\n  /**\n    You can use `off` to stop firing a particular callback for an event:\n     ```javascript\n    function doStuff() { // do stuff! }\n    object.on('stuff', doStuff);\n     object.trigger('stuff'); // doStuff will be called\n     // Unregister ONLY the doStuff callback\n    object.off('stuff', doStuff);\n    object.trigger('stuff'); // doStuff will NOT be called\n    ```\n     If you don't pass a `callback` argument to `off`, ALL callbacks for the\n    event will not be executed when the event fires. For example:\n     ```javascript\n    let callback1 = function(){};\n    let callback2 = function(){};\n     object.on('stuff', callback1);\n    object.on('stuff', callback2);\n     object.trigger('stuff'); // callback1 and callback2 will be executed.\n     object.off('stuff');\n    object.trigger('stuff'); // callback1 and callback2 will not be executed!\n    ```\n     @method off\n    @for RSVP.EventTarget\n    @private\n    @param {String} eventName event to stop listening to\n    @param {Function} callback optional argument. If given, only the function\n    given will be removed from the event's callback queue. If no `callback`\n    argument is given, all callbacks will be removed from the event's callback\n    queue.\n  */\n  off: function off(eventName, callback) {\n    var allCallbacks = callbacksFor(this),\n        callbacks = undefined,\n        index = undefined;\n\n    if (!callback) {\n      allCallbacks[eventName] = [];\n      return;\n    }\n\n    callbacks = allCallbacks[eventName];\n\n    index = indexOf(callbacks, callback);\n\n    if (index !== -1) {\n      callbacks.splice(index, 1);\n    }\n  },\n\n  /**\n    Use `trigger` to fire custom events. For example:\n     ```javascript\n    object.on('foo', function(){\n      console.log('foo event happened!');\n    });\n    object.trigger('foo');\n    // 'foo event happened!' logged to the console\n    ```\n     You can also pass a value as a second argument to `trigger` that will be\n    passed as an argument to all event listeners for the event:\n     ```javascript\n    object.on('foo', function(value){\n      console.log(value.name);\n    });\n     object.trigger('foo', { name: 'bar' });\n    // 'bar' logged to the console\n    ```\n     @method trigger\n    @for RSVP.EventTarget\n    @private\n    @param {String} eventName name of the event to be triggered\n    @param {*} options optional value to be passed to any event handlers for\n    the given `eventName`\n  */\n  trigger: function trigger(eventName, options, label) {\n    var allCallbacks = callbacksFor(this),\n        callbacks = undefined,\n        callback = undefined;\n\n    if (callbacks = allCallbacks[eventName]) {\n      // Don't cache the callbacks.length since it may grow\n      for (var i = 0; i < callbacks.length; i++) {\n        callback = callbacks[i];\n\n        callback(options, label);\n      }\n    }\n  }\n};\n\nvar config = {\n  instrument: false\n};\n\nEventTarget['mixin'](config);\n\nfunction configure(name, value) {\n  if (name === 'onerror') {\n    // handle for legacy users that expect the actual\n    // error to be passed to their function added via\n    // `RSVP.configure('onerror', someFunctionHere);`\n    config['on']('error', value);\n    return;\n  }\n\n  if (arguments.length === 2) {\n    config[name] = value;\n  } else {\n    return config[name];\n  }\n}\n\nfunction objectOrFunction(x) {\n  return typeof x === 'function' || typeof x === 'object' && x !== null;\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nfunction isMaybeThenable(x) {\n  return typeof x === 'object' && x !== null;\n}\n\nvar _isArray = undefined;\nif (!Array.isArray) {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n} else {\n  _isArray = Array.isArray;\n}\n\nvar isArray = _isArray;\n\n// Date.now is not available in browsers < IE9\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now#Compatibility\nvar now = Date.now || function () {\n  return new Date().getTime();\n};\n\nfunction F() {}\n\nvar o_create = Object.create || function (o) {\n  if (arguments.length > 1) {\n    throw new Error('Second argument not supported');\n  }\n  if (typeof o !== 'object') {\n    throw new TypeError('Argument must be an object');\n  }\n  F.prototype = o;\n  return new F();\n};\n\nvar queue = [];\n\nfunction scheduleFlush() {\n  setTimeout(function () {\n    for (var i = 0; i < queue.length; i++) {\n      var entry = queue[i];\n\n      var payload = entry.payload;\n\n      payload.guid = payload.key + payload.id;\n      payload.childGuid = payload.key + payload.childId;\n      if (payload.error) {\n        payload.stack = payload.error.stack;\n      }\n\n      config['trigger'](entry.name, entry.payload);\n    }\n    queue.length = 0;\n  }, 50);\n}\nfunction instrument(eventName, promise, child) {\n  if (1 === queue.push({\n    name: eventName,\n    payload: {\n      key: promise._guidKey,\n      id: promise._id,\n      eventName: eventName,\n      detail: promise._result,\n      childId: child && child._id,\n      label: promise._label,\n      timeStamp: now(),\n      error: config[\"instrument-with-stack\"] ? new Error(promise._label) : null\n    } })) {\n    scheduleFlush();\n  }\n}\n\n/**\n  `RSVP.Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new RSVP.Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = RSVP.Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {*} object value that the returned promise will be resolved with\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object, label) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop, label);\n  resolve(promise, object);\n  return promise;\n}\n\nfunction withOwnPromise() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n  config.async(function (promise) {\n    var sealed = false;\n    var error = tryThen(then, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value, undefined);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    thenable._onError = null;\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      if (thenable !== value) {\n        resolve(promise, value, undefined);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$) {\n  if (maybeThenable.constructor === promise.constructor && then$$ === then && promise.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$ === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n    } else if (then$$ === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$)) {\n      handleForeignThenable(promise, maybeThenable, then$$);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    fulfill(promise, value);\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onError) {\n    promise._onError(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length === 0) {\n    if (config.instrument) {\n      instrument('fulfilled', promise);\n    }\n  } else {\n    config.async(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n  config.async(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var subscribers = parent._subscribers;\n  var length = subscribers.length;\n\n  parent._onError = null;\n\n  subscribers[length] = child;\n  subscribers[length + FULFILLED] = onFulfillment;\n  subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    config.async(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (config.instrument) {\n    instrument(settled === FULFILLED ? 'fulfilled' : 'rejected', promise);\n  }\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, withOwnPromise());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      resolve(promise, value);\n    } else if (failed) {\n      reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  var resolved = false;\n  try {\n    resolver(function (value) {\n      if (resolved) {\n        return;\n      }\n      resolved = true;\n      resolve(promise, value);\n    }, function (reason) {\n      if (resolved) {\n        return;\n      }\n      resolved = true;\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nfunction then(onFulfillment, onRejection, label) {\n  var _arguments = arguments;\n\n  var parent = this;\n  var state = parent._state;\n\n  if (state === FULFILLED && !onFulfillment || state === REJECTED && !onRejection) {\n    config.instrument && instrument('chained', parent, parent);\n    return parent;\n  }\n\n  parent._onError = null;\n\n  var child = new parent.constructor(noop, label);\n  var result = parent._result;\n\n  config.instrument && instrument('chained', parent, child);\n\n  if (state) {\n    (function () {\n      var callback = _arguments[state - 1];\n      config.async(function () {\n        return invokeCallback(state, child, callback, result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\nfunction makeSettledResult(state, position, value) {\n  if (state === FULFILLED) {\n    return {\n      state: 'fulfilled',\n      value: value\n    };\n  } else {\n    return {\n      state: 'rejected',\n      reason: value\n    };\n  }\n}\n\nfunction Enumerator(Constructor, input, abortOnReject, label) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop, label);\n  this._abortOnReject = abortOnReject;\n\n  if (this._validateInput(input)) {\n    this._input = input;\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._init();\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate();\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, this._validationError());\n  }\n}\n\nEnumerator.prototype._validateInput = function (input) {\n  return isArray(input);\n};\n\nEnumerator.prototype._validationError = function () {\n  return new Error('Array Methods must be provided an Array');\n};\n\nEnumerator.prototype._init = function () {\n  this._result = new Array(this.length);\n};\n\nEnumerator.prototype._enumerate = function () {\n  var length = this.length;\n  var promise = this.promise;\n  var input = this._input;\n\n  for (var i = 0; promise._state === PENDING && i < length; i++) {\n    this._eachEntry(input[i], i);\n  }\n};\n\nEnumerator.prototype._settleMaybeThenable = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve = c.resolve;\n\n  if (resolve === resolve$1) {\n    var then$$ = getThen(entry);\n\n    if (then$$ === then && entry._state !== PENDING) {\n      entry._onError = null;\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof then$$ !== 'function') {\n      this._remaining--;\n      this._result[i] = this._makeResult(FULFILLED, i, entry);\n    } else if (c === Promise) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, then$$);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve) {\n        return resolve(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve(entry), i);\n  }\n};\n\nEnumerator.prototype._eachEntry = function (entry, i) {\n  if (isMaybeThenable(entry)) {\n    this._settleMaybeThenable(entry, i);\n  } else {\n    this._remaining--;\n    this._result[i] = this._makeResult(FULFILLED, i, entry);\n  }\n};\n\nEnumerator.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (this._abortOnReject && state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = this._makeResult(state, i, value);\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator.prototype._makeResult = function (state, i, value) {\n  return value;\n};\n\nEnumerator.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `RSVP.Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.resolve(2);\n  let promise3 = RSVP.resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  RSVP.Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.reject(new Error(\"2\"));\n  let promise3 = RSVP.reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  RSVP.Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries, label) {\n  return new Enumerator(this, entries, true, /* abort on reject */label).promise;\n}\n\n/**\n  `RSVP.Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  RSVP.Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `RSVP.Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  RSVP.Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  RSVP.Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} entries array of promises to observe\n  @param {String} label optional string for describing the promise returned.\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries, label) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  var promise = new Constructor(noop, label);\n\n  if (!isArray(entries)) {\n    reject(promise, new TypeError('You must pass an array to race.'));\n    return promise;\n  }\n\n  for (var i = 0; promise._state === PENDING && i < entries.length; i++) {\n    subscribe(Constructor.resolve(entries[i]), undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n\n  return promise;\n}\n\n/**\n  `RSVP.Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new RSVP.Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = RSVP.Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {*} reason value that the returned promise will be rejected with.\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason, label) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop, label);\n  reject(promise, reason);\n  return promise;\n}\n\nvar guidKey = 'rsvp_' + now() + '-';\nvar counter = 0;\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise’s eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class RSVP.Promise\n  @param {function} resolver\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise(resolver, label) {\n  this._id = counter++;\n  this._label = label;\n  this._state = undefined;\n  this._result = undefined;\n  this._subscribers = [];\n\n  config.instrument && instrument('created', this);\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise.cast = resolve$1; // deprecated\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = resolve$1;\nPromise.reject = reject$1;\n\nPromise.prototype = {\n  constructor: Promise,\n\n  _guidKey: guidKey,\n\n  _onError: function _onError(reason) {\n    var promise = this;\n    config.after(function () {\n      if (promise._onError) {\n        config['trigger']('error', reason, promise._label);\n      }\n    });\n  },\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we\\'re unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we\\'re unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfillment\n    @param {Function} onRejection\n    @param {String} label optional string for labeling the promise.\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn\\'t find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    @param {String} label optional string for labeling the promise.\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection, label) {\n    return this.then(undefined, onRejection, label);\n  },\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @param {String} label optional string for labeling the promise.\n    Useful for tooling.\n    @return {Promise}\n  */\n  'finally': function _finally(callback, label) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    return promise.then(function (value) {\n      return constructor.resolve(callback()).then(function () {\n        return value;\n      });\n    }, function (reason) {\n      return constructor.resolve(callback()).then(function () {\n        throw reason;\n      });\n    }, label);\n  }\n};\n\nfunction Result() {\n  this.value = undefined;\n}\n\nvar ERROR = new Result();\nvar GET_THEN_ERROR$1 = new Result();\n\nfunction getThen$1(obj) {\n  try {\n    return obj.then;\n  } catch (error) {\n    ERROR.value = error;\n    return ERROR;\n  }\n}\n\nfunction tryApply(f, s, a) {\n  try {\n    f.apply(s, a);\n  } catch (error) {\n    ERROR.value = error;\n    return ERROR;\n  }\n}\n\nfunction makeObject(_, argumentNames) {\n  var obj = {};\n  var length = _.length;\n  var args = new Array(length);\n\n  for (var x = 0; x < length; x++) {\n    args[x] = _[x];\n  }\n\n  for (var i = 0; i < argumentNames.length; i++) {\n    var _name = argumentNames[i];\n    obj[_name] = args[i + 1];\n  }\n\n  return obj;\n}\n\nfunction arrayResult(_) {\n  var length = _.length;\n  var args = new Array(length - 1);\n\n  for (var i = 1; i < length; i++) {\n    args[i - 1] = _[i];\n  }\n\n  return args;\n}\n\nfunction wrapThenable(_then, promise) {\n  return {\n    then: function then(onFulFillment, onRejection) {\n      return _then.call(promise, onFulFillment, onRejection);\n    }\n  };\n}\n\n/**\n  `RSVP.denodeify` takes a 'node-style' function and returns a function that\n  will return an `RSVP.Promise`. You can use `denodeify` in Node.js or the\n  browser when you'd prefer to use promises over using callbacks. For example,\n  `denodeify` transforms the following:\n\n  ```javascript\n  let fs = require('fs');\n\n  fs.readFile('myfile.txt', function(err, data){\n    if (err) return handleError(err);\n    handleData(data);\n  });\n  ```\n\n  into:\n\n  ```javascript\n  let fs = require('fs');\n  let readFile = RSVP.denodeify(fs.readFile);\n\n  readFile('myfile.txt').then(handleData, handleError);\n  ```\n\n  If the node function has multiple success parameters, then `denodeify`\n  just returns the first one:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request'));\n\n  request('http://example.com').then(function(res) {\n    // ...\n  });\n  ```\n\n  However, if you need all success parameters, setting `denodeify`'s\n  second parameter to `true` causes it to return all success parameters\n  as an array:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request'), true);\n\n  request('http://example.com').then(function(result) {\n    // result[0] -> res\n    // result[1] -> body\n  });\n  ```\n\n  Or if you pass it an array with names it returns the parameters as a hash:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request'), ['res', 'body']);\n\n  request('http://example.com').then(function(result) {\n    // result.res\n    // result.body\n  });\n  ```\n\n  Sometimes you need to retain the `this`:\n\n  ```javascript\n  let app = require('express')();\n  let render = RSVP.denodeify(app.render.bind(app));\n  ```\n\n  The denodified function inherits from the original function. It works in all\n  environments, except IE 10 and below. Consequently all properties of the original\n  function are available to you. However, any properties you change on the\n  denodeified function won't be changed on the original function. Example:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request')),\n      cookieJar = request.jar(); // <- Inheritance is used here\n\n  request('http://example.com', {jar: cookieJar}).then(function(res) {\n    // cookieJar.cookies holds now the cookies returned by example.com\n  });\n  ```\n\n  Using `denodeify` makes it easier to compose asynchronous operations instead\n  of using callbacks. For example, instead of:\n\n  ```javascript\n  let fs = require('fs');\n\n  fs.readFile('myfile.txt', function(err, data){\n    if (err) { ... } // Handle error\n    fs.writeFile('myfile2.txt', data, function(err){\n      if (err) { ... } // Handle error\n      console.log('done')\n    });\n  });\n  ```\n\n  you can chain the operations together using `then` from the returned promise:\n\n  ```javascript\n  let fs = require('fs');\n  let readFile = RSVP.denodeify(fs.readFile);\n  let writeFile = RSVP.denodeify(fs.writeFile);\n\n  readFile('myfile.txt').then(function(data){\n    return writeFile('myfile2.txt', data);\n  }).then(function(){\n    console.log('done')\n  }).catch(function(error){\n    // Handle error\n  });\n  ```\n\n  @method denodeify\n  @static\n  @for RSVP\n  @param {Function} nodeFunc a 'node-style' function that takes a callback as\n  its last argument. The callback expects an error to be passed as its first\n  argument (if an error occurred, otherwise null), and the value from the\n  operation as its second argument ('function(err, value){ }').\n  @param {Boolean|Array} [options] An optional paramter that if set\n  to `true` causes the promise to fulfill with the callback's success arguments\n  as an array. This is useful if the node function has multiple success\n  paramters. If you set this paramter to an array with names, the promise will\n  fulfill with a hash with these names as keys and the success parameters as\n  values.\n  @return {Function} a function that wraps `nodeFunc` to return an\n  `RSVP.Promise`\n  @static\n*/\nfunction denodeify(nodeFunc, options) {\n  var fn = function fn() {\n    var self = this;\n    var l = arguments.length;\n    var args = new Array(l + 1);\n    var promiseInput = false;\n\n    for (var i = 0; i < l; ++i) {\n      var arg = arguments[i];\n\n      if (!promiseInput) {\n        // TODO: clean this up\n        promiseInput = needsPromiseInput(arg);\n        if (promiseInput === GET_THEN_ERROR$1) {\n          var p = new Promise(noop);\n          reject(p, GET_THEN_ERROR$1.value);\n          return p;\n        } else if (promiseInput && promiseInput !== true) {\n          arg = wrapThenable(promiseInput, arg);\n        }\n      }\n      args[i] = arg;\n    }\n\n    var promise = new Promise(noop);\n\n    args[l] = function (err, val) {\n      if (err) reject(promise, err);else if (options === undefined) resolve(promise, val);else if (options === true) resolve(promise, arrayResult(arguments));else if (isArray(options)) resolve(promise, makeObject(arguments, options));else resolve(promise, val);\n    };\n\n    if (promiseInput) {\n      return handlePromiseInput(promise, args, nodeFunc, self);\n    } else {\n      return handleValueInput(promise, args, nodeFunc, self);\n    }\n  };\n\n  fn.__proto__ = nodeFunc;\n\n  return fn;\n}\n\nfunction handleValueInput(promise, args, nodeFunc, self) {\n  var result = tryApply(nodeFunc, self, args);\n  if (result === ERROR) {\n    reject(promise, result.value);\n  }\n  return promise;\n}\n\nfunction handlePromiseInput(promise, args, nodeFunc, self) {\n  return Promise.all(args).then(function (args) {\n    var result = tryApply(nodeFunc, self, args);\n    if (result === ERROR) {\n      reject(promise, result.value);\n    }\n    return promise;\n  });\n}\n\nfunction needsPromiseInput(arg) {\n  if (arg && typeof arg === 'object') {\n    if (arg.constructor === Promise) {\n      return true;\n    } else {\n      return getThen$1(arg);\n    }\n  } else {\n    return false;\n  }\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.all`.\n\n  @method all\n  @static\n  @for RSVP\n  @param {Array} array Array of promises.\n  @param {String} label An optional label. This is useful\n  for tooling.\n*/\nfunction all$1(array, label) {\n  return Promise.all(array, label);\n}\n\nfunction AllSettled(Constructor, entries, label) {\n  this._superConstructor(Constructor, entries, false, /* don't abort on reject */label);\n}\n\nAllSettled.prototype = o_create(Enumerator.prototype);\nAllSettled.prototype._superConstructor = Enumerator;\nAllSettled.prototype._makeResult = makeSettledResult;\nAllSettled.prototype._validationError = function () {\n  return new Error('allSettled must be called with an array');\n};\n\n/**\n  `RSVP.allSettled` is similar to `RSVP.all`, but instead of implementing\n  a fail-fast method, it waits until all the promises have returned and\n  shows you all the results. This is useful if you want to handle multiple\n  promises' failure states together as a set.\n\n  Returns a promise that is fulfilled when all the given promises have been\n  settled. The return promise is fulfilled with an array of the states of\n  the promises passed into the `promises` array argument.\n\n  Each state object will either indicate fulfillment or rejection, and\n  provide the corresponding value or reason. The states will take one of\n  the following formats:\n\n  ```javascript\n  { state: 'fulfilled', value: value }\n    or\n  { state: 'rejected', reason: reason }\n  ```\n\n  Example:\n\n  ```javascript\n  let promise1 = RSVP.Promise.resolve(1);\n  let promise2 = RSVP.Promise.reject(new Error('2'));\n  let promise3 = RSVP.Promise.reject(new Error('3'));\n  let promises = [ promise1, promise2, promise3 ];\n\n  RSVP.allSettled(promises).then(function(array){\n    // array == [\n    //   { state: 'fulfilled', value: 1 },\n    //   { state: 'rejected', reason: Error },\n    //   { state: 'rejected', reason: Error }\n    // ]\n    // Note that for the second item, reason.message will be '2', and for the\n    // third item, reason.message will be '3'.\n  }, function(error) {\n    // Not run. (This block would only be called if allSettled had failed,\n    // for instance if passed an incorrect argument type.)\n  });\n  ```\n\n  @method allSettled\n  @static\n  @for RSVP\n  @param {Array} entries\n  @param {String} label - optional string that describes the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled with an array of the settled\n  states of the constituent promises.\n*/\nfunction allSettled(entries, label) {\n  return new AllSettled(Promise, entries, label).promise;\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.race`.\n\n  @method race\n  @static\n  @for RSVP\n  @param {Array} array Array of promises.\n  @param {String} label An optional label. This is useful\n  for tooling.\n */\nfunction race$1(array, label) {\n  return Promise.race(array, label);\n}\n\nfunction PromiseHash(Constructor, object, label) {\n  this._superConstructor(Constructor, object, true, label);\n}\n\nPromiseHash.prototype = o_create(Enumerator.prototype);\nPromiseHash.prototype._superConstructor = Enumerator;\nPromiseHash.prototype._init = function () {\n  this._result = {};\n};\n\nPromiseHash.prototype._validateInput = function (input) {\n  return input && typeof input === 'object';\n};\n\nPromiseHash.prototype._validationError = function () {\n  return new Error('Promise.hash must be called with an object');\n};\n\nPromiseHash.prototype._enumerate = function () {\n  var enumerator = this;\n  var promise = enumerator.promise;\n  var input = enumerator._input;\n  var results = [];\n\n  for (var key in input) {\n    if (promise._state === PENDING && Object.prototype.hasOwnProperty.call(input, key)) {\n      results.push({\n        position: key,\n        entry: input[key]\n      });\n    }\n  }\n\n  var length = results.length;\n  enumerator._remaining = length;\n  var result = undefined;\n\n  for (var i = 0; promise._state === PENDING && i < length; i++) {\n    result = results[i];\n    enumerator._eachEntry(result.entry, result.position);\n  }\n};\n\n/**\n  `RSVP.hash` is similar to `RSVP.all`, but takes an object instead of an array\n  for its `promises` argument.\n\n  Returns a promise that is fulfilled when all the given promises have been\n  fulfilled, or rejected if any of them become rejected. The returned promise\n  is fulfilled with a hash that has the same key names as the `promises` object\n  argument. If any of the values in the object are not promises, they will\n  simply be copied over to the fulfilled object.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.resolve(1),\n    yourPromise: RSVP.resolve(2),\n    theirPromise: RSVP.resolve(3),\n    notAPromise: 4\n  };\n\n  RSVP.hash(promises).then(function(hash){\n    // hash here is an object that looks like:\n    // {\n    //   myPromise: 1,\n    //   yourPromise: 2,\n    //   theirPromise: 3,\n    //   notAPromise: 4\n    // }\n  });\n  ````\n\n  If any of the `promises` given to `RSVP.hash` are rejected, the first promise\n  that is rejected will be given as the reason to the rejection handler.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.resolve(1),\n    rejectedPromise: RSVP.reject(new Error('rejectedPromise')),\n    anotherRejectedPromise: RSVP.reject(new Error('anotherRejectedPromise')),\n  };\n\n  RSVP.hash(promises).then(function(hash){\n    // Code here never runs because there are rejected promises!\n  }, function(reason) {\n    // reason.message === 'rejectedPromise'\n  });\n  ```\n\n  An important note: `RSVP.hash` is intended for plain JavaScript objects that\n  are just a set of keys and values. `RSVP.hash` will NOT preserve prototype\n  chains.\n\n  Example:\n\n  ```javascript\n  function MyConstructor(){\n    this.example = RSVP.resolve('Example');\n  }\n\n  MyConstructor.prototype = {\n    protoProperty: RSVP.resolve('Proto Property')\n  };\n\n  let myObject = new MyConstructor();\n\n  RSVP.hash(myObject).then(function(hash){\n    // protoProperty will not be present, instead you will just have an\n    // object that looks like:\n    // {\n    //   example: 'Example'\n    // }\n    //\n    // hash.hasOwnProperty('protoProperty'); // false\n    // 'undefined' === typeof hash.protoProperty\n  });\n  ```\n\n  @method hash\n  @static\n  @for RSVP\n  @param {Object} object\n  @param {String} label optional string that describes the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all properties of `promises`\n  have been fulfilled, or rejected if any of them become rejected.\n*/\nfunction hash(object, label) {\n  return new PromiseHash(Promise, object, label).promise;\n}\n\nfunction HashSettled(Constructor, object, label) {\n  this._superConstructor(Constructor, object, false, label);\n}\n\nHashSettled.prototype = o_create(PromiseHash.prototype);\nHashSettled.prototype._superConstructor = Enumerator;\nHashSettled.prototype._makeResult = makeSettledResult;\n\nHashSettled.prototype._validationError = function () {\n  return new Error('hashSettled must be called with an object');\n};\n\n/**\n  `RSVP.hashSettled` is similar to `RSVP.allSettled`, but takes an object\n  instead of an array for its `promises` argument.\n\n  Unlike `RSVP.all` or `RSVP.hash`, which implement a fail-fast method,\n  but like `RSVP.allSettled`, `hashSettled` waits until all the\n  constituent promises have returned and then shows you all the results\n  with their states and values/reasons. This is useful if you want to\n  handle multiple promises' failure states together as a set.\n\n  Returns a promise that is fulfilled when all the given promises have been\n  settled, or rejected if the passed parameters are invalid.\n\n  The returned promise is fulfilled with a hash that has the same key names as\n  the `promises` object argument. If any of the values in the object are not\n  promises, they will be copied over to the fulfilled object and marked with state\n  'fulfilled'.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.Promise.resolve(1),\n    yourPromise: RSVP.Promise.resolve(2),\n    theirPromise: RSVP.Promise.resolve(3),\n    notAPromise: 4\n  };\n\n  RSVP.hashSettled(promises).then(function(hash){\n    // hash here is an object that looks like:\n    // {\n    //   myPromise: { state: 'fulfilled', value: 1 },\n    //   yourPromise: { state: 'fulfilled', value: 2 },\n    //   theirPromise: { state: 'fulfilled', value: 3 },\n    //   notAPromise: { state: 'fulfilled', value: 4 }\n    // }\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.hash` are rejected, the state will\n  be set to 'rejected' and the reason for rejection provided.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.Promise.resolve(1),\n    rejectedPromise: RSVP.Promise.reject(new Error('rejection')),\n    anotherRejectedPromise: RSVP.Promise.reject(new Error('more rejection')),\n  };\n\n  RSVP.hashSettled(promises).then(function(hash){\n    // hash here is an object that looks like:\n    // {\n    //   myPromise:              { state: 'fulfilled', value: 1 },\n    //   rejectedPromise:        { state: 'rejected', reason: Error },\n    //   anotherRejectedPromise: { state: 'rejected', reason: Error },\n    // }\n    // Note that for rejectedPromise, reason.message == 'rejection',\n    // and for anotherRejectedPromise, reason.message == 'more rejection'.\n  });\n  ```\n\n  An important note: `RSVP.hashSettled` is intended for plain JavaScript objects that\n  are just a set of keys and values. `RSVP.hashSettled` will NOT preserve prototype\n  chains.\n\n  Example:\n\n  ```javascript\n  function MyConstructor(){\n    this.example = RSVP.Promise.resolve('Example');\n  }\n\n  MyConstructor.prototype = {\n    protoProperty: RSVP.Promise.resolve('Proto Property')\n  };\n\n  let myObject = new MyConstructor();\n\n  RSVP.hashSettled(myObject).then(function(hash){\n    // protoProperty will not be present, instead you will just have an\n    // object that looks like:\n    // {\n    //   example: { state: 'fulfilled', value: 'Example' }\n    // }\n    //\n    // hash.hasOwnProperty('protoProperty'); // false\n    // 'undefined' === typeof hash.protoProperty\n  });\n  ```\n\n  @method hashSettled\n  @for RSVP\n  @param {Object} object\n  @param {String} label optional string that describes the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when when all properties of `promises`\n  have been settled.\n  @static\n*/\nfunction hashSettled(object, label) {\n  return new HashSettled(Promise, object, label).promise;\n}\n\nfunction rethrow(reason) {\n  setTimeout(function () {\n    throw reason;\n  });\n  throw reason;\n}\n\n/**\n  `RSVP.defer` returns an object similar to jQuery's `$.Deferred`.\n  `RSVP.defer` should be used when porting over code reliant on `$.Deferred`'s\n  interface. New code should use the `RSVP.Promise` constructor instead.\n\n  The object returned from `RSVP.defer` is a plain object with three properties:\n\n  * promise - an `RSVP.Promise`.\n  * reject - a function that causes the `promise` property on this object to\n    become rejected\n  * resolve - a function that causes the `promise` property on this object to\n    become fulfilled.\n\n  Example:\n\n   ```javascript\n   let deferred = RSVP.defer();\n\n   deferred.resolve(\"Success!\");\n\n   deferred.promise.then(function(value){\n     // value here is \"Success!\"\n   });\n   ```\n\n  @method defer\n  @static\n  @for RSVP\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Object}\n */\nfunction defer(label) {\n  var deferred = { resolve: undefined, reject: undefined };\n\n  deferred.promise = new Promise(function (resolve, reject) {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  }, label);\n\n  return deferred;\n}\n\n/**\n `RSVP.map` is similar to JavaScript's native `map` method, except that it\n  waits for all promises to become fulfilled before running the `mapFn` on\n  each item in given to `promises`. `RSVP.map` returns a promise that will\n  become fulfilled with the result of running `mapFn` on the values the promises\n  become fulfilled with.\n\n  For example:\n\n  ```javascript\n\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.resolve(2);\n  let promise3 = RSVP.resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  let mapFn = function(item){\n    return item + 1;\n  };\n\n  RSVP.map(promises, mapFn).then(function(result){\n    // result is [ 2, 3, 4 ]\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.map` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promise's\n  rejection handler. For example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.reject(new Error('2'));\n  let promise3 = RSVP.reject(new Error('3'));\n  let promises = [ promise1, promise2, promise3 ];\n\n  let mapFn = function(item){\n    return item + 1;\n  };\n\n  RSVP.map(promises, mapFn).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(reason) {\n    // reason.message === '2'\n  });\n  ```\n\n  `RSVP.map` will also wait if a promise is returned from `mapFn`. For example,\n  say you want to get all comments from a set of blog posts, but you need\n  the blog posts first because they contain a url to those comments.\n\n  ```javscript\n\n  let mapFn = function(blogPost){\n    // getComments does some ajax and returns an RSVP.Promise that is fulfilled\n    // with some comments data\n    return getComments(blogPost.comments_url);\n  };\n\n  // getBlogPosts does some ajax and returns an RSVP.Promise that is fulfilled\n  // with some blog post data\n  RSVP.map(getBlogPosts(), mapFn).then(function(comments){\n    // comments is the result of asking the server for the comments\n    // of all blog posts returned from getBlogPosts()\n  });\n  ```\n\n  @method map\n  @static\n  @for RSVP\n  @param {Array} promises\n  @param {Function} mapFn function to be called on each fulfilled promise.\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled with the result of calling\n  `mapFn` on each fulfilled promise or value when they become fulfilled.\n   The promise will be rejected if any of the given `promises` become rejected.\n  @static\n*/\nfunction map(promises, mapFn, label) {\n  return Promise.all(promises, label).then(function (values) {\n    if (!isFunction(mapFn)) {\n      throw new TypeError(\"You must pass a function as map's second argument.\");\n    }\n\n    var length = values.length;\n    var results = new Array(length);\n\n    for (var i = 0; i < length; i++) {\n      results[i] = mapFn(values[i]);\n    }\n\n    return Promise.all(results, label);\n  });\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.resolve`.\n\n  @method resolve\n  @static\n  @for RSVP\n  @param {*} value value that the returned promise will be resolved with\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$2(value, label) {\n  return Promise.resolve(value, label);\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.reject`.\n\n  @method reject\n  @static\n  @for RSVP\n  @param {*} reason value that the returned promise will be rejected with.\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$2(reason, label) {\n  return Promise.reject(reason, label);\n}\n\n/**\n `RSVP.filter` is similar to JavaScript's native `filter` method, except that it\n  waits for all promises to become fulfilled before running the `filterFn` on\n  each item in given to `promises`. `RSVP.filter` returns a promise that will\n  become fulfilled with the result of running `filterFn` on the values the\n  promises become fulfilled with.\n\n  For example:\n\n  ```javascript\n\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.resolve(2);\n  let promise3 = RSVP.resolve(3);\n\n  let promises = [promise1, promise2, promise3];\n\n  let filterFn = function(item){\n    return item > 1;\n  };\n\n  RSVP.filter(promises, filterFn).then(function(result){\n    // result is [ 2, 3 ]\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.filter` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promise's\n  rejection handler. For example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.reject(new Error('2'));\n  let promise3 = RSVP.reject(new Error('3'));\n  let promises = [ promise1, promise2, promise3 ];\n\n  let filterFn = function(item){\n    return item > 1;\n  };\n\n  RSVP.filter(promises, filterFn).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(reason) {\n    // reason.message === '2'\n  });\n  ```\n\n  `RSVP.filter` will also wait for any promises returned from `filterFn`.\n  For instance, you may want to fetch a list of users then return a subset\n  of those users based on some asynchronous operation:\n\n  ```javascript\n\n  let alice = { name: 'alice' };\n  let bob   = { name: 'bob' };\n  let users = [ alice, bob ];\n\n  let promises = users.map(function(user){\n    return RSVP.resolve(user);\n  });\n\n  let filterFn = function(user){\n    // Here, Alice has permissions to create a blog post, but Bob does not.\n    return getPrivilegesForUser(user).then(function(privs){\n      return privs.can_create_blog_post === true;\n    });\n  };\n  RSVP.filter(promises, filterFn).then(function(users){\n    // true, because the server told us only Alice can create a blog post.\n    users.length === 1;\n    // false, because Alice is the only user present in `users`\n    users[0] === bob;\n  });\n  ```\n\n  @method filter\n  @static\n  @for RSVP\n  @param {Array} promises\n  @param {Function} filterFn - function to be called on each resolved value to\n  filter the final results.\n  @param {String} label optional string describing the promise. Useful for\n  tooling.\n  @return {Promise}\n*/\n\nfunction resolveAll(promises, label) {\n  return Promise.all(promises, label);\n}\n\nfunction resolveSingle(promise, label) {\n  return Promise.resolve(promise, label).then(function (promises) {\n    return resolveAll(promises, label);\n  });\n}\nfunction filter(promises, filterFn, label) {\n  var promise = isArray(promises) ? resolveAll(promises, label) : resolveSingle(promises, label);\n  return promise.then(function (values) {\n    if (!isFunction(filterFn)) {\n      throw new TypeError(\"You must pass a function as filter's second argument.\");\n    }\n\n    var length = values.length;\n    var filtered = new Array(length);\n\n    for (var i = 0; i < length; i++) {\n      filtered[i] = filterFn(values[i]);\n    }\n\n    return resolveAll(filtered, label).then(function (filtered) {\n      var results = new Array(length);\n      var newLength = 0;\n\n      for (var i = 0; i < length; i++) {\n        if (filtered[i]) {\n          results[newLength] = values[i];\n          newLength++;\n        }\n      }\n\n      results.length = newLength;\n\n      return results;\n    });\n  });\n}\n\nvar len = 0;\nvar vertxNext = undefined;\nfunction asap(callback, arg) {\n  queue$1[len] = callback;\n  queue$1[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 1, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    scheduleFlush$1();\n  }\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  var nextTick = process.nextTick;\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // setImmediate should be used instead instead\n  var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n  if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n    nextTick = setImmediate;\n  }\n  return function () {\n    return nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    return node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  return function () {\n    return setTimeout(flush, 1);\n  };\n}\n\nvar queue$1 = new Array(1000);\n\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue$1[i];\n    var arg = queue$1[i + 1];\n\n    callback(arg);\n\n    queue$1[i] = undefined;\n    queue$1[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertex() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush$1 = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush$1 = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush$1 = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush$1 = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush$1 = attemptVertex();\n} else {\n  scheduleFlush$1 = useSetTimeout();\n}\n\nvar platform = undefined;\n\n/* global self */\nif (typeof self === 'object') {\n  platform = self;\n\n  /* global global */\n} else if (typeof global === 'object') {\n    platform = global;\n  } else {\n    throw new Error('no global: `self` or `global` found');\n  }\n\nvar _async$filter;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// defaults\n\n// the default export here is for backwards compat:\n//   https://github.com/tildeio/rsvp.js/issues/434\nconfig.async = asap;\nconfig.after = function (cb) {\n  return setTimeout(cb, 0);\n};\nvar cast = resolve$2;\n\nvar async = function async(callback, arg) {\n  return config.async(callback, arg);\n};\n\nfunction on() {\n  config['on'].apply(config, arguments);\n}\n\nfunction off() {\n  config['off'].apply(config, arguments);\n}\n\n// Set up instrumentation through `window.__PROMISE_INTRUMENTATION__`\nif (typeof window !== 'undefined' && typeof window['__PROMISE_INSTRUMENTATION__'] === 'object') {\n  var callbacks = window['__PROMISE_INSTRUMENTATION__'];\n  configure('instrument', true);\n  for (var eventName in callbacks) {\n    if (callbacks.hasOwnProperty(eventName)) {\n      on(eventName, callbacks[eventName]);\n    }\n  }\n}var rsvp = (_async$filter = {\n  cast: cast,\n  Promise: Promise,\n  EventTarget: EventTarget,\n  all: all$1,\n  allSettled: allSettled,\n  race: race$1,\n  hash: hash,\n  hashSettled: hashSettled,\n  rethrow: rethrow,\n  defer: defer,\n  denodeify: denodeify,\n  configure: configure,\n  on: on,\n  off: off,\n  resolve: resolve$2,\n  reject: reject$2,\n  map: map\n}, _defineProperty(_async$filter, 'async', async), _defineProperty(_async$filter, 'filter', // babel seems to error if async isn't a computed prop here...\nfilter), _async$filter);\n\nexports['default'] = rsvp;\nexports.cast = cast;\nexports.Promise = Promise;\nexports.EventTarget = EventTarget;\nexports.all = all$1;\nexports.allSettled = allSettled;\nexports.race = race$1;\nexports.hash = hash;\nexports.hashSettled = hashSettled;\nexports.rethrow = rethrow;\nexports.defer = defer;\nexports.denodeify = denodeify;\nexports.configure = configure;\nexports.on = on;\nexports.off = off;\nexports.resolve = resolve$2;\nexports.reject = reject$2;\nexports.map = map;\nexports.async = async;\nexports.filter = filter;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"_process\":29}]},{},[18])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9hcHAvY29uc3RydWN0b3IuanMiLCJqcy9hcHAvaW5kZXguanMiLCJqcy9iZWFuL2NhdGVnb3J5LmpzIiwianMvYmVhbi9pbmRleC5qcyIsImpzL2JlYW4vbGFuZ3VhZ2UuanMiLCJqcy9kb20vaW5kZXguanMiLCJqcy9kb20vaW5pdF9jYXRlZ29yaWVzLmpzIiwianMvZG9tL2luaXRfZWRpdG9yLmpzIiwianMvZG9tL3NldF9sYW5ndWFnZS5qcyIsImpzL2RvbS9zZXR1cF9sYXlvdXQuanMiLCJqcy9kb20vc2V0dXBfbWFpbi9pbmRleC5qcyIsImpzL2RvbS9zZXR1cF9tYWluL3NldHVwX2xhbmd1YWdlcy5qcyIsImpzL2RvbS9zZXR1cF9tYWluL3NldHVwX3Ntb290aF9zY3JvbGwuanMiLCJqcy9kb20vc2V0dXBfbWFpbi9zZXR1cF9zdGlja190b19ib3R0b20uanMiLCJqcy9kb20vdmlld19jb2RlLmpzIiwianMvZG9tL3ZpZXdfY29tcGFyaXNvbi5qcyIsImpzL2RvbS92aWV3X2Rlc2MuanMiLCJqcy9pbmRleC5qcyIsImpzL3NlcnZlci9hamF4L2dldC5qcyIsImpzL3NlcnZlci9hamF4L3JlcXVlc3QuanMiLCJqcy9zZXJ2ZXIvZ2V0X2NhdGVnb3JpZXMuanMiLCJqcy9zZXJ2ZXIvZ2V0X2xhbmd1YWdlcy5qcyIsImpzL3NlcnZlci9pbmRleC5qcyIsImpzL3NlcnZlci9sb2FkX2NvZGUuanMiLCJqcy9zZXJ2ZXIvbG9hZF9kZXNjLmpzIiwianMvc3RvcmFnZS9pbmRleC5qcyIsImpzL3N0b3JhZ2UvbGFuZ3VhZ2UuanMiLCJqcy9zdG9yYWdlL21hbmFnZXIuanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3JzdnAvZGlzdC9yc3ZwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7U0NBaUIsQztJQUFWLE0sTUFBQSxNOzs7QUFFUCxJQUFNLFlBQVk7QUFDaEIsWUFBVSxJQURNO0FBRWhCLFVBQVEsSUFGUTtBQUdoQixhQUFXO0FBSEssQ0FBbEI7O0FBTUEsT0FBTyxPQUFQLEdBQWlCLFlBQVk7QUFBQTs7QUFDM0IsT0FBSyxLQUFMLEdBQWEsQ0FDWCxPQUFPLElBQVAsRUFBYSxFQUFiLEVBQWlCLFNBQWpCLENBRFcsRUFFWCxPQUFPLElBQVAsRUFBYSxFQUFiLEVBQWlCLFNBQWpCLENBRlcsQ0FBYjs7QUFLQSxPQUFLLFdBQUwsR0FBbUIsVUFBQyxLQUFELEVBQVEsUUFBUixFQUFxQjtBQUN0QyxVQUFLLEtBQUwsQ0FBVyxLQUFYLEVBQWtCLFFBQWxCLEdBQTZCLFFBQTdCO0FBQ0QsR0FGRDs7QUFJQSxPQUFLLFNBQUwsR0FBaUIsVUFBQyxLQUFELEVBQVEsTUFBUixFQUFtQjtBQUNsQyxVQUFLLEtBQUwsQ0FBVyxLQUFYLEVBQWtCLE1BQWxCLEdBQTJCLE1BQTNCO0FBQ0QsR0FGRDs7QUFJQSxPQUFLLFlBQUwsR0FBb0IsVUFBQyxLQUFELEVBQVEsU0FBUixFQUFzQjtBQUN4QyxVQUFLLEtBQUwsQ0FBVyxLQUFYLEVBQWtCLFNBQWxCLEdBQThCLFNBQTlCO0FBQ0QsR0FGRDs7QUFJQSxPQUFLLFdBQUwsR0FBb0IsaUJBQVM7QUFDM0IsV0FBTyxNQUFLLEtBQUwsQ0FBVyxLQUFYLEVBQWtCLFFBQXpCO0FBQ0QsR0FGRDs7QUFJQSxPQUFLLFNBQUwsR0FBaUIsVUFBQyxLQUFELEVBQVc7QUFDMUIsV0FBTyxNQUFLLEtBQUwsQ0FBVyxLQUFYLEVBQWtCLE1BQXpCO0FBQ0QsR0FGRDs7QUFJQSxPQUFLLFlBQUwsR0FBb0IsVUFBQyxLQUFELEVBQVc7QUFDN0IsV0FBTyxNQUFLLEtBQUwsQ0FBVyxLQUFYLEVBQWtCLFNBQXpCO0FBQ0QsR0FGRDtBQUdELENBN0JEOzs7OztBQ1JBLE9BQU8sT0FBUCxHQUFpQixFQUFqQjs7Ozs7Ozs7O0FDQUEsT0FBTyxPQUFQO0FBQ0Usa0JBQVksSUFBWixFQUFrQixHQUFsQixFQUFzQztBQUFBOztBQUFBLFFBQWYsUUFBZSx1RUFBSixFQUFJOztBQUFBOztBQUNwQyxTQUFLLE1BQUwsR0FBYyxJQUFkO0FBQ0EsU0FBSyxJQUFMLEdBQVksSUFBWjtBQUNBLFNBQUssR0FBTCxHQUFXLEdBQVg7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsUUFBaEI7QUFDQSxhQUFTLE9BQVQsQ0FBaUIsaUJBQVM7QUFDeEIsWUFBTSxNQUFOO0FBQ0QsS0FGRDtBQUdEOztBQVRIO0FBQUE7QUFBQSx3QkFXTSxLQVhOLEVBV2E7QUFDVCxhQUFPLEtBQUssUUFBTCxDQUFjLEtBQWQsQ0FBUDtBQUNEO0FBYkg7O0FBQUE7QUFBQTs7Ozs7QUNBQSxJQUFNLFdBQVcsUUFBUSxZQUFSLENBQWpCO0FBQ0EsSUFBTSxXQUFXLFFBQVEsWUFBUixDQUFqQjs7QUFFQSxPQUFPLE9BQVAsR0FBaUI7QUFDZixvQkFEZTtBQUVmO0FBRmUsQ0FBakI7Ozs7Ozs7OztBQ0hBLE9BQU8sT0FBUDtBQUNFLGtCQUFZLElBQVosRUFBa0IsR0FBbEIsRUFBdUIsR0FBdkIsRUFBNEI7QUFBQTs7QUFDMUIsU0FBSyxJQUFMLEdBQVksSUFBWjtBQUNBLFNBQUssR0FBTCxHQUFXLEdBQVg7QUFDQSxTQUFLLEdBQUwsR0FBVyxHQUFYO0FBQ0Q7O0FBTEg7QUFBQTtBQUFBLCtCQU9vQixHQVBwQixFQU95QjtBQUNyQixVQUFNLFNBQVMsUUFBUSxXQUFSLENBQWY7QUFDQSxVQUFNLFlBQVksT0FBTyxZQUFQLEVBQWxCO0FBRnFCO0FBQUE7QUFBQTs7QUFBQTtBQUdyQiw2QkFBdUIsU0FBdkIsOEhBQWtDO0FBQUEsY0FBdkIsUUFBdUI7O0FBQ2hDLGNBQUksU0FBUyxHQUFULElBQWdCLEdBQXBCLEVBQXlCLE9BQU8sUUFBUDtBQUMxQjtBQUxvQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTXRCO0FBYkg7O0FBQUE7QUFBQTs7Ozs7QUNBQSxJQUFNLFlBQVksUUFBUSxjQUFSLENBQWxCO0FBQ0EsSUFBTSxhQUFhLFFBQVEsZUFBUixDQUFuQjtBQUNBLElBQU0saUJBQWlCLFFBQVEsbUJBQVIsQ0FBdkI7QUFDQSxJQUFNLGNBQWMsUUFBUSxnQkFBUixDQUFwQjtBQUNBLElBQU0sY0FBYyxRQUFRLGdCQUFSLENBQXBCO0FBQ0EsSUFBTSxXQUFXLFFBQVEsYUFBUixDQUFqQjtBQUNBLElBQU0sV0FBVyxRQUFRLGFBQVIsQ0FBakI7QUFDQSxJQUFNLGlCQUFpQixRQUFRLG1CQUFSLENBQXZCOztBQUVBLE9BQU8sT0FBUCxHQUFpQjtBQUNmLHNCQURlO0FBRWYsd0JBRmU7QUFHZixnQ0FIZTtBQUlmLDBCQUplO0FBS2YsMEJBTGU7QUFNZixvQkFOZTtBQU9mLG9CQVBlO0FBUWY7QUFSZSxDQUFqQjs7Ozs7QUNUQSxJQUFNLE9BQU8sUUFBUSxNQUFSLENBQWI7QUFDQSxJQUFNLFNBQVMsUUFBUSxXQUFSLENBQWY7QUFDQSxJQUFNLE1BQU0sUUFBUSxRQUFSLENBQVo7QUFDQSxJQUFNLFdBQVcsUUFBUSxhQUFSLENBQWpCO0FBQ0EsSUFBTSxXQUFXLFFBQVEsYUFBUixDQUFqQjs7QUFFQSxJQUFNLE9BQU8sQ0FBYjtBQUFBLElBQWdCLEtBQUssQ0FBckI7O0FBRUEsSUFBTSxlQUFlLFNBQWYsWUFBZSxDQUFDLEtBQUQsRUFBUSxRQUFSLEVBQWtCLFFBQWxCLEVBQStCO0FBQ2xELFNBQU8sSUFBSSxLQUFLLE9BQVQsQ0FBaUIsbUJBQVc7QUFDakMsV0FBTyxRQUFQLENBQWdCLFFBQWhCLEVBQTBCLFFBQTFCLEVBQW9DLElBQXBDLENBQXlDLFVBQUMsSUFBRCxFQUFVO0FBQ2pELGVBQVMsS0FBVCxFQUFnQixRQUFoQixFQUEwQixJQUExQjtBQUNBO0FBQ0QsS0FIRDtBQUlBLFFBQUksU0FBUyxFQUFiLEVBQWlCO0FBQ2YsYUFBTyxRQUFQLENBQWdCLFFBQWhCLEVBQTBCLFFBQTFCLEVBQW9DLElBQXBDLENBQXlDLFFBQXpDO0FBQ0Q7QUFDRixHQVJNLENBQVA7QUFTRCxDQVZEOztBQVlBLE9BQU8sT0FBUCxHQUFpQixzQkFBYztBQUM3QixNQUFNLFNBQVMsRUFBRSxRQUFGLENBQWY7QUFDQSxhQUFXLE9BQVgsQ0FBbUIsVUFBQyxRQUFELEVBQVcsQ0FBWCxFQUFpQjtBQUNsQyxXQUFPLE1BQVAsV0FBcUIsSUFBSSxDQUF6QixXQUErQixTQUFTLElBQXhDO0FBQ0EsUUFBTSxhQUFhLHNDQUFvQyxDQUFwQyxhQUFuQjtBQUNBLFdBQU8sTUFBUCxDQUFjLFVBQWQ7QUFDQSxhQUFTLFFBQVQsQ0FBa0IsT0FBbEIsQ0FBMEIsVUFBQyxRQUFELEVBQVcsQ0FBWCxFQUFpQjtBQUN6QyxpQkFBVyxNQUFYLDRCQUEyQyxDQUEzQyxVQUFpRCxTQUFTLElBQTFEO0FBQ0QsS0FGRDtBQUdELEdBUEQ7O0FBU0EsSUFBRSxhQUFGLEVBQWlCLEtBQWpCLENBQXVCLFlBQVk7QUFDakMsTUFBRSxvQkFBRixFQUF3QixXQUF4QixDQUFvQyxRQUFwQztBQUNBLE1BQUUsSUFBRixFQUFRLFFBQVIsQ0FBaUIsUUFBakI7QUFDRCxHQUhEOztBQUtBLElBQUUsYUFBRixFQUFpQixLQUFqQixDQUF1QixZQUFZO0FBQ2pDLE1BQUUsb0JBQUYsRUFBd0IsV0FBeEIsQ0FBb0MsUUFBcEM7QUFDQSxNQUFFLElBQUYsRUFBUSxRQUFSLENBQWlCLFFBQWpCO0FBQ0EsUUFBTSxNQUFNLEVBQUUsSUFBRixDQUFaO0FBQ0EsUUFBTSxNQUFNLEVBQUUsSUFBRixFQUFRLE1BQVIsRUFBWjtBQUNBLGlCQUFhLElBQWIsRUFBbUIsV0FBVyxJQUFJLElBQUosQ0FBUyxVQUFULENBQVgsRUFBaUMsR0FBakMsQ0FBcUMsSUFBSSxJQUFKLENBQVMsYUFBVCxDQUFyQyxDQUFuQixFQUFrRixJQUFJLFdBQUosQ0FBZ0IsSUFBaEIsQ0FBbEY7QUFDQSxpQkFBYSxFQUFiLEVBQWlCLFdBQVcsSUFBSSxJQUFKLENBQVMsVUFBVCxDQUFYLEVBQWlDLEdBQWpDLENBQXFDLElBQUksSUFBSixDQUFTLGFBQVQsQ0FBckMsQ0FBakIsRUFBZ0YsSUFBSSxXQUFKLENBQWdCLEVBQWhCLENBQWhGO0FBQ0QsR0FQRDs7QUFTQSxJQUFFLG1CQUFGLEVBQXVCLEtBQXZCO0FBQ0EsSUFBRSxtQkFBRixFQUF1QixLQUF2QjtBQUNELENBM0JEOzs7OztBQ3BCQSxJQUFNLE1BQU0sUUFBUSxRQUFSLENBQVo7O0FBRUEsT0FBTyxPQUFQLEdBQWlCLFVBQUMsS0FBRCxFQUFRLFFBQVIsRUFBa0IsV0FBbEIsRUFBa0M7QUFDakQsTUFBTSxTQUFTLGlCQUFlLEtBQWYsT0FBZjtBQUNBLE1BQU0sUUFBUSxPQUFPLElBQVAsQ0FBWSxPQUFaLENBQWQ7QUFDQSxNQUFJLFNBQVMsSUFBSSxJQUFKLENBQVMsTUFBTSxJQUFOLENBQVcsSUFBWCxDQUFULENBQWI7QUFDQSxTQUFPLFFBQVAsQ0FBZ0IsbUJBQWhCO0FBQ0EsTUFBSSxTQUFTLENBQWIsRUFBZ0IsT0FBTyxJQUFQLENBQVksT0FBWixFQUFxQixRQUFyQixDQUE4QixhQUE5QjtBQUNoQixTQUFPLFVBQVAsR0FBb0IsT0FBcEIsZUFBd0MsU0FBUyxHQUFqRDtBQUNBLFNBQU8sUUFBUCxDQUFnQixFQUFoQixDQUFtQixhQUFuQixFQUFrQyxZQUFNO0FBQ3RDLFFBQU0sWUFBWSxJQUFJLFlBQUosQ0FBaUIsS0FBakIsQ0FBbEI7QUFDQSxRQUFJLENBQUMsU0FBRCxJQUFjLFVBQVUsTUFBVixJQUFvQixDQUF0QyxFQUF5QztBQUN6QyxRQUFJLElBQUksQ0FBUjtBQUNBLFFBQUksV0FBVyxVQUFVLENBQVYsRUFBYSxLQUFiLENBQW1CLENBQW5CLENBQWY7QUFDQSxRQUFNLFNBQVMsTUFBTSxJQUFOLENBQVcsTUFBWCxDQUFmO0FBQ0EsV0FBTyxJQUFQLENBQVksWUFBWTtBQUN0QixVQUFNLFFBQVEsRUFBRSxJQUFGLENBQWQ7QUFDQSxVQUFNLE9BQU8sTUFBTSxJQUFOLEVBQWI7QUFDQSxVQUFJLEtBQUssT0FBTCxDQUFhLFNBQVMsQ0FBVCxDQUFiLEtBQTZCLENBQWpDLEVBQW9DO0FBQ2xDLGlCQUFTLENBQVQsSUFBYyxTQUFTLENBQVQsRUFBWSxTQUFaLENBQXNCLEtBQUssTUFBM0IsRUFBbUMsSUFBbkMsRUFBZDtBQUNBLGNBQU0sUUFBTixDQUFlLE9BQWY7QUFDQSxjQUFNLElBQU4sQ0FBVyxPQUFYLEVBQW9CLFNBQVMsQ0FBVCxDQUFwQjtBQUNBLFlBQUksU0FBUyxDQUFULEVBQVksTUFBWixJQUFzQixDQUExQixFQUE2QjtBQUMzQixxQkFBVyxVQUFVLEVBQUUsQ0FBWixFQUFlLEtBQWYsQ0FBcUIsQ0FBckIsQ0FBWDtBQUNEO0FBQ0YsT0FQRCxNQU9PO0FBQ0wsZ0JBQVEsS0FBUixDQUFjLGlCQUFkO0FBQ0Q7QUFDRixLQWJEO0FBY0EsUUFBSSxXQUFKLEVBQWlCO0FBQ2xCLEdBckJEO0FBc0JBLFNBQU8sTUFBUDtBQUNELENBOUJEOzs7OztBQ0ZBLE9BQU8sT0FBUCxHQUFpQixVQUFDLEtBQUQsRUFBUSxRQUFSLEVBQXFCO0FBQ3BDLE1BQU0sU0FBUyxpQkFBZSxLQUFmLE9BQWY7QUFDQSxNQUFNLFNBQVMsT0FBTyxJQUFQLENBQVksUUFBWixDQUFmO0FBQ0EsU0FBTyxJQUFQLENBQVksU0FBUyxJQUFyQjtBQUNELENBSkQ7Ozs7O0FDQUEsT0FBTyxPQUFQLEdBQWlCLFlBQU07QUFDckIsSUFBRSxvQkFBRixFQUF3QixTQUF4QixDQUFrQyxVQUFVLENBQVYsRUFBYTtBQUM3QyxNQUFFLFFBQUYsRUFBWSxXQUFaLENBQXdCLFVBQXhCO0FBQ0EsUUFBTSxRQUFRLEVBQUUsSUFBRixDQUFkO0FBRjZDLFFBR3RDLEtBSHNDLEdBR3RCLENBSHNCLENBR3RDLEtBSHNDO0FBQUEsUUFHL0IsS0FIK0IsR0FHdEIsQ0FIc0IsQ0FHL0IsS0FIK0I7O0FBSTdDLFVBQU0sSUFBTixDQUFXLFFBQVgsRUFBcUIsSUFBckIsQ0FBMEIsWUFBWTtBQUNwQyxVQUFNLFNBQVMsRUFBRSxJQUFGLENBQWY7O0FBRG9DLDJCQUVoQixPQUFPLE1BQVAsRUFGZ0I7QUFBQSxVQUU3QixHQUY2QixrQkFFN0IsR0FGNkI7QUFBQSxVQUV4QixJQUZ3QixrQkFFeEIsSUFGd0I7O0FBR3BDLFVBQU0sU0FBUyxNQUFNLE9BQU8sTUFBUCxFQUFyQjtBQUNBLFVBQU0sUUFBUSxPQUFPLE9BQU8sS0FBUCxFQUFyQjtBQUNBLFVBQUksTUFBTSxLQUFOLElBQWUsUUFBUSxNQUF2QixJQUFpQyxPQUFPLEtBQXhDLElBQWlELFFBQVEsS0FBN0QsRUFBb0U7QUFBQTtBQUNsRSxjQUFNLFFBQVEsT0FBTyxJQUFQLENBQVksT0FBWixDQUFkO0FBQ0EsWUFBRSxRQUFGLEVBQVksTUFBWixDQUFtQixZQUFZO0FBQzdCLG1CQUFPLEVBQUUsSUFBRixFQUFRLElBQVIsQ0FBYSxPQUFiLEtBQXlCLEtBQWhDO0FBQ0QsV0FGRCxFQUVHLFFBRkgsQ0FFWSxVQUZaO0FBRmtFO0FBS25FO0FBQ0YsS0FYRDtBQVlELEdBaEJEO0FBaUJELENBbEJEOzs7OztBQ0FBLElBQU0saUJBQWlCLFFBQVEsbUJBQVIsQ0FBdkI7QUFDQSxJQUFNLHFCQUFxQixRQUFRLHlCQUFSLENBQTNCO0FBQ0EsSUFBTSxvQkFBb0IsUUFBUSx1QkFBUixDQUExQjs7QUFFQSxPQUFPLE9BQVAsR0FBaUIsWUFBTTtBQUNyQjtBQUNBO0FBQ0E7QUFDRCxDQUpEOzs7OztBQ0pBLElBQU0sU0FBUyxRQUFRLGNBQVIsQ0FBZjs7QUFFQSxJQUFNLFlBQVksT0FBTyxZQUFQLEVBQWxCOztBQUVBLE9BQU8sT0FBUCxHQUFpQixZQUFNO0FBQUEsYUFDRyxDQUFDLFlBQUQsRUFBZSxVQUFmLENBREg7O0FBQUE7QUFDaEIsUUFBTSxvQkFBTjtBQUNILFFBQU0sYUFBYSxFQUFFLFNBQUYsQ0FBbkI7QUFGbUI7QUFBQTtBQUFBOztBQUFBO0FBR25CLDJCQUF1QixTQUF2Qiw4SEFBa0M7QUFBQSxZQUF2QixRQUF1Qjs7QUFDaEMsWUFBTSxRQUFRLDhCQUEyQixhQUFhLFlBQWIsR0FBNEIsT0FBNUIsR0FBc0MsTUFBakUsYUFBZDtBQUNBLG1CQUFXLE1BQVgsQ0FBa0IsS0FBbEI7QUFDQSxZQUFNLFFBQVEsc0VBQW1FLFNBQVMsR0FBNUUscUJBQWQ7QUFDQSxjQUFNLE1BQU4sQ0FBYSxLQUFiO0FBQ0EsY0FBTSxNQUFOLDBFQUFtRixTQUFTLEdBQTVGO0FBQ0EsY0FBTSxNQUFOLHdCQUFrQyxTQUFTLElBQTNDO0FBQ0Q7QUFWa0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFXbkIsZUFBVyxJQUFYLENBQWdCLE9BQWhCLEVBQXlCLEtBQXpCLENBQStCLFlBQVk7QUFDekMsaUJBQVcsSUFBWCxDQUFnQixnQkFBaEIsRUFBa0MsV0FBbEMsQ0FBOEMsVUFBOUM7QUFDQSxRQUFFLElBQUYsRUFBUSxRQUFSLENBQWlCLFVBQWpCO0FBQ0QsS0FIRDtBQVhtQjs7QUFDckIsMkNBQW9EO0FBQUE7QUFjbkQ7QUFDRCxJQUFFLE9BQUYsRUFBVyxLQUFYLENBQWlCLFlBQU07QUFDckIsUUFBTSxXQUFXLEVBQUUsVUFBRixDQUFqQjtBQUNBLFFBQU0sc0JBQXNCLEVBQUUsMkJBQUYsQ0FBNUI7QUFDQSxRQUFNLG9CQUFvQixFQUFFLHlCQUFGLENBQTFCO0FBQ0EsUUFBSSxvQkFBb0IsTUFBcEIsSUFBOEIsa0JBQWtCLE1BQXBELEVBQTREO0FBQzFELFVBQU0sYUFBYSxvQkFBb0IsS0FBcEIsRUFBbkI7QUFDQSxVQUFNLFdBQVcsa0JBQWtCLEtBQWxCLEtBQTRCLENBQTdDO0FBQ0EsZUFBUyxJQUFULENBQWMsb0JBQWQsRUFBb0MsR0FBcEMsQ0FBd0MsVUFBVSxVQUFWLEVBQXNCLEdBQTlEO0FBQ0EsZUFBUyxJQUFULENBQWMsa0JBQWQsRUFBa0MsR0FBbEMsQ0FBc0MsVUFBVSxRQUFWLEVBQW9CLEdBQTFEO0FBQ0EsZUFBUyxNQUFUO0FBQ0Q7QUFDRixHQVhEO0FBWUQsQ0E1QkQ7Ozs7O0FDSkEsT0FBTyxPQUFQLEdBQWlCLFlBQU07QUFDckIsSUFBRSw4QkFBRixFQUFrQyxLQUFsQyxDQUF3QyxZQUFZO0FBQ2xELFFBQUksU0FBUyxRQUFULENBQWtCLE9BQWxCLENBQTBCLEtBQTFCLEVBQWlDLEVBQWpDLEtBQXdDLEtBQUssUUFBTCxDQUFjLE9BQWQsQ0FBc0IsS0FBdEIsRUFBNkIsRUFBN0IsQ0FBeEMsSUFBNEUsU0FBUyxRQUFULElBQXFCLEtBQUssUUFBMUcsRUFBb0g7QUFDbEgsVUFBSSxTQUFTLEVBQUUsS0FBSyxJQUFQLENBQWI7QUFDQSxlQUFTLE9BQU8sTUFBUCxHQUFnQixNQUFoQixHQUF5QixFQUFFLFdBQVcsS0FBSyxJQUFMLENBQVUsS0FBVixDQUFnQixDQUFoQixDQUFYLEdBQWdDLEdBQWxDLENBQWxDO0FBQ0EsVUFBSSxPQUFPLE1BQVgsRUFBbUI7QUFDakIsVUFBRSxZQUFGLEVBQWdCLE9BQWhCLENBQXdCO0FBQ3RCLHFCQUFXLE9BQU8sTUFBUCxHQUFnQjtBQURMLFNBQXhCLEVBRUcsR0FGSDtBQUdBLGVBQU8sS0FBUDtBQUNEO0FBQ0Y7QUFDRixHQVhEO0FBWUEsTUFBTSxhQUFhLEVBQUUsVUFBRixDQUFuQjtBQUNBLE1BQU0sV0FBVyxTQUFYLFFBQVcsR0FBTTtBQUNyQixlQUFXLFdBQVgsQ0FBdUIsV0FBdkIsRUFBb0MsRUFBRSxRQUFGLEVBQVksU0FBWixNQUEyQixHQUEvRDtBQUNELEdBRkQ7QUFHQTtBQUNBLElBQUUsTUFBRixFQUFVLE1BQVYsQ0FBaUIsUUFBakI7QUFDRCxDQW5CRDs7Ozs7QUNBQSxPQUFPLE9BQVAsR0FBaUIsWUFBTTtBQUNyQixNQUFNLHdCQUF3QixFQUFFLHVCQUFGLENBQTlCO0FBQ0EsTUFBTSx3QkFBd0IsRUFBRSx1QkFBRixDQUE5QjtBQUNBLE1BQU0sYUFBYSxFQUFFLFlBQUYsQ0FBbkI7QUFDQSxNQUFNLGNBQWMsRUFBRSxhQUFGLENBQXBCO0FBQ0EsTUFBTSxXQUFXLFNBQVgsUUFBVyxHQUFNO0FBQ3JCLFFBQU0sTUFBTSxXQUFXLE1BQVgsR0FBb0IsR0FBcEIsR0FBMEIsV0FBVyxNQUFYLEVBQXRDO0FBQ0EsUUFBTSxTQUFTLHNCQUFzQixNQUF0QixHQUErQixHQUE5QztBQUNBLGdCQUFZLFdBQVosQ0FBd0IsTUFBeEIsRUFBZ0MsTUFBTSxNQUF0QztBQUNBLDBCQUFzQixXQUF0QixDQUFrQyxPQUFsQyxFQUEyQyxNQUFNLE1BQWpEO0FBQ0QsR0FMRDtBQU1BO0FBQ0EsSUFBRSxNQUFGLEVBQVUsTUFBVixDQUFpQixRQUFqQjtBQUNELENBYkQ7Ozs7O0FDQUEsSUFBTSxNQUFNLFFBQVEsUUFBUixDQUFaOztBQUVBLE9BQU8sT0FBUCxHQUFpQixVQUFDLEtBQUQsRUFBUSxRQUFSLEVBQWtCLElBQWxCLEVBQTJCO0FBQzFDLE1BQU0sWUFBWSxFQUFsQjtBQUNBLE1BQUksWUFBSixDQUFpQixLQUFqQixFQUF3QixTQUF4QjtBQUNBLFNBQU8sS0FBSyxPQUFMLENBQWEsMEJBQWIsRUFBeUMsVUFBQyxLQUFELEVBQVEsR0FBUixFQUFhLE9BQWIsRUFBeUI7QUFDdkUsY0FBVSxJQUFWLENBQWUsQ0FBQyxPQUFELEVBQVUsU0FBUyxHQUFULENBQVYsQ0FBZjtBQUNBLFdBQU8sT0FBUDtBQUNELEdBSE0sQ0FBUDtBQUlBLFlBQVUsSUFBVixDQUFlLENBQUMsRUFBRCxFQUFLLENBQUMsQ0FBTixDQUFmO0FBQ0EsTUFBSSxTQUFKLENBQWMsS0FBZCxFQUFxQixRQUFyQixDQUE4QixJQUE5QixFQUFvQyxDQUFDLENBQXJDO0FBQ0QsQ0FURDs7Ozs7OztBQ0ZBLElBQU0sTUFBTSxRQUFRLFFBQVIsQ0FBWjs7QUFFQSxJQUFNLE9BQU8sQ0FBYjtBQUFBLElBQWdCLEtBQUssQ0FBckI7O0FBRUEsT0FBTyxPQUFQLEdBQWlCLFlBQU07QUFDckIsTUFBTSxRQUFRLEVBQUUsYUFBRixDQUFkO0FBQ0EsTUFBTSxPQUFPLENBQ1gsSUFBSSxZQUFKLENBQWlCLElBQWpCLENBRFcsRUFFWCxJQUFJLFlBQUosQ0FBaUIsRUFBakIsQ0FGVyxDQUFiOztBQUtBLE1BQUksTUFBTSxDQUFDLENBQVg7QUFQcUI7QUFBQTtBQUFBOztBQUFBO0FBUXJCLHlCQUF3QixJQUF4Qiw4SEFBOEI7QUFBQSxVQUFuQixTQUFtQjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUM1Qiw4QkFBdUIsU0FBdkIsbUlBQWtDO0FBQUEsY0FBdkIsUUFBdUI7O0FBQ2hDLGdCQUFNLEtBQUssR0FBTCxDQUFTLEdBQVQsRUFBYyxTQUFTLENBQVQsQ0FBZCxDQUFOO0FBQ0Q7QUFIMkI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUk3QjtBQVpvQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQWNyQixNQUFNLGNBQWMsRUFBcEI7QUFDQSxPQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLEtBQUssR0FBckIsRUFBMEIsR0FBMUIsRUFBK0I7QUFDN0IsZ0JBQVksSUFBWixDQUFpQixDQUFDLEVBQUQsRUFBSyxFQUFMLENBQWpCO0FBQ0Q7QUFqQm9CLGFBa0JMLENBQUMsSUFBRCxFQUFPLEVBQVAsQ0FsQks7O0FBQUE7QUFrQmhCLFFBQU0sWUFBTjtBQUNILHFCQUFlLENBQWYscUJBQWtDLElBQWxDLENBQXVDLFlBQVk7QUFDakQsVUFBTSxTQUFTLEVBQUUsSUFBRixDQUFmO0FBQ0EsVUFBTSxRQUFRLE9BQU8sSUFBUCxDQUFZLE9BQVosQ0FBZDtBQUNBLGtCQUFZLEtBQVosRUFBbUIsQ0FBbkIsRUFBc0IsSUFBdEIsQ0FBMkIsTUFBM0I7QUFDRCxLQUpEO0FBbkJtQjs7QUFrQnJCLDJDQUE0QjtBQUFBO0FBTTNCOztBQUVELFFBQU0sS0FBTjtBQTFCcUI7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQSxVQTJCVixVQTNCVTs7QUFBQSx1Q0E0QmMsVUE1QmQ7QUFBQSxVQTRCWixXQTVCWTtBQUFBLFVBNEJDLFNBNUJEOztBQTZCbkIsVUFBTSxVQUFVLFlBQVksTUFBWixJQUFzQixVQUFVLE1BQWhDLElBQTBDLFlBQVksS0FBWixDQUFrQixVQUFVLE9BQVYsRUFBbUIsS0FBbkIsRUFBMEI7QUFDbEcsZUFBTyxRQUFRLElBQVIsTUFBa0IsVUFBVSxLQUFWLEVBQWlCLElBQWpCLEVBQXpCO0FBQ0QsT0FGdUQsQ0FBMUQ7QUFHQSxVQUFJLE9BQUosRUFBYTtBQUNiLFVBQU0sUUFBUSxFQUFFLDBCQUFGLENBQWQ7QUFDQSxZQUFNLE1BQU4sQ0FBYSxLQUFiO0FBbENtQixrQkFtQ0UsQ0FBQyxXQUFELEVBQWMsU0FBZCxDQW5DRjtBQW1DbkIsbURBQStDO0FBQTFDLFlBQU0sbUJBQU47QUFDSCxZQUFNLFNBQVMsRUFBRSw2QkFBRixDQUFmO0FBQ0EsY0FBTSxNQUFOLENBQWEsTUFBYjtBQUNBLFlBQUksQ0FBQyxPQUFPLE1BQVosRUFBb0I7QUFDbEIsaUJBQU8sTUFBUDtBQUNEO0FBTDRDO0FBQUE7QUFBQTs7QUFBQTtBQU03QyxnQ0FBb0IsTUFBcEIsbUlBQTRCO0FBQUEsZ0JBQWpCLEtBQWlCOztBQUMxQixnQkFBTSxTQUFTLE1BQU0sS0FBTixFQUFmO0FBQ0EsbUJBQU8sSUFBUCxDQUFZLE9BQVosRUFBcUIsTUFBTSxJQUFOLENBQVcsT0FBWCxDQUFyQjtBQUNBLG1CQUFPLE1BQVAsQ0FBYyxNQUFkO0FBQ0Q7QUFWNEM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVc5QztBQTlDa0I7O0FBMkJyQiwwQkFBeUIsV0FBekIsbUlBQXNDO0FBQUE7O0FBQUEsZ0NBS3ZCO0FBZWQ7QUEvQ29CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFnRHRCLENBaEREOzs7OztBQ0pBLE9BQU8sT0FBUCxHQUFpQixVQUFDLElBQUQsRUFBVTtBQUN6QixNQUFNLFFBQVEsRUFBRSxjQUFGLENBQWQ7QUFDQSxRQUFNLElBQU4sQ0FBVyxTQUFTLE1BQVQsQ0FBZ0IsSUFBaEIsQ0FBWDtBQUNELENBSEQ7Ozs7O0FDQUEsSUFBTSxPQUFPLFFBQVEsTUFBUixDQUFiO0FBQ0EsSUFBTSxNQUFNLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBTSxTQUFTLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBTSxVQUFVLFFBQVEsV0FBUixDQUFoQjtBQUNBLElBQU0sTUFBTSxRQUFRLE9BQVIsQ0FBWjtBQUNBLElBQU0sTUFBTSxRQUFRLG1CQUFSLENBQVo7O2VBQ21CLFFBQVEsUUFBUixDO0lBQVosUSxZQUFBLFE7O1NBQ1UsQztJQUFWLE0sTUFBQSxNOzs7QUFFUCxJQUFNLGFBQWEsT0FBTyxhQUFQLEVBQW5CO0FBQ0EsSUFBTSxZQUFZLE9BQU8sWUFBUCxFQUFsQjtBQUNBLElBQU0sT0FBTyxDQUFiO0FBQUEsSUFBZ0IsS0FBSyxDQUFyQjs7QUFFQTtBQUNBLEtBQUssRUFBTCxDQUFRLE9BQVIsRUFBaUIsVUFBVSxNQUFWLEVBQWtCO0FBQ2pDLFVBQVEsTUFBUixDQUFlLEtBQWYsRUFBc0IsTUFBdEI7QUFDRCxDQUZEOztBQUlBLE9BQU8sSUFBUCxFQUFhLE1BQWIsRUFBcUI7QUFDbkIsUUFBTSxJQUFJLFNBRFM7QUFFbkIsU0FBTyxpQkFBTTtBQUNYLFdBQU8sSUFBUCxFQUFhLEdBQWIsRUFBa0IsSUFBSSxHQUFKLEVBQWxCO0FBQ0EsUUFBSSxnQkFBZ0IsZ0JBQWdCLFdBQWhCLENBQXBCO0FBQ0EsUUFBSSxjQUFjLGdCQUFnQixTQUFoQixDQUFsQjtBQUNBLFFBQUksaUJBQWlCLFdBQXJCLEVBQWtDO0FBQ2hDLGNBQVEsUUFBUixDQUFpQixHQUFqQixDQUFxQixJQUFyQixFQUEyQixhQUEzQjtBQUNBLGNBQVEsUUFBUixDQUFpQixHQUFqQixDQUFxQixFQUFyQixFQUF5QixXQUF6QjtBQUNELEtBSEQsTUFHTztBQUNMLHNCQUFnQixRQUFRLFFBQVIsQ0FBaUIsR0FBakIsQ0FBcUIsSUFBckIsQ0FBaEI7QUFDQSxvQkFBYyxRQUFRLFFBQVIsQ0FBaUIsR0FBakIsQ0FBcUIsRUFBckIsQ0FBZDtBQUNEO0FBQ0QsUUFBTSxZQUFZLFNBQVMsVUFBVCxDQUFvQixhQUFwQixDQUFsQjtBQUNBLFFBQU0sVUFBVSxTQUFTLFVBQVQsQ0FBb0IsV0FBcEIsQ0FBaEI7QUFDQSxRQUFJLFdBQUosQ0FBZ0IsSUFBaEIsRUFBc0IsU0FBdEI7QUFDQSxRQUFJLFdBQUosQ0FBZ0IsRUFBaEIsRUFBb0IsT0FBcEI7QUFDQSxRQUFJLFNBQUosQ0FBYyxJQUFkLEVBQW9CLElBQUksVUFBSixDQUFlLElBQWYsRUFBcUIsU0FBckIsRUFBZ0MsSUFBSSxjQUFwQyxDQUFwQjtBQUNBLFFBQUksU0FBSixDQUFjLEVBQWQsRUFBa0IsSUFBSSxVQUFKLENBQWUsRUFBZixFQUFtQixPQUFuQixFQUE0QixJQUFJLGNBQWhDLENBQWxCO0FBQ0EsUUFBSSxjQUFKLENBQW1CLFVBQW5CO0FBQ0EsUUFBSSxXQUFKO0FBQ0EsUUFBSSxXQUFKLENBQWdCLElBQWhCLEVBQXNCLFNBQXRCO0FBQ0EsUUFBSSxXQUFKLENBQWdCLEVBQWhCLEVBQW9CLE9BQXBCO0FBQ0Q7QUF2QmtCLENBQXJCOztBQTBCQSxJQUFNLGtCQUFrQixTQUFsQixlQUFrQixDQUFDLE1BQUQsRUFBWTtBQUNsQyxNQUFNLFNBQVMsbUJBQW1CLE9BQU8sUUFBUCxDQUFnQixNQUFoQixDQUF1QixTQUF2QixDQUFpQyxDQUFqQyxDQUFuQixFQUF3RCxLQUF4RCxDQUE4RCxHQUE5RCxDQUFmO0FBQ0EsT0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLE9BQU8sTUFBM0IsRUFBbUMsR0FBbkMsRUFBd0M7QUFDdEMsUUFBTSxRQUFRLE9BQU8sQ0FBUCxFQUFVLEtBQVYsQ0FBZ0IsR0FBaEIsQ0FBZDtBQUNBLFFBQUksTUFBTSxDQUFOLE1BQWEsTUFBakIsRUFBeUI7QUFDdkIsYUFBTyxNQUFNLENBQU4sTUFBYSxTQUFiLEdBQXlCLElBQXpCLEdBQWdDLE1BQU0sQ0FBTixDQUF2QztBQUNEO0FBQ0Y7QUFDRCxTQUFPLElBQVA7QUFDRCxDQVREOzs7OztBQzVDQSxJQUFNLFVBQVUsUUFBUSxXQUFSLENBQWhCOztBQUVBLE9BQU8sT0FBUCxHQUFpQixVQUFDLEdBQUQsRUFBUztBQUN4QixTQUFPLFFBQVEsR0FBUixFQUFhO0FBQ2xCLFVBQU07QUFEWSxHQUFiLENBQVA7QUFHRCxDQUpEOzs7OztBQ0ZBLElBQU0sT0FBTyxRQUFRLE1BQVIsQ0FBYjtTQUlJLEM7SUFGRixJLE1BQUEsSTtJQUNBLE0sTUFBQSxNOzs7QUFHRixJQUFNLFdBQVcsRUFBakI7O0FBRUEsT0FBTyxPQUFQLEdBQWlCLFVBQVUsR0FBVixFQUE2QjtBQUFBLE1BQWQsT0FBYyx1RUFBSixFQUFJOztBQUM1QyxTQUFPLElBQUksS0FBSyxPQUFULENBQWlCLFVBQUMsT0FBRCxFQUFVLE1BQVYsRUFBcUI7QUFDM0MsUUFBTSxZQUFZO0FBQ2hCLGFBRGdCLG1CQUNSLFFBRFEsRUFDRTtBQUNoQixnQkFBUSxRQUFSO0FBQ0QsT0FIZTtBQUloQixXQUpnQixpQkFJVixNQUpVLEVBSUY7QUFDWixlQUFPLE1BQVA7QUFDRDtBQU5lLEtBQWxCO0FBUUEsUUFBTSxPQUFPLE9BQU8sRUFBUCxFQUFXLFFBQVgsRUFBcUIsT0FBckIsRUFBOEIsU0FBOUIsRUFBeUMsRUFBQyxRQUFELEVBQXpDLENBQWI7QUFDQSxTQUFLLElBQUw7QUFDRCxHQVhNLENBQVA7QUFZRCxDQWJEOzs7OztlQ05JLFFBQVEsU0FBUixDO0lBREYsUSxZQUFBLFE7O0FBR0YsT0FBTyxPQUFQLEdBQWlCLFlBQU07QUFDckIsU0FBTyxVQUFQO0FBQ0QsQ0FGRDs7QUFJQSxJQUFNLGFBQWEsQ0FDakIsSUFBSSxRQUFKLENBQWEsV0FBYixFQUEwQixLQUExQixFQUFpQyxDQUMvQixJQUFJLFFBQUosQ0FBYSxZQUFiLEVBQTJCLEtBQTNCLENBRCtCLEVBRS9CLElBQUksUUFBSixDQUFhLGNBQWIsRUFBNkIsTUFBN0IsQ0FGK0IsRUFHL0IsSUFBSSxRQUFKLENBQWEsZUFBYixFQUE4QixLQUE5QixDQUgrQixFQUkvQixJQUFJLFFBQUosQ0FBYSxTQUFiLEVBQXdCLEtBQXhCLENBSitCLEVBSy9CLElBQUksUUFBSixDQUFhLGlCQUFiLEVBQWdDLGdCQUFoQyxDQUwrQixFQU0vQixJQUFJLFFBQUosQ0FBYSxXQUFiLEVBQTBCLE9BQTFCLENBTitCLENBQWpDLENBRGlCLEVBU2pCLElBQUksUUFBSixDQUFhLFdBQWIsRUFBMEIsVUFBMUIsRUFBc0MsQ0FDcEMsSUFBSSxRQUFKLENBQWEsb0JBQWIsRUFBbUMsTUFBbkMsQ0FEb0MsRUFFcEMsSUFBSSxRQUFKLENBQWEsYUFBYixFQUE0QixTQUE1QixDQUZvQyxFQUdwQyxJQUFJLFFBQUosQ0FBYSxvQkFBYixFQUFtQyxTQUFuQyxDQUhvQyxDQUF0QyxDQVRpQixFQWNqQixJQUFJLFFBQUosQ0FBYSxjQUFiLEVBQTZCLGFBQTdCLEVBQTRDLENBQzFDLElBQUksUUFBSixDQUFhLHFCQUFiLEVBQW9DLFNBQXBDLENBRDBDLEVBRTFDLElBQUksUUFBSixDQUFhLHlCQUFiLEVBQXdDLGFBQXhDLENBRjBDLEVBRzFDLElBQUksUUFBSixDQUFhLGtCQUFiLEVBQWlDLFNBQWpDLENBSDBDLENBQTVDLENBZGlCLEVBbUJqQixJQUFJLFFBQUosQ0FBYSxPQUFiLEVBQXNCLE1BQXRCLEVBQThCLENBQzVCLElBQUksUUFBSixDQUFhLGVBQWIsRUFBOEIsS0FBOUIsQ0FENEIsRUFFNUIsSUFBSSxRQUFKLENBQWEsaUJBQWIsRUFBZ0MsT0FBaEMsQ0FGNEIsRUFHNUIsSUFBSSxRQUFKLENBQWEsb0JBQWIsRUFBbUMsVUFBbkMsQ0FINEIsRUFJNUIsSUFBSSxRQUFKLENBQWEsaUJBQWIsRUFBZ0MsT0FBaEMsQ0FKNEIsQ0FBOUIsQ0FuQmlCLEVBeUJqQixJQUFJLFFBQUosQ0FBYSxXQUFiLEVBQTBCLE1BQTFCLEVBQWtDLENBQ2hDLElBQUksUUFBSixDQUFhLFlBQWIsRUFBMkIsS0FBM0IsQ0FEZ0MsRUFFaEMsSUFBSSxRQUFKLENBQWEsWUFBYixFQUEyQixPQUEzQixDQUZnQyxFQUdoQyxJQUFJLFFBQUosQ0FBYSxrQkFBYixFQUFpQyxRQUFqQyxDQUhnQyxDQUFsQyxDQXpCaUIsRUE4QmpCLElBQUksUUFBSixDQUFhLFNBQWIsRUFBd0IsT0FBeEIsRUFBaUMsQ0FDL0IsSUFBSSxRQUFKLENBQWEsWUFBYixFQUEyQixLQUEzQixDQUQrQixFQUUvQixJQUFJLFFBQUosQ0FBYSxpQkFBYixFQUFnQyxTQUFoQyxDQUYrQixFQUcvQixJQUFJLFFBQUosQ0FBYSxpQkFBYixFQUFnQyxVQUFoQyxDQUgrQixFQUkvQixJQUFJLFFBQUosQ0FBYSxXQUFiLEVBQTBCLEtBQTFCLENBSitCLEVBSy9CLElBQUksUUFBSixDQUFhLG9CQUFiLEVBQW1DLFNBQW5DLENBTCtCLEVBTS9CLElBQUksUUFBSixDQUFhLG9CQUFiLEVBQW1DLFVBQW5DLENBTitCLEVBTy9CLElBQUksUUFBSixDQUFhLGFBQWIsRUFBNEIsU0FBNUIsQ0FQK0IsQ0FBakMsQ0E5QmlCLEVBdUNqQixJQUFJLFFBQUosQ0FBYSxVQUFiLEVBQXlCLFVBQXpCLEVBQXFDLENBQ25DLElBQUksUUFBSixDQUFhLGdCQUFiLEVBQStCLE1BQS9CLENBRG1DLEVBRW5DLElBQUksUUFBSixDQUFhLGtCQUFiLEVBQWlDLEtBQWpDLENBRm1DLEVBR25DLElBQUksUUFBSixDQUFhLDJCQUFiLEVBQTBDLGdCQUExQyxDQUhtQyxFQUluQyxJQUFJLFFBQUosQ0FBYSxRQUFiLEVBQXVCLEtBQXZCLENBSm1DLENBQXJDLENBdkNpQixDQUFuQjs7Ozs7ZUNOSSxRQUFRLFNBQVIsQztJQURGLFEsWUFBQSxROztBQUdGLE9BQU8sT0FBUCxHQUFpQixZQUFNO0FBQ3JCLFNBQU8sU0FBUDtBQUNELENBRkQ7O0FBSUEsSUFBTSxZQUFZLENBQ2hCLElBQUksUUFBSixDQUFhLEtBQWIsRUFBb0IsT0FBcEIsRUFBNkIsS0FBN0IsQ0FEZ0IsRUFFaEIsSUFBSSxRQUFKLENBQWEsUUFBYixFQUF1QixRQUF2QixFQUFpQyxJQUFqQyxDQUZnQixFQUdoQixJQUFJLFFBQUosQ0FBYSxNQUFiLEVBQXFCLE1BQXJCLEVBQTZCLE1BQTdCLENBSGdCLEVBSWhCLElBQUksUUFBSixDQUFhLFlBQWIsRUFBMkIsWUFBM0IsRUFBeUMsSUFBekMsQ0FKZ0IsRUFLaEIsSUFBSSxRQUFKLENBQWEsT0FBYixFQUFzQixJQUF0QixFQUE0QixLQUE1QixDQUxnQixDQUFsQjs7Ozs7QUNSQSxJQUFNLFdBQVcsUUFBUSxhQUFSLENBQWpCO0FBQ0EsSUFBTSxXQUFXLFFBQVEsYUFBUixDQUFqQjtBQUNBLElBQU0sZ0JBQWdCLFFBQVEsa0JBQVIsQ0FBdEI7QUFDQSxJQUFNLGVBQWUsUUFBUSxpQkFBUixDQUFyQjs7QUFFQSxPQUFPLE9BQVAsR0FBaUI7QUFDZixvQkFEZTtBQUVmLG9CQUZlO0FBR2YsOEJBSGU7QUFJZjtBQUplLENBQWpCOzs7OztBQ0xBLElBQU0sTUFBTSxRQUFRLFlBQVIsQ0FBWjs7QUFFQSxPQUFPLE9BQVAsR0FBaUIsVUFBQyxRQUFELEVBQVcsUUFBWCxFQUF3QjtBQUN2QyxNQUFJLE9BQVUsU0FBUyxHQUFuQixjQUErQixTQUFTLEdBQTVDO0FBQ0EsS0FBRztBQUNELFdBQU8sU0FBUyxHQUFULEdBQWUsR0FBZixHQUFxQixJQUE1QjtBQUNBLGVBQVcsU0FBUyxNQUFwQjtBQUNELEdBSEQsUUFHUyxRQUhUO0FBSUEsU0FBTyxnQkFBYyxJQUFkLENBQVA7QUFDRCxDQVBEOzs7OztBQ0ZBLElBQU0sTUFBTSxRQUFRLFlBQVIsQ0FBWjs7QUFFQSxPQUFPLE9BQVAsR0FBaUIsVUFBQyxRQUFELEVBQVcsUUFBWCxFQUF3QjtBQUN2QyxNQUFJLE9BQVUsU0FBUyxHQUFuQixhQUFKO0FBQ0EsS0FBRztBQUNELFdBQU8sU0FBUyxHQUFULEdBQWUsR0FBZixHQUFxQixJQUE1QjtBQUNBLGVBQVcsU0FBUyxNQUFwQjtBQUNELEdBSEQsUUFHUyxRQUhUO0FBSUEsU0FBTyxnQkFBYyxJQUFkLENBQVA7QUFDRCxDQVBEOzs7OztBQ0ZBLElBQU0sV0FBVyxRQUFRLFlBQVIsQ0FBakI7O0FBRUEsT0FBTyxPQUFQLEdBQWlCO0FBQ2Y7QUFEZSxDQUFqQjs7Ozs7ZUNGbUIsUUFBUSxXQUFSLEM7SUFBWixJLFlBQUEsRztJQUFLLEksWUFBQSxHOztBQUVaLElBQU0sVUFBVSxTQUFWLE9BQVUsUUFBUztBQUN2QixtQkFBZSxLQUFmO0FBQ0QsQ0FGRDs7QUFJQSxPQUFPLE9BQVAsR0FBaUI7QUFDZixPQUFLLGFBQUMsS0FBRCxFQUFRLEdBQVIsRUFBZ0I7QUFDbkIsV0FBTyxLQUFJLFFBQVEsS0FBUixDQUFKLEVBQW9CLEdBQXBCLENBQVA7QUFDRCxHQUhjO0FBSWYsT0FBSyxhQUFDLEtBQUQsRUFBVztBQUNkLFdBQU8sS0FBSSxRQUFRLEtBQVIsQ0FBSixDQUFQO0FBQ0Q7QUFOYyxDQUFqQjs7Ozs7QUNOQSxPQUFPLE9BQVAsR0FBaUI7QUFDZixPQUFLLGFBQUMsSUFBRCxFQUFPLEtBQVAsRUFBaUI7QUFDcEIsWUFBUSxHQUFSLENBQVksSUFBWixFQUFrQixLQUFsQjtBQUNELEdBSGM7QUFJZixPQUFLLG1CQUFRO0FBQ1gsWUFBUSxHQUFSLENBQVksSUFBWjtBQUNELEdBTmM7QUFPZixVQUFRLHNCQUFRO0FBQ2QsWUFBUSxNQUFSLENBQWUsSUFBZjtBQUNEO0FBVGMsQ0FBakI7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNwTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiY29uc3Qge2V4dGVuZH0gPSAkO1xuXG5jb25zdCBwYW5lbFZhcnMgPSB7XG4gIGxhbmd1YWdlOiBudWxsLFxuICBlZGl0b3I6IG51bGwsXG4gIG1hdGNoaW5nczogbnVsbFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucGFuZWwgPSBbXG4gICAgZXh0ZW5kKHRydWUsIHt9LCBwYW5lbFZhcnMpLFxuICAgIGV4dGVuZCh0cnVlLCB7fSwgcGFuZWxWYXJzKVxuICBdO1xuXG4gIHRoaXMuc2V0TGFuZ3VhZ2UgPSAoaW5kZXgsIGxhbmd1YWdlKSA9PiB7XG4gICAgdGhpcy5wYW5lbFtpbmRleF0ubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgfTtcblxuICB0aGlzLnNldEVkaXRvciA9IChpbmRleCwgZWRpdG9yKSA9PiB7XG4gICAgdGhpcy5wYW5lbFtpbmRleF0uZWRpdG9yID0gZWRpdG9yO1xuICB9O1xuXG4gIHRoaXMuc2V0TWF0Y2hpbmdzID0gKGluZGV4LCBtYXRjaGluZ3MpID0+IHtcbiAgICB0aGlzLnBhbmVsW2luZGV4XS5tYXRjaGluZ3MgPSBtYXRjaGluZ3M7XG4gIH07XG5cbiAgdGhpcy5nZXRMYW5ndWFnZSA9IChpbmRleCA9PiB7XG4gICAgcmV0dXJuIHRoaXMucGFuZWxbaW5kZXhdLmxhbmd1YWdlO1xuICB9KTtcblxuICB0aGlzLmdldEVkaXRvciA9IChpbmRleCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnBhbmVsW2luZGV4XS5lZGl0b3I7XG4gIH07XG5cbiAgdGhpcy5nZXRNYXRjaGluZ3MgPSAoaW5kZXgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wYW5lbFtpbmRleF0ubWF0Y2hpbmdzO1xuICB9XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge307IiwibW9kdWxlLmV4cG9ydHMgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGRpciwgY2hpbGRyZW4gPSBbXSkge1xuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZGlyID0gZGlyO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgfSk7XG4gIH1cblxuICBzdWIoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpbmRleF07XG4gIH1cbn07IiwiY29uc3QgTGFuZ3VhZ2UgPSByZXF1aXJlKCcuL2xhbmd1YWdlJyk7XG5jb25zdCBDYXRlZ29yeSA9IHJlcXVpcmUoJy4vY2F0ZWdvcnknKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIExhbmd1YWdlLFxuICBDYXRlZ29yeVxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IobmFtZSwgYWNlLCBleHQpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuYWNlID0gYWNlO1xuICAgIHRoaXMuZXh0ID0gZXh0O1xuICB9XG5cbiAgc3RhdGljIGdldFdpdGhFeHQoZXh0KSB7XG4gICAgY29uc3QgU2VydmVyID0gcmVxdWlyZSgnLi4vc2VydmVyJyk7XG4gICAgY29uc3QgbGFuZ3VhZ2VzID0gU2VydmVyLmdldExhbmd1YWdlcygpO1xuICAgIGZvciAoY29uc3QgbGFuZ3VhZ2Ugb2YgbGFuZ3VhZ2VzKSB7XG4gICAgICBpZiAobGFuZ3VhZ2UuZXh0ID09IGV4dCkgcmV0dXJuIGxhbmd1YWdlO1xuICAgIH1cbiAgfVxufTsiLCJjb25zdCBzZXR1cE1haW4gPSByZXF1aXJlKCcuL3NldHVwX21haW4nKTtcbmNvbnN0IGluaXRFZGl0b3IgPSByZXF1aXJlKCcuL2luaXRfZWRpdG9yJyk7XG5jb25zdCBpbml0Q2F0ZWdvcmllcyA9IHJlcXVpcmUoJy4vaW5pdF9jYXRlZ29yaWVzJyk7XG5jb25zdCBzZXR1cExheW91dCA9IHJlcXVpcmUoJy4vc2V0dXBfbGF5b3V0Jyk7XG5jb25zdCBzZXRMYW5ndWFnZSA9IHJlcXVpcmUoJy4vc2V0X2xhbmd1YWdlJyk7XG5jb25zdCB2aWV3Q29kZSA9IHJlcXVpcmUoJy4vdmlld19jb2RlJyk7XG5jb25zdCB2aWV3RGVzYyA9IHJlcXVpcmUoJy4vdmlld19kZXNjJyk7XG5jb25zdCB2aWV3Q29tcGFyaXNvbiA9IHJlcXVpcmUoJy4vdmlld19jb21wYXJpc29uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXR1cE1haW4sXG4gIGluaXRFZGl0b3IsXG4gIGluaXRDYXRlZ29yaWVzLFxuICBzZXR1cExheW91dCxcbiAgc2V0TGFuZ3VhZ2UsXG4gIHZpZXdDb2RlLFxuICB2aWV3RGVzYyxcbiAgdmlld0NvbXBhcmlzb25cbn07IiwiY29uc3QgUlNWUCA9IHJlcXVpcmUoJ3JzdnAnKTtcbmNvbnN0IFNlcnZlciA9IHJlcXVpcmUoJy4uL3NlcnZlcicpO1xuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vYXBwJyk7XG5jb25zdCB2aWV3Q29kZSA9IHJlcXVpcmUoJy4vdmlld19jb2RlJyk7XG5jb25zdCB2aWV3RGVzYyA9IHJlcXVpcmUoJy4vdmlld19kZXNjJyk7XG5cbmNvbnN0IGZyb20gPSAwLCB0byA9IDE7XG5cbmNvbnN0IGxvYWRDYXRlZ29yeSA9IChpbmRleCwgY2F0ZWdvcnksIGxhbmd1YWdlKSA9PiB7XG4gIHJldHVybiBuZXcgUlNWUC5Qcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIFNlcnZlci5sb2FkQ29kZShjYXRlZ29yeSwgbGFuZ3VhZ2UpLnRoZW4oKGNvZGUpID0+IHtcbiAgICAgIHZpZXdDb2RlKGluZGV4LCBsYW5ndWFnZSwgY29kZSk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gICAgaWYgKGluZGV4ID09IHRvKSB7XG4gICAgICBTZXJ2ZXIubG9hZERlc2MoY2F0ZWdvcnksIGxhbmd1YWdlKS50aGVuKHZpZXdEZXNjKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjYXRlZ29yaWVzID0+IHtcbiAgY29uc3QgJGluZGV4ID0gJCgnI2luZGV4Jyk7XG4gIGNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnksIGkpID0+IHtcbiAgICAkaW5kZXguYXBwZW5kKGA8bGk+JHtpICsgMX18ICR7Y2F0ZWdvcnkubmFtZX08L2xpPmApO1xuICAgIGNvbnN0ICRzdWJfaW5kZXggPSAkKGA8dWwgY2xhc3M9XCJzdWJcIiBkYXRhLWNhdGVnb3J5PVwiJHtpfVwiPjwvdWw+YCk7XG4gICAgJGluZGV4LmFwcGVuZCgkc3ViX2luZGV4KTtcbiAgICBjYXRlZ29yeS5jaGlsZHJlbi5mb3JFYWNoKChjYXRlZ29yeSwgaikgPT4ge1xuICAgICAgJHN1Yl9pbmRleC5hcHBlbmQoYDxsaSBkYXRhLXN1YmNhdGVnb3J5PVwiJHtqfVwiPiR7Y2F0ZWdvcnkubmFtZX08L2xpPmApO1xuICAgIH0pO1xuICB9KTtcblxuICAkKCcjaW5kZXggPiBsaScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAkKCcjaW5kZXggPiBsaS5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xuXG4gICQoJ3VsLnN1YiA+IGxpJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQoJ3VsLnN1YiA+IGxpLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICBjb25zdCAkbGkgPSAkKHRoaXMpO1xuICAgIGNvbnN0ICR1bCA9ICQodGhpcykucGFyZW50KCk7XG4gICAgbG9hZENhdGVnb3J5KGZyb20sIGNhdGVnb3JpZXNbJHVsLmRhdGEoJ2NhdGVnb3J5JyldLnN1YigkbGkuZGF0YSgnc3ViY2F0ZWdvcnknKSksIGFwcC5nZXRMYW5ndWFnZShmcm9tKSk7XG4gICAgbG9hZENhdGVnb3J5KHRvLCBjYXRlZ29yaWVzWyR1bC5kYXRhKCdjYXRlZ29yeScpXS5zdWIoJGxpLmRhdGEoJ3N1YmNhdGVnb3J5JykpLCBhcHAuZ2V0TGFuZ3VhZ2UodG8pKTtcbiAgfSk7XG5cbiAgJCgnI2luZGV4ID4gbGk6ZXEoMCknKS5jbGljaygpO1xuICAkKCd1bC5zdWIgPiBsaTplcSgwKScpLmNsaWNrKCk7XG59OyIsImNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uL2FwcCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChpbmRleCwgbGFuZ3VhZ2UsIGFmdGVyUmVuZGVyKSA9PiB7XG4gIGNvbnN0ICRwYW5lbCA9ICQoYC5wYW5lbDplcSgke2luZGV4fSlgKTtcbiAgY29uc3QgJGNvZGUgPSAkcGFuZWwuZmluZCgnLmNvZGUnKTtcbiAgbGV0IGVkaXRvciA9IGFjZS5lZGl0KCRjb2RlLmF0dHIoJ2lkJykpO1xuICBlZGl0b3Iuc2V0VGhlbWUoJ2FjZS90aGVtZS9tb25va2FpJyk7XG4gIGlmIChpbmRleCA9PSAwKSAkcGFuZWwuZmluZCgnLmRlc2MnKS5hZGRDbGFzcygnYWNlLW1vbm9rYWknKTtcbiAgZWRpdG9yLmdldFNlc3Npb24oKS5zZXRNb2RlKGBhY2UvbW9kZS8ke2xhbmd1YWdlLmFjZX1gKTtcbiAgZWRpdG9yLnJlbmRlcmVyLm9uKCdhZnRlclJlbmRlcicsICgpID0+IHtcbiAgICBjb25zdCBtYXRjaGluZ3MgPSBhcHAuZ2V0TWF0Y2hpbmdzKGluZGV4KTtcbiAgICBpZiAoIW1hdGNoaW5ncyB8fCBtYXRjaGluZ3MubGVuZ3RoID09IDApIHJldHVybjtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IG1hdGNoaW5nID0gbWF0Y2hpbmdzW2ldLnNsaWNlKDApO1xuICAgIGNvbnN0ICRzcGFucyA9ICRjb2RlLmZpbmQoJ3NwYW4nKTtcbiAgICAkc3BhbnMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCAkc3BhbiA9ICQodGhpcyk7XG4gICAgICBjb25zdCBzcGFuID0gJHNwYW4udGV4dCgpO1xuICAgICAgaWYgKHNwYW4uaW5kZXhPZihtYXRjaGluZ1swXSkgPT0gMCkge1xuICAgICAgICBtYXRjaGluZ1swXSA9IG1hdGNoaW5nWzBdLnN1YnN0cmluZyhzcGFuLmxlbmd0aCkudHJpbSgpO1xuICAgICAgICAkc3Bhbi5hZGRDbGFzcygnbWF0Y2gnKTtcbiAgICAgICAgJHNwYW4uZGF0YSgnbWF0Y2gnLCBtYXRjaGluZ1sxXSk7XG4gICAgICAgIGlmIChtYXRjaGluZ1swXS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgIG1hdGNoaW5nID0gbWF0Y2hpbmdzWysraV0uc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ3NvbWV0aGluZyB3cm9uZycpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChhZnRlclJlbmRlcikgYWZ0ZXJSZW5kZXIoKTtcbiAgfSk7XG4gIHJldHVybiBlZGl0b3I7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gKGluZGV4LCBsYW5ndWFnZSkgPT4ge1xuICBjb25zdCAkcGFuZWwgPSAkKGAucGFuZWw6ZXEoJHtpbmRleH0pYCk7XG4gIGNvbnN0ICR0aXRsZSA9ICRwYW5lbC5maW5kKCcudGl0bGUnKTtcbiAgJHRpdGxlLnRleHQobGFuZ3VhZ2UubmFtZSk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICAkKCcuY29kZSwgI2NvbXBhcmlzb24nKS5tb3VzZW1vdmUoZnVuY3Rpb24gKGUpIHtcbiAgICAkKCcubWF0Y2gnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICBjb25zdCAkY29kZSA9ICQodGhpcyk7XG4gICAgY29uc3Qge3BhZ2VYLCBwYWdlWX0gPSBlO1xuICAgICRjb2RlLmZpbmQoJy5tYXRjaCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgJG1hdGNoID0gJCh0aGlzKTtcbiAgICAgIGNvbnN0IHt0b3AsIGxlZnR9ID0gJG1hdGNoLm9mZnNldCgpO1xuICAgICAgY29uc3QgYm90dG9tID0gdG9wICsgJG1hdGNoLmhlaWdodCgpO1xuICAgICAgY29uc3QgcmlnaHQgPSBsZWZ0ICsgJG1hdGNoLndpZHRoKCk7XG4gICAgICBpZiAodG9wIDwgcGFnZVkgJiYgcGFnZVkgPCBib3R0b20gJiYgbGVmdCA8IHBhZ2VYICYmIHBhZ2VYIDwgcmlnaHQpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSAkbWF0Y2guZGF0YSgnbWF0Y2gnKTtcbiAgICAgICAgJCgnLm1hdGNoJykuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJCh0aGlzKS5kYXRhKCdtYXRjaCcpID09IG1hdGNoO1xuICAgICAgICB9KS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59OyIsImNvbnN0IHNldHVwTGFuZ3VhZ2VzID0gcmVxdWlyZSgnLi9zZXR1cF9sYW5ndWFnZXMnKTtcbmNvbnN0IHNldHVwU3RpY2tUb0JvdHRvbSA9IHJlcXVpcmUoJy4vc2V0dXBfc3RpY2tfdG9fYm90dG9tJyk7XG5jb25zdCBzZXR1cFNtb290aFNjcm9sbCA9IHJlcXVpcmUoJy4vc2V0dXBfc21vb3RoX3Njcm9sbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgc2V0dXBMYW5ndWFnZXMoKTtcbiAgc2V0dXBTdGlja1RvQm90dG9tKCk7XG4gIHNldHVwU21vb3RoU2Nyb2xsKCk7XG59OyIsImNvbnN0IFNlcnZlciA9IHJlcXVpcmUoJy4uLy4uL3NlcnZlcicpO1xuXG5jb25zdCBsYW5ndWFnZXMgPSBTZXJ2ZXIuZ2V0TGFuZ3VhZ2VzKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBmb3IgKGNvbnN0IGNvbnRhaW5lciBvZiBbJyNsYW5nLWZyb20nLCAnI2xhbmctdG8nXSkge1xuICAgIGNvbnN0ICRjb250YWluZXIgPSAkKGNvbnRhaW5lcik7XG4gICAgZm9yIChjb25zdCBsYW5ndWFnZSBvZiBsYW5ndWFnZXMpIHtcbiAgICAgIGNvbnN0ICRsYW5nID0gJChgPGEgY2xhc3M9XCJsYW5nXCIgaHJlZj1cIiR7Y29udGFpbmVyID09ICcjbGFuZy1mcm9tJyA/ICcjZG90cycgOiAnI3RvcCd9XCI+PC9hPmApO1xuICAgICAgJGNvbnRhaW5lci5hcHBlbmQoJGxhbmcpO1xuICAgICAgY29uc3QgJGxvZ28gPSAkKGA8ZGl2IGNsYXNzPVwibG9nb1wiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuL2ltYWdlcy9sYW5nXyR7bGFuZ3VhZ2UuZXh0fS5wbmcnKVwiPjwvZGl2PmApO1xuICAgICAgJGxhbmcuYXBwZW5kKCRsb2dvKTtcbiAgICAgICRsb2dvLmFwcGVuZChgPGRpdiBjbGFzcz1cImxvZ28gbW9ub1wiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuL2ltYWdlcy9sYW5nXyR7bGFuZ3VhZ2UuZXh0fV9tb25vLnBuZycpXCI+PC9kaXY+YCk7XG4gICAgICAkbGFuZy5hcHBlbmQoYDxkaXYgY2xhc3M9XCJuYW1lXCI+JHtsYW5ndWFnZS5uYW1lfTwvZGl2PmApO1xuICAgIH1cbiAgICAkY29udGFpbmVyLmZpbmQoJy5sYW5nJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgJGNvbnRhaW5lci5maW5kKCcubGFuZy5zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICB9KTtcbiAgfVxuICAkKCcubGFuZycpLmNsaWNrKCgpID0+IHtcbiAgICBjb25zdCAkbGFuZ190byA9ICQoJyNsYW5nLXRvJyk7XG4gICAgY29uc3QgJGxhbmdfZnJvbV9zZWxlY3RlZCA9ICQoJyNsYW5nLWZyb20gLmxhbmcuc2VsZWN0ZWQnKTtcbiAgICBjb25zdCAkbGFuZ190b19zZWxlY3RlZCA9ICQoJyNsYW5nLXRvIC5sYW5nLnNlbGVjdGVkJyk7XG4gICAgaWYgKCRsYW5nX2Zyb21fc2VsZWN0ZWQubGVuZ3RoICYmICRsYW5nX3RvX3NlbGVjdGVkLmxlbmd0aCkge1xuICAgICAgY29uc3QgZnJvbV9pbmRleCA9ICRsYW5nX2Zyb21fc2VsZWN0ZWQuaW5kZXgoKTtcbiAgICAgIGNvbnN0IHRvX2luZGV4ID0gJGxhbmdfdG9fc2VsZWN0ZWQuaW5kZXgoKSAtIDI7XG4gICAgICAkbGFuZ190by5maW5kKCdbbmFtZT1cImxhbmdfZnJvbVwiXScpLnZhbChsYW5ndWFnZXNbZnJvbV9pbmRleF0uZXh0KTtcbiAgICAgICRsYW5nX3RvLmZpbmQoJ1tuYW1lPVwibGFuZ190b1wiXScpLnZhbChsYW5ndWFnZXNbdG9faW5kZXhdLmV4dCk7XG4gICAgICAkbGFuZ190by5zdWJtaXQoKTtcbiAgICB9XG4gIH0pO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgJCgnYVtocmVmKj1cIiNcIl06bm90KFtocmVmPVwiI1wiXSknKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJykgPT0gdGhpcy5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpICYmIGxvY2F0aW9uLmhvc3RuYW1lID09IHRoaXMuaG9zdG5hbWUpIHtcbiAgICAgIHZhciB0YXJnZXQgPSAkKHRoaXMuaGFzaCk7XG4gICAgICB0YXJnZXQgPSB0YXJnZXQubGVuZ3RoID8gdGFyZ2V0IDogJCgnW25hbWU9JyArIHRoaXMuaGFzaC5zbGljZSgxKSArICddJyk7XG4gICAgICBpZiAodGFyZ2V0Lmxlbmd0aCkge1xuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgc2Nyb2xsVG9wOiB0YXJnZXQub2Zmc2V0KCkudG9wXG4gICAgICAgIH0sIDUwMCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBjb25zdCAkdW5mb2N1c2VkID0gJCgnLmZvY3VzZWQnKTtcbiAgY29uc3Qgb25TY3JvbGwgPSAoKSA9PiB7XG4gICAgJHVuZm9jdXNlZC50b2dnbGVDbGFzcygndW5mb2N1c2VkJywgJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPD0gMTY4KTtcbiAgfTtcbiAgb25TY3JvbGwoKTtcbiAgJCh3aW5kb3cpLnNjcm9sbChvblNjcm9sbCk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBjb25zdCAkc3RpY2tfdG9fYm90dG9tX2Zha2UgPSAkKCcuc3RpY2stdG8tYm90dG9tLmZha2UnKTtcbiAgY29uc3QgJHN0aWNrX3RvX2JvdHRvbV9yZWFsID0gJCgnLnN0aWNrLXRvLWJvdHRvbS5yZWFsJyk7XG4gIGNvbnN0ICRsYW5nX2Zyb20gPSAkKCcjbGFuZy1mcm9tJyk7XG4gIGNvbnN0ICRmdWxsc2NyZWVuID0gJCgnLmZ1bGxzY3JlZW4nKTtcbiAgY29uc3Qgb25SZXNpemUgPSAoKSA9PiB7XG4gICAgY29uc3QgdG9wID0gJGxhbmdfZnJvbS5vZmZzZXQoKS50b3AgKyAkbGFuZ19mcm9tLmhlaWdodCgpO1xuICAgIGNvbnN0IGJvdHRvbSA9ICRzdGlja190b19ib3R0b21fZmFrZS5vZmZzZXQoKS50b3A7XG4gICAgJGZ1bGxzY3JlZW4udG9nZ2xlQ2xhc3MoJ2Z1bGwnLCB0b3AgPCBib3R0b20pO1xuICAgICRzdGlja190b19ib3R0b21fcmVhbC50b2dnbGVDbGFzcygnc3RpY2snLCB0b3AgPCBib3R0b20pXG4gIH07XG4gIG9uUmVzaXplKCk7XG4gICQod2luZG93KS5yZXNpemUob25SZXNpemUpO1xufTsiLCJjb25zdCBhcHAgPSByZXF1aXJlKCcuLi9hcHAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoaW5kZXgsIGxhbmd1YWdlLCBjb2RlKSA9PiB7XG4gIGNvbnN0IG1hdGNoaW5ncyA9IFtdO1xuICBhcHAuc2V0TWF0Y2hpbmdzKGluZGV4LCBtYXRjaGluZ3MpO1xuICBjb2RlID0gY29kZS5yZXBsYWNlKC8jKFxcZCspe1xcWyhbXihcXF19KV0qKVxcXX0vZywgKG1hdGNoLCBudW0sIGNvbnRlbnQpID0+IHtcbiAgICBtYXRjaGluZ3MucHVzaChbY29udGVudCwgcGFyc2VJbnQobnVtKV0pO1xuICAgIHJldHVybiBjb250ZW50O1xuICB9KTtcbiAgbWF0Y2hpbmdzLnB1c2goWycnLCAtMV0pO1xuICBhcHAuZ2V0RWRpdG9yKGluZGV4KS5zZXRWYWx1ZShjb2RlLCAtMSk7XG59OyIsImNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uL2FwcCcpO1xuXG5jb25zdCBmcm9tID0gMCwgdG8gPSAxO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgY29uc3QgJGRlc2MgPSAkKCcjY29tcGFyaXNvbicpO1xuICBjb25zdCBwYWlyID0gW1xuICAgIGFwcC5nZXRNYXRjaGluZ3MoZnJvbSksXG4gICAgYXBwLmdldE1hdGNoaW5ncyh0bylcbiAgXTtcblxuICBsZXQgbWF4ID0gLTE7XG4gIGZvciAoY29uc3QgbWF0Y2hpbmdzIG9mIHBhaXIpIHtcbiAgICBmb3IgKGNvbnN0IG1hdGNoaW5nIG9mIG1hdGNoaW5ncykge1xuICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCBtYXRjaGluZ1sxXSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY29tcGFyaXNvbnMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbWF4OyBpKyspIHtcbiAgICBjb21wYXJpc29ucy5wdXNoKFtbXSwgW11dKTtcbiAgfVxuICBmb3IgKGNvbnN0IGkgb2YgW2Zyb20sIHRvXSkge1xuICAgICQoYC5wYW5lbDplcSgke2l9KSAuY29kZSAubWF0Y2hgKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0ICRtYXRjaCA9ICQodGhpcyk7XG4gICAgICBjb25zdCBtYXRjaCA9ICRtYXRjaC5kYXRhKCdtYXRjaCcpO1xuICAgICAgY29tcGFyaXNvbnNbbWF0Y2hdW2ldLnB1c2goJG1hdGNoKTtcbiAgICB9KTtcbiAgfVxuXG4gICRkZXNjLmVtcHR5KCk7XG4gIGZvciAoY29uc3QgY29tcGFyaXNvbiBvZiBjb21wYXJpc29ucykge1xuICAgIGNvbnN0IFtwaWVjZXNfZnJvbSwgcGllY2VzX3RvXSA9IGNvbXBhcmlzb247XG4gICAgY29uc3QgaXNfc2FtZSA9IHBpZWNlc19mcm9tLmxlbmd0aCA9PSBwaWVjZXNfdG8ubGVuZ3RoICYmIHBpZWNlc19mcm9tLmV2ZXJ5KGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC50ZXh0KCkgPT0gcGllY2VzX3RvW2luZGV4XS50ZXh0KCk7XG4gICAgICB9KTtcbiAgICBpZiAoaXNfc2FtZSkgY29udGludWU7XG4gICAgY29uc3QgJGxpbmUgPSAkKCc8ZGl2IGNsYXNzPVwibGluZVwiPjwvZGl2PicpO1xuICAgICRkZXNjLmFwcGVuZCgkbGluZSk7XG4gICAgZm9yIChjb25zdCBwaWVjZXMgb2YgW3BpZWNlc19mcm9tLCBwaWVjZXNfdG9dKSB7XG4gICAgICBjb25zdCAkZ3JvdXAgPSAkKCc8c3BhbiBjbGFzcz1cImdyb3VwXCI+PC9zcGFuPicpO1xuICAgICAgJGxpbmUuYXBwZW5kKCRncm91cCk7XG4gICAgICBpZiAoIXBpZWNlcy5sZW5ndGgpIHtcbiAgICAgICAgJGdyb3VwLmFwcGVuZChgPHNwYW4gY2xhc3M9XCJlbXB0eVwiPjwvc3Bhbj5gKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgcGllY2Ugb2YgcGllY2VzKSB7XG4gICAgICAgIGNvbnN0ICRwaWVjZSA9IHBpZWNlLmNsb25lKCk7XG4gICAgICAgICRwaWVjZS5kYXRhKCdtYXRjaCcsIHBpZWNlLmRhdGEoJ21hdGNoJykpO1xuICAgICAgICAkZ3JvdXAuYXBwZW5kKCRwaWVjZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59OyIsIm1vZHVsZS5leHBvcnRzID0gKGRlc2MpID0+IHtcbiAgY29uc3QgJGRlc2MgPSAkKCcjZGVzY3JpcHRpb24nKTtcbiAgJGRlc2MuaHRtbChtYXJrZG93bi50b0hUTUwoZGVzYykpO1xufTsiLCJjb25zdCBSU1ZQID0gcmVxdWlyZSgncnN2cCcpO1xuY29uc3QgRE9NID0gcmVxdWlyZSgnLi9kb20nKTtcbmNvbnN0IFNlcnZlciA9IHJlcXVpcmUoJy4vc2VydmVyJyk7XG5jb25zdCBTdG9yYWdlID0gcmVxdWlyZSgnLi9zdG9yYWdlJyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuL2FwcCcpO1xuY29uc3QgQXBwID0gcmVxdWlyZSgnLi9hcHAvY29uc3RydWN0b3InKTtcbmNvbnN0IHtMYW5ndWFnZX0gPSByZXF1aXJlKCcuL2JlYW4nKTtcbmNvbnN0IHtleHRlbmR9ID0gJDtcblxuY29uc3QgY2F0ZWdvcmllcyA9IFNlcnZlci5nZXRDYXRlZ29yaWVzKCk7XG5jb25zdCBsYW5ndWFnZXMgPSBTZXJ2ZXIuZ2V0TGFuZ3VhZ2VzKCk7XG5jb25zdCBmcm9tID0gMCwgdG8gPSAxO1xuXG4vLyBzZXQgZ2xvYmFsIHByb21pc2UgZXJyb3IgaGFuZGxlclxuUlNWUC5vbignZXJyb3InLCBmdW5jdGlvbiAocmVhc29uKSB7XG4gIGNvbnNvbGUuYXNzZXJ0KGZhbHNlLCByZWFzb24pO1xufSk7XG5cbmV4dGVuZCh0cnVlLCB3aW5kb3csIHtcbiAgbWFpbjogRE9NLnNldHVwTWFpbixcbiAgbGVhcm46ICgpID0+IHtcbiAgICBleHRlbmQodHJ1ZSwgYXBwLCBuZXcgQXBwKCkpO1xuICAgIGxldCBsYW5nX2Zyb21fZXh0ID0gZ2V0VXJsUGFyYW1ldGVyKCdsYW5nX2Zyb20nKTtcbiAgICBsZXQgbGFuZ190b19leHQgPSBnZXRVcmxQYXJhbWV0ZXIoJ2xhbmdfdG8nKTtcbiAgICBpZiAobGFuZ19mcm9tX2V4dCAmJiBsYW5nX3RvX2V4dCkge1xuICAgICAgU3RvcmFnZS5sYW5ndWFnZS5zZXQoZnJvbSwgbGFuZ19mcm9tX2V4dCk7XG4gICAgICBTdG9yYWdlLmxhbmd1YWdlLnNldCh0bywgbGFuZ190b19leHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYW5nX2Zyb21fZXh0ID0gU3RvcmFnZS5sYW5ndWFnZS5nZXQoZnJvbSk7XG4gICAgICBsYW5nX3RvX2V4dCA9IFN0b3JhZ2UubGFuZ3VhZ2UuZ2V0KHRvKTtcbiAgICB9XG4gICAgY29uc3QgbGFuZ19mcm9tID0gTGFuZ3VhZ2UuZ2V0V2l0aEV4dChsYW5nX2Zyb21fZXh0KTtcbiAgICBjb25zdCBsYW5nX3RvID0gTGFuZ3VhZ2UuZ2V0V2l0aEV4dChsYW5nX3RvX2V4dCk7XG4gICAgYXBwLnNldExhbmd1YWdlKGZyb20sIGxhbmdfZnJvbSk7XG4gICAgYXBwLnNldExhbmd1YWdlKHRvLCBsYW5nX3RvKTtcbiAgICBhcHAuc2V0RWRpdG9yKGZyb20sIERPTS5pbml0RWRpdG9yKGZyb20sIGxhbmdfZnJvbSwgRE9NLnZpZXdDb21wYXJpc29uKSk7XG4gICAgYXBwLnNldEVkaXRvcih0bywgRE9NLmluaXRFZGl0b3IodG8sIGxhbmdfdG8sIERPTS52aWV3Q29tcGFyaXNvbikpO1xuICAgIERPTS5pbml0Q2F0ZWdvcmllcyhjYXRlZ29yaWVzKTtcbiAgICBET00uc2V0dXBMYXlvdXQoKTtcbiAgICBET00uc2V0TGFuZ3VhZ2UoZnJvbSwgbGFuZ19mcm9tKTtcbiAgICBET00uc2V0TGFuZ3VhZ2UodG8sIGxhbmdfdG8pO1xuICB9XG59KTtcblxuY29uc3QgZ2V0VXJsUGFyYW1ldGVyID0gKHNQYXJhbSkgPT4ge1xuICBjb25zdCBwYXJhbXMgPSBkZWNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSkpLnNwbGl0KCcmJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcGFyYW0gPSBwYXJhbXNbaV0uc3BsaXQoJz0nKTtcbiAgICBpZiAocGFyYW1bMF0gPT09IHNQYXJhbSkge1xuICAgICAgcmV0dXJuIHBhcmFtWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogcGFyYW1bMV07XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufTsiLCJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnLi9yZXF1ZXN0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKHVybCkgPT4ge1xuICByZXR1cm4gcmVxdWVzdCh1cmwsIHtcbiAgICB0eXBlOiAnR0VUJ1xuICB9KTtcbn07IiwiY29uc3QgUlNWUCA9IHJlcXVpcmUoJ3JzdnAnKTtcbmNvbnN0IHtcbiAgYWpheCxcbiAgZXh0ZW5kXG59ID0gJDtcblxuY29uc3QgZGVmYXVsdHMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIG5ldyBSU1ZQLlByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IHtcbiAgICAgIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICB9LFxuICAgICAgZXJyb3IocmVhc29uKSB7XG4gICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb3B0cyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMsIGNhbGxiYWNrcywge3VybH0pO1xuICAgIGFqYXgob3B0cyk7XG4gIH0pO1xufTsiLCJjb25zdCB7XG4gIENhdGVnb3J5XG59ID0gcmVxdWlyZSgnLi4vYmVhbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgcmV0dXJuIGNhdGVnb3JpZXM7XG59O1xuXG5jb25zdCBjYXRlZ29yaWVzID0gW1xuICBuZXcgQ2F0ZWdvcnkoJ1ZhcmlhYmxlcycsICd2YXInLCBbXG4gICAgbmV3IENhdGVnb3J5KCdEZWZpbml0aW9uJywgJ2RlZicpLFxuICAgIG5ldyBDYXRlZ29yeSgnQm9vbGVhbiBUeXBlJywgJ2Jvb2wnKSxcbiAgICBuZXcgQ2F0ZWdvcnkoJ051bWVyaWMgVHlwZXMnLCAnbnVtJyksXG4gICAgbmV3IENhdGVnb3J5KCdTdHJpbmdzJywgJ3N0cicpLFxuICAgIG5ldyBDYXRlZ29yeSgnRGF0YSBTdHJ1Y3R1cmVzJywgJ2RhdGFfc3RydWN0dXJlJyksXG4gICAgbmV3IENhdGVnb3J5KCdDb25zdGFudHMnLCAnY29uc3QnKVxuICBdKSxcbiAgbmV3IENhdGVnb3J5KCdPcGVyYXRvcnMnLCAnb3BlcmF0b3InLCBbXG4gICAgbmV3IENhdGVnb3J5KCdCb29sZWFuIE9wZXJhdGlvbnMnLCAnYm9vbCcpLFxuICAgIG5ldyBDYXRlZ29yeSgnQ29tcGFyaXNvbnMnLCAnY29tcGFyZScpLFxuICAgIG5ldyBDYXRlZ29yeSgnQml0d2lzZSBPcGVyYXRpb25zJywgJ2JpdHdpc2UnKVxuICBdKSxcbiAgbmV3IENhdGVnb3J5KCdDb25kaXRpb25hbHMnLCAnY29uZGl0aW9uYWwnLCBbXG4gICAgbmV3IENhdGVnb3J5KCdJZiAvIEVsc2UgU3RhdGVtZW50JywgJ2lmX2Vsc2UnKSxcbiAgICBuZXcgQ2F0ZWdvcnkoJ1N3aXRjaCAvIENhc2UgU3RhdGVtZW50JywgJ3N3aXRjaF9jYXNlJyksXG4gICAgbmV3IENhdGVnb3J5KCdUZXJuYXJ5IE9wZXJhdG9yJywgJ3Rlcm5hcnknKVxuICBdKSxcbiAgbmV3IENhdGVnb3J5KCdMb29wcycsICdsb29wJywgW1xuICAgIG5ldyBDYXRlZ29yeSgnRm9yIFN0YXRlbWVudCcsICdmb3InKSxcbiAgICBuZXcgQ2F0ZWdvcnkoJ1doaWxlIFN0YXRlbWVudCcsICd3aGlsZScpLFxuICAgIG5ldyBDYXRlZ29yeSgnQ29udGludWUgU3RhdGVtZW50JywgJ2NvbnRpbnVlJyksXG4gICAgbmV3IENhdGVnb3J5KCdCcmVhayBTdGF0ZW1lbnQnLCAnYnJlYWsnKVxuICBdKSxcbiAgbmV3IENhdGVnb3J5KCdGdW5jdGlvbnMnLCAnZnVuYycsIFtcbiAgICBuZXcgQ2F0ZWdvcnkoJ0RlZmluaXRpb24nLCAnZGVmJyksXG4gICAgbmV3IENhdGVnb3J5KCdQYXJhbWV0ZXJzJywgJ3BhcmFtJyksXG4gICAgbmV3IENhdGVnb3J5KCdSZXR1cm4gU3RhdGVtZW50JywgJ3JldHVybicpXG4gIF0pLFxuICBuZXcgQ2F0ZWdvcnkoJ0NsYXNzZXMnLCAnY2xhc3MnLCBbXG4gICAgbmV3IENhdGVnb3J5KCdEZWZpbml0aW9uJywgJ2RlZicpLFxuICAgIG5ldyBDYXRlZ29yeSgnQ2xhc3MgVmFyaWFibGVzJywgJ2Nsc192YXInKSxcbiAgICBuZXcgQ2F0ZWdvcnkoJ0NsYXNzIEZ1bmN0aW9ucycsICdjbHNfZnVuYycpLFxuICAgIG5ldyBDYXRlZ29yeSgnSW5zdGFuY2VzJywgJ29iaicpLFxuICAgIG5ldyBDYXRlZ29yeSgnSW5zdGFuY2UgVmFyaWFibGVzJywgJ29ial92YXInKSxcbiAgICBuZXcgQ2F0ZWdvcnkoJ0luc3RhbmNlIEZ1bmN0aW9ucycsICdvYmpfZnVuYycpLFxuICAgIG5ldyBDYXRlZ29yeSgnSW5oZXJpdGFuY2UnLCAnaW5oZXJpdCcpXG4gIF0pLFxuICBuZXcgQ2F0ZWdvcnkoJ0J1aWx0LUluJywgJ2J1aWx0X2luJywgW1xuICAgIG5ldyBDYXRlZ29yeSgnTWF0aCBGdW5jdGlvbnMnLCAnbWF0aCcpLFxuICAgIG5ldyBDYXRlZ29yeSgnU3RyaW5nIEZ1bmN0aW9ucycsICdzdHInKSxcbiAgICBuZXcgQ2F0ZWdvcnkoJ0RhdGEgU3RydWN0dXJlIE9wZXJhdGlvbnMnLCAnZGF0YV9zdHJ1Y3R1cmUnKSxcbiAgICBuZXcgQ2F0ZWdvcnkoJ090aGVycycsICdldGMnKVxuICBdKVxuXTsiLCJjb25zdCB7XG4gIExhbmd1YWdlXG59ID0gcmVxdWlyZSgnLi4vYmVhbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgcmV0dXJuIGxhbmd1YWdlcztcbn07XG5cbmNvbnN0IGxhbmd1YWdlcyA9IFtcbiAgbmV3IExhbmd1YWdlKCdDKysnLCAnY19jcHAnLCAnY3BwJyksXG4gIG5ldyBMYW5ndWFnZSgnUHl0aG9uJywgJ3B5dGhvbicsICdweScpLFxuICBuZXcgTGFuZ3VhZ2UoJ0phdmEnLCAnamF2YScsICdqYXZhJyksXG4gIG5ldyBMYW5ndWFnZSgnRU1DQVNjcmlwdCcsICdqYXZhc2NyaXB0JywgJ2pzJyksXG4gIG5ldyBMYW5ndWFnZSgnTmFkYS4nLCBudWxsLCAnaWRrJylcbl07IiwiY29uc3QgbG9hZENvZGUgPSByZXF1aXJlKCcuL2xvYWRfY29kZScpO1xuY29uc3QgbG9hZERlc2MgPSByZXF1aXJlKCcuL2xvYWRfZGVzYycpO1xuY29uc3QgZ2V0Q2F0ZWdvcmllcyA9IHJlcXVpcmUoJy4vZ2V0X2NhdGVnb3JpZXMnKTtcbmNvbnN0IGdldExhbmd1YWdlcyA9IHJlcXVpcmUoJy4vZ2V0X2xhbmd1YWdlcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbG9hZENvZGUsXG4gIGxvYWREZXNjLFxuICBnZXRDYXRlZ29yaWVzLFxuICBnZXRMYW5ndWFnZXNcbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnLi9hamF4L2dldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChjYXRlZ29yeSwgbGFuZ3VhZ2UpID0+IHtcbiAgbGV0IHBhdGggPSBgJHtsYW5ndWFnZS5leHR9L2NvZGUuJHtsYW5ndWFnZS5leHR9YDtcbiAgZG8ge1xuICAgIHBhdGggPSBjYXRlZ29yeS5kaXIgKyAnLycgKyBwYXRoO1xuICAgIGNhdGVnb3J5ID0gY2F0ZWdvcnkucGFyZW50O1xuICB9IHdoaWxlIChjYXRlZ29yeSk7XG4gIHJldHVybiBnZXQoYC4vZGF0YS8ke3BhdGh9YCk7XG59OyIsImNvbnN0IGdldCA9IHJlcXVpcmUoJy4vYWpheC9nZXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoY2F0ZWdvcnksIGxhbmd1YWdlKSA9PiB7XG4gIGxldCBwYXRoID0gYCR7bGFuZ3VhZ2UuZXh0fS9kZXNjLm1kYDtcbiAgZG8ge1xuICAgIHBhdGggPSBjYXRlZ29yeS5kaXIgKyAnLycgKyBwYXRoO1xuICAgIGNhdGVnb3J5ID0gY2F0ZWdvcnkucGFyZW50O1xuICB9IHdoaWxlIChjYXRlZ29yeSk7XG4gIHJldHVybiBnZXQoYC4vZGF0YS8ke3BhdGh9YCk7XG59OyIsImNvbnN0IGxhbmd1YWdlID0gcmVxdWlyZSgnLi9sYW5ndWFnZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbGFuZ3VhZ2Vcbn07IiwiY29uc3Qge3NldCwgZ2V0fSA9IHJlcXVpcmUoJy4vbWFuYWdlcicpO1xuXG5jb25zdCBnZXROYW1lID0gaW5kZXggPT4ge1xuICByZXR1cm4gYGxhbmdfJHtpbmRleH1gO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogKGluZGV4LCBleHQpID0+IHtcbiAgICByZXR1cm4gc2V0KGdldE5hbWUoaW5kZXgpLCBleHQpO1xuICB9LFxuICBnZXQ6IChpbmRleCkgPT4ge1xuICAgIHJldHVybiBnZXQoZ2V0TmFtZShpbmRleCkpO1xuICB9XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgIENvb2tpZXMuc2V0KG5hbWUsIHZhbHVlKTtcbiAgfSxcbiAgZ2V0OiBuYW1lID0+IHtcbiAgICBDb29raWVzLmdldChuYW1lKTtcbiAgfSxcbiAgcmVtb3ZlOiBuYW1lID0+IHtcbiAgICBDb29raWVzLnJlbW92ZShuYW1lKTtcbiAgfVxufTsiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyohXG4gKiBAb3ZlcnZpZXcgUlNWUCAtIGEgdGlueSBpbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlcy9BKy5cbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE2IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiAgICAgICAgICAgIFNlZSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vdGlsZGVpby9yc3ZwLmpzL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIDMuMy4zXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuICAoZmFjdG9yeSgoZ2xvYmFsLlJTVlAgPSBnbG9iYWwuUlNWUCB8fCB7fSkpKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gaW5kZXhPZihjYWxsYmFja3MsIGNhbGxiYWNrKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChjYWxsYmFja3NbaV0gPT09IGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGNhbGxiYWNrc0ZvcihvYmplY3QpIHtcbiAgdmFyIGNhbGxiYWNrcyA9IG9iamVjdC5fcHJvbWlzZUNhbGxiYWNrcztcblxuICBpZiAoIWNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IG9iamVjdC5fcHJvbWlzZUNhbGxiYWNrcyA9IHt9O1xuICB9XG5cbiAgcmV0dXJuIGNhbGxiYWNrcztcbn1cblxuLyoqXG4gIEBjbGFzcyBSU1ZQLkV2ZW50VGFyZ2V0XG4qL1xudmFyIEV2ZW50VGFyZ2V0ID0ge1xuXG4gIC8qKlxuICAgIGBSU1ZQLkV2ZW50VGFyZ2V0Lm1peGluYCBleHRlbmRzIGFuIG9iamVjdCB3aXRoIEV2ZW50VGFyZ2V0IG1ldGhvZHMuIEZvclxuICAgIEV4YW1wbGU6XG4gICAgIGBgYGphdmFzY3JpcHRcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgIFJTVlAuRXZlbnRUYXJnZXQubWl4aW4ob2JqZWN0KTtcbiAgICAgb2JqZWN0Lm9uKCdmaW5pc2hlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAvLyBoYW5kbGUgZXZlbnRcbiAgICB9KTtcbiAgICAgb2JqZWN0LnRyaWdnZXIoJ2ZpbmlzaGVkJywgeyBkZXRhaWw6IHZhbHVlIH0pO1xuICAgIGBgYFxuICAgICBgRXZlbnRUYXJnZXQubWl4aW5gIGFsc28gd29ya3Mgd2l0aCBwcm90b3R5cGVzOlxuICAgICBgYGBqYXZhc2NyaXB0XG4gICAgbGV0IFBlcnNvbiA9IGZ1bmN0aW9uKCkge307XG4gICAgUlNWUC5FdmVudFRhcmdldC5taXhpbihQZXJzb24ucHJvdG90eXBlKTtcbiAgICAgbGV0IHllaHVkYSA9IG5ldyBQZXJzb24oKTtcbiAgICBsZXQgdG9tID0gbmV3IFBlcnNvbigpO1xuICAgICB5ZWh1ZGEub24oJ3Bva2UnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgY29uc29sZS5sb2coJ1llaHVkYSBzYXlzIE9XJyk7XG4gICAgfSk7XG4gICAgIHRvbS5vbigncG9rZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBjb25zb2xlLmxvZygnVG9tIHNheXMgT1cnKTtcbiAgICB9KTtcbiAgICAgeWVodWRhLnRyaWdnZXIoJ3Bva2UnKTtcbiAgICB0b20udHJpZ2dlcigncG9rZScpO1xuICAgIGBgYFxuICAgICBAbWV0aG9kIG1peGluXG4gICAgQGZvciBSU1ZQLkV2ZW50VGFyZ2V0XG4gICAgQHByaXZhdGVcbiAgICBAcGFyYW0ge09iamVjdH0gb2JqZWN0IG9iamVjdCB0byBleHRlbmQgd2l0aCBFdmVudFRhcmdldCBtZXRob2RzXG4gICovXG4gIG1peGluOiBmdW5jdGlvbiBtaXhpbihvYmplY3QpIHtcbiAgICBvYmplY3RbJ29uJ10gPSB0aGlzWydvbiddO1xuICAgIG9iamVjdFsnb2ZmJ10gPSB0aGlzWydvZmYnXTtcbiAgICBvYmplY3RbJ3RyaWdnZXInXSA9IHRoaXNbJ3RyaWdnZXInXTtcbiAgICBvYmplY3QuX3Byb21pc2VDYWxsYmFja3MgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSxcblxuICAvKipcbiAgICBSZWdpc3RlcnMgYSBjYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuIGBldmVudE5hbWVgIGlzIHRyaWdnZXJlZFxuICAgICBgYGBqYXZhc2NyaXB0XG4gICAgb2JqZWN0Lm9uKCdldmVudCcsIGZ1bmN0aW9uKGV2ZW50SW5mbyl7XG4gICAgICAvLyBoYW5kbGUgdGhlIGV2ZW50XG4gICAgfSk7XG4gICAgIG9iamVjdC50cmlnZ2VyKCdldmVudCcpO1xuICAgIGBgYFxuICAgICBAbWV0aG9kIG9uXG4gICAgQGZvciBSU1ZQLkV2ZW50VGFyZ2V0XG4gICAgQHByaXZhdGVcbiAgICBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGxpc3RlbiBmb3JcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAqL1xuICBvbjogZnVuY3Rpb24gb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHZhciBhbGxDYWxsYmFja3MgPSBjYWxsYmFja3NGb3IodGhpcyksXG4gICAgICAgIGNhbGxiYWNrcyA9IHVuZGVmaW5lZDtcblxuICAgIGNhbGxiYWNrcyA9IGFsbENhbGxiYWNrc1tldmVudE5hbWVdO1xuXG4gICAgaWYgKCFjYWxsYmFja3MpIHtcbiAgICAgIGNhbGxiYWNrcyA9IGFsbENhbGxiYWNrc1tldmVudE5hbWVdID0gW107XG4gICAgfVxuXG4gICAgaWYgKGluZGV4T2YoY2FsbGJhY2tzLCBjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgIFlvdSBjYW4gdXNlIGBvZmZgIHRvIHN0b3AgZmlyaW5nIGEgcGFydGljdWxhciBjYWxsYmFjayBmb3IgYW4gZXZlbnQ6XG4gICAgIGBgYGphdmFzY3JpcHRcbiAgICBmdW5jdGlvbiBkb1N0dWZmKCkgeyAvLyBkbyBzdHVmZiEgfVxuICAgIG9iamVjdC5vbignc3R1ZmYnLCBkb1N0dWZmKTtcbiAgICAgb2JqZWN0LnRyaWdnZXIoJ3N0dWZmJyk7IC8vIGRvU3R1ZmYgd2lsbCBiZSBjYWxsZWRcbiAgICAgLy8gVW5yZWdpc3RlciBPTkxZIHRoZSBkb1N0dWZmIGNhbGxiYWNrXG4gICAgb2JqZWN0Lm9mZignc3R1ZmYnLCBkb1N0dWZmKTtcbiAgICBvYmplY3QudHJpZ2dlcignc3R1ZmYnKTsgLy8gZG9TdHVmZiB3aWxsIE5PVCBiZSBjYWxsZWRcbiAgICBgYGBcbiAgICAgSWYgeW91IGRvbid0IHBhc3MgYSBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGBvZmZgLCBBTEwgY2FsbGJhY2tzIGZvciB0aGVcbiAgICBldmVudCB3aWxsIG5vdCBiZSBleGVjdXRlZCB3aGVuIHRoZSBldmVudCBmaXJlcy4gRm9yIGV4YW1wbGU6XG4gICAgIGBgYGphdmFzY3JpcHRcbiAgICBsZXQgY2FsbGJhY2sxID0gZnVuY3Rpb24oKXt9O1xuICAgIGxldCBjYWxsYmFjazIgPSBmdW5jdGlvbigpe307XG4gICAgIG9iamVjdC5vbignc3R1ZmYnLCBjYWxsYmFjazEpO1xuICAgIG9iamVjdC5vbignc3R1ZmYnLCBjYWxsYmFjazIpO1xuICAgICBvYmplY3QudHJpZ2dlcignc3R1ZmYnKTsgLy8gY2FsbGJhY2sxIGFuZCBjYWxsYmFjazIgd2lsbCBiZSBleGVjdXRlZC5cbiAgICAgb2JqZWN0Lm9mZignc3R1ZmYnKTtcbiAgICBvYmplY3QudHJpZ2dlcignc3R1ZmYnKTsgLy8gY2FsbGJhY2sxIGFuZCBjYWxsYmFjazIgd2lsbCBub3QgYmUgZXhlY3V0ZWQhXG4gICAgYGBgXG4gICAgIEBtZXRob2Qgb2ZmXG4gICAgQGZvciBSU1ZQLkV2ZW50VGFyZ2V0XG4gICAgQHByaXZhdGVcbiAgICBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIGV2ZW50IHRvIHN0b3AgbGlzdGVuaW5nIHRvXG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgb3B0aW9uYWwgYXJndW1lbnQuIElmIGdpdmVuLCBvbmx5IHRoZSBmdW5jdGlvblxuICAgIGdpdmVuIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBldmVudCdzIGNhbGxiYWNrIHF1ZXVlLiBJZiBubyBgY2FsbGJhY2tgXG4gICAgYXJndW1lbnQgaXMgZ2l2ZW4sIGFsbCBjYWxsYmFja3Mgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGV2ZW50J3MgY2FsbGJhY2tcbiAgICBxdWV1ZS5cbiAgKi9cbiAgb2ZmOiBmdW5jdGlvbiBvZmYoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBhbGxDYWxsYmFja3MgPSBjYWxsYmFja3NGb3IodGhpcyksXG4gICAgICAgIGNhbGxiYWNrcyA9IHVuZGVmaW5lZCxcbiAgICAgICAgaW5kZXggPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICBhbGxDYWxsYmFja3NbZXZlbnROYW1lXSA9IFtdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbGxiYWNrcyA9IGFsbENhbGxiYWNrc1tldmVudE5hbWVdO1xuXG4gICAgaW5kZXggPSBpbmRleE9mKGNhbGxiYWNrcywgY2FsbGJhY2spO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgIFVzZSBgdHJpZ2dlcmAgdG8gZmlyZSBjdXN0b20gZXZlbnRzLiBGb3IgZXhhbXBsZTpcbiAgICAgYGBgamF2YXNjcmlwdFxuICAgIG9iamVjdC5vbignZm9vJywgZnVuY3Rpb24oKXtcbiAgICAgIGNvbnNvbGUubG9nKCdmb28gZXZlbnQgaGFwcGVuZWQhJyk7XG4gICAgfSk7XG4gICAgb2JqZWN0LnRyaWdnZXIoJ2ZvbycpO1xuICAgIC8vICdmb28gZXZlbnQgaGFwcGVuZWQhJyBsb2dnZWQgdG8gdGhlIGNvbnNvbGVcbiAgICBgYGBcbiAgICAgWW91IGNhbiBhbHNvIHBhc3MgYSB2YWx1ZSBhcyBhIHNlY29uZCBhcmd1bWVudCB0byBgdHJpZ2dlcmAgdGhhdCB3aWxsIGJlXG4gICAgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIGFsbCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBldmVudDpcbiAgICAgYGBgamF2YXNjcmlwdFxuICAgIG9iamVjdC5vbignZm9vJywgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgY29uc29sZS5sb2codmFsdWUubmFtZSk7XG4gICAgfSk7XG4gICAgIG9iamVjdC50cmlnZ2VyKCdmb28nLCB7IG5hbWU6ICdiYXInIH0pO1xuICAgIC8vICdiYXInIGxvZ2dlZCB0byB0aGUgY29uc29sZVxuICAgIGBgYFxuICAgICBAbWV0aG9kIHRyaWdnZXJcbiAgICBAZm9yIFJTVlAuRXZlbnRUYXJnZXRcbiAgICBAcHJpdmF0ZVxuICAgIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gYmUgdHJpZ2dlcmVkXG4gICAgQHBhcmFtIHsqfSBvcHRpb25zIG9wdGlvbmFsIHZhbHVlIHRvIGJlIHBhc3NlZCB0byBhbnkgZXZlbnQgaGFuZGxlcnMgZm9yXG4gICAgdGhlIGdpdmVuIGBldmVudE5hbWVgXG4gICovXG4gIHRyaWdnZXI6IGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnROYW1lLCBvcHRpb25zLCBsYWJlbCkge1xuICAgIHZhciBhbGxDYWxsYmFja3MgPSBjYWxsYmFja3NGb3IodGhpcyksXG4gICAgICAgIGNhbGxiYWNrcyA9IHVuZGVmaW5lZCxcbiAgICAgICAgY2FsbGJhY2sgPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoY2FsbGJhY2tzID0gYWxsQ2FsbGJhY2tzW2V2ZW50TmFtZV0pIHtcbiAgICAgIC8vIERvbid0IGNhY2hlIHRoZSBjYWxsYmFja3MubGVuZ3RoIHNpbmNlIGl0IG1heSBncm93XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXTtcblxuICAgICAgICBjYWxsYmFjayhvcHRpb25zLCBsYWJlbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG52YXIgY29uZmlnID0ge1xuICBpbnN0cnVtZW50OiBmYWxzZVxufTtcblxuRXZlbnRUYXJnZXRbJ21peGluJ10oY29uZmlnKTtcblxuZnVuY3Rpb24gY29uZmlndXJlKG5hbWUsIHZhbHVlKSB7XG4gIGlmIChuYW1lID09PSAnb25lcnJvcicpIHtcbiAgICAvLyBoYW5kbGUgZm9yIGxlZ2FjeSB1c2VycyB0aGF0IGV4cGVjdCB0aGUgYWN0dWFsXG4gICAgLy8gZXJyb3IgdG8gYmUgcGFzc2VkIHRvIHRoZWlyIGZ1bmN0aW9uIGFkZGVkIHZpYVxuICAgIC8vIGBSU1ZQLmNvbmZpZ3VyZSgnb25lcnJvcicsIHNvbWVGdW5jdGlvbkhlcmUpO2BcbiAgICBjb25maWdbJ29uJ10oJ2Vycm9yJywgdmFsdWUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgY29uZmlnW25hbWVdID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbmZpZ1tuYW1lXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc01heWJlVGhlbmFibGUoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGw7XG59XG5cbnZhciBfaXNBcnJheSA9IHVuZGVmaW5lZDtcbmlmICghQXJyYXkuaXNBcnJheSkge1xuICBfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcbn0gZWxzZSB7XG4gIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbn1cblxudmFyIGlzQXJyYXkgPSBfaXNBcnJheTtcblxuLy8gRGF0ZS5ub3cgaXMgbm90IGF2YWlsYWJsZSBpbiBicm93c2VycyA8IElFOVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZS9ub3cjQ29tcGF0aWJpbGl0eVxudmFyIG5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufTtcblxuZnVuY3Rpb24gRigpIHt9XG5cbnZhciBvX2NyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gKG8pIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZWNvbmQgYXJndW1lbnQgbm90IHN1cHBvcnRlZCcpO1xuICB9XG4gIGlmICh0eXBlb2YgbyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG4gIEYucHJvdG90eXBlID0gbztcbiAgcmV0dXJuIG5ldyBGKCk7XG59O1xuXG52YXIgcXVldWUgPSBbXTtcblxuZnVuY3Rpb24gc2NoZWR1bGVGbHVzaCgpIHtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVudHJ5ID0gcXVldWVbaV07XG5cbiAgICAgIHZhciBwYXlsb2FkID0gZW50cnkucGF5bG9hZDtcblxuICAgICAgcGF5bG9hZC5ndWlkID0gcGF5bG9hZC5rZXkgKyBwYXlsb2FkLmlkO1xuICAgICAgcGF5bG9hZC5jaGlsZEd1aWQgPSBwYXlsb2FkLmtleSArIHBheWxvYWQuY2hpbGRJZDtcbiAgICAgIGlmIChwYXlsb2FkLmVycm9yKSB7XG4gICAgICAgIHBheWxvYWQuc3RhY2sgPSBwYXlsb2FkLmVycm9yLnN0YWNrO1xuICAgICAgfVxuXG4gICAgICBjb25maWdbJ3RyaWdnZXInXShlbnRyeS5uYW1lLCBlbnRyeS5wYXlsb2FkKTtcbiAgICB9XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgfSwgNTApO1xufVxuZnVuY3Rpb24gaW5zdHJ1bWVudChldmVudE5hbWUsIHByb21pc2UsIGNoaWxkKSB7XG4gIGlmICgxID09PSBxdWV1ZS5wdXNoKHtcbiAgICBuYW1lOiBldmVudE5hbWUsXG4gICAgcGF5bG9hZDoge1xuICAgICAga2V5OiBwcm9taXNlLl9ndWlkS2V5LFxuICAgICAgaWQ6IHByb21pc2UuX2lkLFxuICAgICAgZXZlbnROYW1lOiBldmVudE5hbWUsXG4gICAgICBkZXRhaWw6IHByb21pc2UuX3Jlc3VsdCxcbiAgICAgIGNoaWxkSWQ6IGNoaWxkICYmIGNoaWxkLl9pZCxcbiAgICAgIGxhYmVsOiBwcm9taXNlLl9sYWJlbCxcbiAgICAgIHRpbWVTdGFtcDogbm93KCksXG4gICAgICBlcnJvcjogY29uZmlnW1wiaW5zdHJ1bWVudC13aXRoLXN0YWNrXCJdID8gbmV3IEVycm9yKHByb21pc2UuX2xhYmVsKSA6IG51bGxcbiAgICB9IH0pKSB7XG4gICAgc2NoZWR1bGVGbHVzaCgpO1xuICB9XG59XG5cbi8qKlxuICBgUlNWUC5Qcm9taXNlLnJlc29sdmVgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgcmVzb2x2ZWQgd2l0aCB0aGVcbiAgcGFzc2VkIGB2YWx1ZWAuIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUlNWUC5Qcm9taXNlLnJlc29sdmUoMSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZXNvbHZlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHsqfSBvYmplY3QgdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIHdpdGhcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgaWRlbnRpZnlpbmcgdGhlIHJldHVybmVkIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgZnVsZmlsbGVkIHdpdGggdGhlIGdpdmVuXG4gIGB2YWx1ZWBcbiovXG5mdW5jdGlvbiByZXNvbHZlJDEob2JqZWN0LCBsYWJlbCkge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wLCBsYWJlbCk7XG4gIHJlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHdpdGhPd25Qcm9taXNlKCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIFBFTkRJTkcgPSB2b2lkIDA7XG52YXIgRlVMRklMTEVEID0gMTtcbnZhciBSRUpFQ1RFRCA9IDI7XG5cbnZhciBHRVRfVEhFTl9FUlJPUiA9IG5ldyBFcnJvck9iamVjdCgpO1xuXG5mdW5jdGlvbiBnZXRUaGVuKHByb21pc2UpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIEdFVF9USEVOX0VSUk9SLmVycm9yID0gZXJyb3I7XG4gICAgcmV0dXJuIEdFVF9USEVOX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeVRoZW4odGhlbiwgdmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcikge1xuICB0cnkge1xuICAgIHRoZW4uY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSwgdGhlbikge1xuICBjb25maWcuYXN5bmMoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUsIHVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICBpZiAoIXNlYWxlZCAmJiBlcnJvcikge1xuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfVxuICB9LCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgdGhlbmFibGUuX29uRXJyb3IgPSBudWxsO1xuICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUsIHVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQpIHtcbiAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IgJiYgdGhlbiQkID09PSB0aGVuICYmIHByb21pc2UuY29uc3RydWN0b3IucmVzb2x2ZSA9PT0gcmVzb2x2ZSQxKSB7XG4gICAgaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoZW4kJCA9PT0gR0VUX1RIRU5fRVJST1IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBHRVRfVEhFTl9FUlJPUi5lcnJvcik7XG4gICAgfSBlbHNlIGlmICh0aGVuJCQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odGhlbiQkKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlLCBnZXRUaGVuKHZhbHVlKSk7XG4gIH0gZWxzZSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaFJlamVjdGlvbihwcm9taXNlKSB7XG4gIGlmIChwcm9taXNlLl9vbkVycm9yKSB7XG4gICAgcHJvbWlzZS5fb25FcnJvcihwcm9taXNlLl9yZXN1bHQpO1xuICB9XG5cbiAgcHVibGlzaChwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkge1xuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9taXNlLl9yZXN1bHQgPSB2YWx1ZTtcbiAgcHJvbWlzZS5fc3RhdGUgPSBGVUxGSUxMRUQ7XG5cbiAgaWYgKHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChjb25maWcuaW5zdHJ1bWVudCkge1xuICAgICAgaW5zdHJ1bWVudCgnZnVsZmlsbGVkJywgcHJvbWlzZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbmZpZy5hc3luYyhwdWJsaXNoLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3QocHJvbWlzZSwgcmVhc29uKSB7XG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHJldHVybjtcbiAgfVxuICBwcm9taXNlLl9zdGF0ZSA9IFJFSkVDVEVEO1xuICBwcm9taXNlLl9yZXN1bHQgPSByZWFzb247XG4gIGNvbmZpZy5hc3luYyhwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBzdWJzY3JpYmVycy5sZW5ndGg7XG5cbiAgcGFyZW50Ll9vbkVycm9yID0gbnVsbDtcblxuICBzdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7XG4gIHN1YnNjcmliZXJzW2xlbmd0aCArIEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICBzdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBjb25maWcuYXN5bmMocHVibGlzaCwgcGFyZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoKHByb21pc2UpIHtcbiAgdmFyIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnM7XG4gIHZhciBzZXR0bGVkID0gcHJvbWlzZS5fc3RhdGU7XG5cbiAgaWYgKGNvbmZpZy5pbnN0cnVtZW50KSB7XG4gICAgaW5zdHJ1bWVudChzZXR0bGVkID09PSBGVUxGSUxMRUQgPyAnZnVsZmlsbGVkJyA6ICdyZWplY3RlZCcsIHByb21pc2UpO1xuICB9XG5cbiAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjaGlsZCA9IHVuZGVmaW5lZCxcbiAgICAgIGNhbGxiYWNrID0gdW5kZWZpbmVkLFxuICAgICAgZGV0YWlsID0gcHJvbWlzZS5fcmVzdWx0O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICBjaGlsZCA9IHN1YnNjcmliZXJzW2ldO1xuICAgIGNhbGxiYWNrID0gc3Vic2NyaWJlcnNbaSArIHNldHRsZWRdO1xuXG4gICAgaWYgKGNoaWxkKSB7XG4gICAgICBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgfVxuICB9XG5cbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoID0gMDtcbn1cblxuZnVuY3Rpb24gRXJyb3JPYmplY3QoKSB7XG4gIHRoaXMuZXJyb3IgPSBudWxsO1xufVxuXG52YXIgVFJZX0NBVENIX0VSUk9SID0gbmV3IEVycm9yT2JqZWN0KCk7XG5cbmZ1bmN0aW9uIHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gY2FsbGJhY2soZGV0YWlsKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIFRSWV9DQVRDSF9FUlJPUi5lcnJvciA9IGU7XG4gICAgcmV0dXJuIFRSWV9DQVRDSF9FUlJPUjtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gIHZhciBoYXNDYWxsYmFjayA9IGlzRnVuY3Rpb24oY2FsbGJhY2spLFxuICAgICAgdmFsdWUgPSB1bmRlZmluZWQsXG4gICAgICBlcnJvciA9IHVuZGVmaW5lZCxcbiAgICAgIHN1Y2NlZWRlZCA9IHVuZGVmaW5lZCxcbiAgICAgIGZhaWxlZCA9IHVuZGVmaW5lZDtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB2YWx1ZSA9IHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpO1xuXG4gICAgaWYgKHZhbHVlID09PSBUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICBlcnJvciA9IHZhbHVlLmVycm9yO1xuICAgICAgdmFsdWUgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIHdpdGhPd25Qcm9taXNlKCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IGRldGFpbDtcbiAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgLy8gbm9vcFxuICB9IGVsc2UgaWYgKGhhc0NhbGxiYWNrICYmIHN1Y2NlZWRlZCkge1xuICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBGVUxGSUxMRUQpIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCByZXNvbHZlcikge1xuICB2YXIgcmVzb2x2ZWQgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICByZXNvbHZlcihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3QocHJvbWlzZSwgZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbiwgbGFiZWwpIHtcbiAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHM7XG5cbiAgdmFyIHBhcmVudCA9IHRoaXM7XG4gIHZhciBzdGF0ZSA9IHBhcmVudC5fc3RhdGU7XG5cbiAgaWYgKHN0YXRlID09PSBGVUxGSUxMRUQgJiYgIW9uRnVsZmlsbG1lbnQgfHwgc3RhdGUgPT09IFJFSkVDVEVEICYmICFvblJlamVjdGlvbikge1xuICAgIGNvbmZpZy5pbnN0cnVtZW50ICYmIGluc3RydW1lbnQoJ2NoYWluZWQnLCBwYXJlbnQsIHBhcmVudCk7XG4gICAgcmV0dXJuIHBhcmVudDtcbiAgfVxuXG4gIHBhcmVudC5fb25FcnJvciA9IG51bGw7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHBhcmVudC5jb25zdHJ1Y3Rvcihub29wLCBsYWJlbCk7XG4gIHZhciByZXN1bHQgPSBwYXJlbnQuX3Jlc3VsdDtcblxuICBjb25maWcuaW5zdHJ1bWVudCAmJiBpbnN0cnVtZW50KCdjaGFpbmVkJywgcGFyZW50LCBjaGlsZCk7XG5cbiAgaWYgKHN0YXRlKSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IF9hcmd1bWVudHNbc3RhdGUgLSAxXTtcbiAgICAgIGNvbmZpZy5hc3luYyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpbnZva2VDYWxsYmFjayhzdGF0ZSwgY2hpbGQsIGNhbGxiYWNrLCByZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfSkoKTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufVxuXG5mdW5jdGlvbiBtYWtlU2V0dGxlZFJlc3VsdChzdGF0ZSwgcG9zaXRpb24sIHZhbHVlKSB7XG4gIGlmIChzdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiAnZnVsZmlsbGVkJyxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiAncmVqZWN0ZWQnLFxuICAgICAgcmVhc29uOiB2YWx1ZVxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gRW51bWVyYXRvcihDb25zdHJ1Y3RvciwgaW5wdXQsIGFib3J0T25SZWplY3QsIGxhYmVsKSB7XG4gIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgdGhpcy5wcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3AsIGxhYmVsKTtcbiAgdGhpcy5fYWJvcnRPblJlamVjdCA9IGFib3J0T25SZWplY3Q7XG5cbiAgaWYgKHRoaXMuX3ZhbGlkYXRlSW5wdXQoaW5wdXQpKSB7XG4gICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcbiAgICB0aGlzLmxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICB0aGlzLl9yZW1haW5pbmcgPSBpbnB1dC5sZW5ndGg7XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICB0aGlzLl9lbnVtZXJhdGUoKTtcbiAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlamVjdCh0aGlzLnByb21pc2UsIHRoaXMuX3ZhbGlkYXRpb25FcnJvcigpKTtcbiAgfVxufVxuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fdmFsaWRhdGVJbnB1dCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICByZXR1cm4gaXNBcnJheShpbnB1dCk7XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fdmFsaWRhdGlvbkVycm9yID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn07XG5cbkVudW1lcmF0b3IucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcbiAgdmFyIGlucHV0ID0gdGhpcy5faW5wdXQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IHByb21pc2UuX3N0YXRlID09PSBQRU5ESU5HICYmIGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHRoaXMuX2VhY2hFbnRyeShpbnB1dFtpXSwgaSk7XG4gIH1cbn07XG5cbkVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVNYXliZVRoZW5hYmxlID0gZnVuY3Rpb24gKGVudHJ5LCBpKSB7XG4gIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgdmFyIHJlc29sdmUgPSBjLnJlc29sdmU7XG5cbiAgaWYgKHJlc29sdmUgPT09IHJlc29sdmUkMSkge1xuICAgIHZhciB0aGVuJCQgPSBnZXRUaGVuKGVudHJ5KTtcblxuICAgIGlmICh0aGVuJCQgPT09IHRoZW4gJiYgZW50cnkuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgICBlbnRyeS5fb25FcnJvciA9IG51bGw7XG4gICAgICB0aGlzLl9zZXR0bGVkQXQoZW50cnkuX3N0YXRlLCBpLCBlbnRyeS5fcmVzdWx0KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGVuJCQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuICAgICAgdGhpcy5fcmVzdWx0W2ldID0gdGhpcy5fbWFrZVJlc3VsdChGVUxGSUxMRUQsIGksIGVudHJ5KTtcbiAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UpIHtcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IGMobm9vcCk7XG4gICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCB0aGVuJCQpO1xuICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoZW50cnkpO1xuICAgICAgfSksIGkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLl93aWxsU2V0dGxlQXQocmVzb2x2ZShlbnRyeSksIGkpO1xuICB9XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gKGVudHJ5LCBpKSB7XG4gIGlmIChpc01heWJlVGhlbmFibGUoZW50cnkpKSB7XG4gICAgdGhpcy5fc2V0dGxlTWF5YmVUaGVuYWJsZShlbnRyeSwgaSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fcmVtYWluaW5nLS07XG4gICAgdGhpcy5fcmVzdWx0W2ldID0gdGhpcy5fbWFrZVJlc3VsdChGVUxGSUxMRUQsIGksIGVudHJ5KTtcbiAgfVxufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uIChzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2U7XG5cbiAgaWYgKHByb21pc2UuX3N0YXRlID09PSBQRU5ESU5HKSB7XG4gICAgdGhpcy5fcmVtYWluaW5nLS07XG5cbiAgICBpZiAodGhpcy5fYWJvcnRPblJlamVjdCAmJiBzdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IHRoaXMuX21ha2VSZXN1bHQoc3RhdGUsIGksIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICB9XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fbWFrZVJlc3VsdCA9IGZ1bmN0aW9uIChzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdCA9IGZ1bmN0aW9uIChwcm9taXNlLCBpKSB7XG4gIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICBzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KEZVTEZJTExFRCwgaSwgdmFsdWUpO1xuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgfSk7XG59O1xuXG4vKipcbiAgYFJTVlAuUHJvbWlzZS5hbGxgIGFjY2VwdHMgYW4gYXJyYXkgb2YgcHJvbWlzZXMsIGFuZCByZXR1cm5zIGEgbmV3IHByb21pc2Ugd2hpY2hcbiAgaXMgZnVsZmlsbGVkIHdpdGggYW4gYXJyYXkgb2YgZnVsZmlsbG1lbnQgdmFsdWVzIGZvciB0aGUgcGFzc2VkIHByb21pc2VzLCBvclxuICByZWplY3RlZCB3aXRoIHRoZSByZWFzb24gb2YgdGhlIGZpcnN0IHBhc3NlZCBwcm9taXNlIHRvIGJlIHJlamVjdGVkLiBJdCBjYXN0cyBhbGxcbiAgZWxlbWVudHMgb2YgdGhlIHBhc3NlZCBpdGVyYWJsZSB0byBwcm9taXNlcyBhcyBpdCBydW5zIHRoaXMgYWxnb3JpdGhtLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IFJTVlAucmVzb2x2ZSgyKTtcbiAgbGV0IHByb21pc2UzID0gUlNWUC5yZXNvbHZlKDMpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBSU1ZQLlByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgUlNWUC5hbGxgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSByZXR1cm5lZCBwcm9taXNlcydzXG4gIHJlamVjdGlvbiBoYW5kbGVyLiBGb3IgZXhhbXBsZTpcblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gUlNWUC5yZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gUlNWUC5yZWplY3QobmV3IEVycm9yKFwiM1wiKSk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFJTVlAuUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgIC8vIGVycm9yLm1lc3NhZ2UgPT09IFwiMlwiXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIGFsbFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXMgYXJyYXkgb2YgcHJvbWlzZXNcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBgcHJvbWlzZXNgIGhhdmUgYmVlblxuICBmdWxmaWxsZWQsIG9yIHJlamVjdGVkIGlmIGFueSBvZiB0aGVtIGJlY29tZSByZWplY3RlZC5cbiAgQHN0YXRpY1xuKi9cbmZ1bmN0aW9uIGFsbChlbnRyaWVzLCBsYWJlbCkge1xuICByZXR1cm4gbmV3IEVudW1lcmF0b3IodGhpcywgZW50cmllcywgdHJ1ZSwgLyogYWJvcnQgb24gcmVqZWN0ICovbGFiZWwpLnByb21pc2U7XG59XG5cbi8qKlxuICBgUlNWUC5Qcm9taXNlLnJhY2VgIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaCBpcyBzZXR0bGVkIGluIHRoZSBzYW1lIHdheSBhcyB0aGVcbiAgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gc2V0dGxlLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBuZXcgUlNWUC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMicpO1xuICAgIH0sIDEwMCk7XG4gIH0pO1xuXG4gIFJTVlAuUHJvbWlzZS5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gcmVzdWx0ID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIGl0IHdhcyByZXNvbHZlZCBiZWZvcmUgcHJvbWlzZTFcbiAgICAvLyB3YXMgcmVzb2x2ZWQuXG4gIH0pO1xuICBgYGBcblxuICBgUlNWUC5Qcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMScpO1xuICAgIH0sIDIwMCk7XG4gIH0pO1xuXG4gIGxldCBwcm9taXNlMiA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdwcm9taXNlIDInKSk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgUlNWUC5Qcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBSU1ZQLlByb21pc2UucmFjZShbYWpheCgnZm9vLmpzb24nKSwgdGltZW91dCg1MDAwKV0pXG4gIGBgYFxuXG4gIEBtZXRob2QgcmFjZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXMgYXJyYXkgb2YgcHJvbWlzZXMgdG8gb2JzZXJ2ZVxuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBkZXNjcmliaW5nIHRoZSBwcm9taXNlIHJldHVybmVkLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB3aGljaCBzZXR0bGVzIGluIHRoZSBzYW1lIHdheSBhcyB0aGUgZmlyc3QgcGFzc2VkXG4gIHByb21pc2UgdG8gc2V0dGxlLlxuKi9cbmZ1bmN0aW9uIHJhY2UoZW50cmllcywgbGFiZWwpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wLCBsYWJlbCk7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgcHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGVudHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBzdWJzY3JpYmUoQ29uc3RydWN0b3IucmVzb2x2ZShlbnRyaWVzW2ldKSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLyoqXG4gIGBSU1ZQLlByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUlNWUC5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIENvZGUgaGVyZSBkb2Vzbid0IHJ1biBiZWNhdXNlIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZWplY3RcbiAgQHN0YXRpY1xuICBAcGFyYW0geyp9IHJlYXNvbiB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aC5cbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgaWRlbnRpZnlpbmcgdGhlIHJldHVybmVkIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmZ1bmN0aW9uIHJlamVjdCQxKHJlYXNvbiwgbGFiZWwpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCwgbGFiZWwpO1xuICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbnZhciBndWlkS2V5ID0gJ3JzdnBfJyArIG5vdygpICsgJy0nO1xudmFyIGNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBuZWVkc1Jlc29sdmVyKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG59XG5cbmZ1bmN0aW9uIG5lZWRzTmV3KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xufVxuXG4vKipcbiAgUHJvbWlzZSBvYmplY3RzIHJlcHJlc2VudCB0aGUgZXZlbnR1YWwgcmVzdWx0IG9mIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uIFRoZVxuICBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLCB3aGljaFxuICByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZeKAmXMgZXZlbnR1YWwgdmFsdWUgb3IgdGhlIHJlYXNvblxuICB3aHkgdGhlIHByb21pc2UgY2Fubm90IGJlIGZ1bGZpbGxlZC5cblxuICBUZXJtaW5vbG9neVxuICAtLS0tLS0tLS0tLVxuXG4gIC0gYHByb21pc2VgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB3aXRoIGEgYHRoZW5gIG1ldGhvZCB3aG9zZSBiZWhhdmlvciBjb25mb3JtcyB0byB0aGlzIHNwZWNpZmljYXRpb24uXG4gIC0gYHRoZW5hYmxlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gdGhhdCBkZWZpbmVzIGEgYHRoZW5gIG1ldGhvZC5cbiAgLSBgdmFsdWVgIGlzIGFueSBsZWdhbCBKYXZhU2NyaXB0IHZhbHVlIChpbmNsdWRpbmcgdW5kZWZpbmVkLCBhIHRoZW5hYmxlLCBvciBhIHByb21pc2UpLlxuICAtIGBleGNlcHRpb25gIGlzIGEgdmFsdWUgdGhhdCBpcyB0aHJvd24gdXNpbmcgdGhlIHRocm93IHN0YXRlbWVudC5cbiAgLSBgcmVhc29uYCBpcyBhIHZhbHVlIHRoYXQgaW5kaWNhdGVzIHdoeSBhIHByb21pc2Ugd2FzIHJlamVjdGVkLlxuICAtIGBzZXR0bGVkYCB0aGUgZmluYWwgcmVzdGluZyBzdGF0ZSBvZiBhIHByb21pc2UsIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cblxuICBBIHByb21pc2UgY2FuIGJlIGluIG9uZSBvZiB0aHJlZSBzdGF0ZXM6IHBlbmRpbmcsIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQuXG5cbiAgUHJvbWlzZXMgdGhhdCBhcmUgZnVsZmlsbGVkIGhhdmUgYSBmdWxmaWxsbWVudCB2YWx1ZSBhbmQgYXJlIGluIHRoZSBmdWxmaWxsZWRcbiAgc3RhdGUuICBQcm9taXNlcyB0aGF0IGFyZSByZWplY3RlZCBoYXZlIGEgcmVqZWN0aW9uIHJlYXNvbiBhbmQgYXJlIGluIHRoZVxuICByZWplY3RlZCBzdGF0ZS4gIEEgZnVsZmlsbG1lbnQgdmFsdWUgaXMgbmV2ZXIgYSB0aGVuYWJsZS5cblxuICBQcm9taXNlcyBjYW4gYWxzbyBiZSBzYWlkIHRvICpyZXNvbHZlKiBhIHZhbHVlLiAgSWYgdGhpcyB2YWx1ZSBpcyBhbHNvIGFcbiAgcHJvbWlzZSwgdGhlbiB0aGUgb3JpZ2luYWwgcHJvbWlzZSdzIHNldHRsZWQgc3RhdGUgd2lsbCBtYXRjaCB0aGUgdmFsdWUnc1xuICBzZXR0bGVkIHN0YXRlLiAgU28gYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCByZWplY3RzIHdpbGxcbiAgaXRzZWxmIHJlamVjdCwgYW5kIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgZnVsZmlsbHMgd2lsbFxuICBpdHNlbGYgZnVsZmlsbC5cblxuXG4gIEJhc2ljIFVzYWdlOlxuICAtLS0tLS0tLS0tLS1cblxuICBgYGBqc1xuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIC8vIG9uIHN1Y2Nlc3NcbiAgICByZXNvbHZlKHZhbHVlKTtcblxuICAgIC8vIG9uIGZhaWx1cmVcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gb24gcmVqZWN0aW9uXG4gIH0pO1xuICBgYGBcblxuICBBZHZhbmNlZCBVc2FnZTpcbiAgLS0tLS0tLS0tLS0tLS0tXG5cbiAgUHJvbWlzZXMgc2hpbmUgd2hlbiBhYnN0cmFjdGluZyBhd2F5IGFzeW5jaHJvbm91cyBpbnRlcmFjdGlvbnMgc3VjaCBhc1xuICBgWE1MSHR0cFJlcXVlc3Rgcy5cblxuICBgYGBqc1xuICBmdW5jdGlvbiBnZXRKU09OKHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBoYW5kbGVyO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5ET05FKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ2dldEpTT046IGAnICsgdXJsICsgJ2AgZmFpbGVkIHdpdGggc3RhdHVzOiBbJyArIHRoaXMuc3RhdHVzICsgJ10nKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0SlNPTignL3Bvc3RzLmpzb24nKS50aGVuKGZ1bmN0aW9uKGpzb24pIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIFVubGlrZSBjYWxsYmFja3MsIHByb21pc2VzIGFyZSBncmVhdCBjb21wb3NhYmxlIHByaW1pdGl2ZXMuXG5cbiAgYGBganNcbiAgUHJvbWlzZS5hbGwoW1xuICAgIGdldEpTT04oJy9wb3N0cycpLFxuICAgIGdldEpTT04oJy9jb21tZW50cycpXG4gIF0pLnRoZW4oZnVuY3Rpb24odmFsdWVzKXtcbiAgICB2YWx1ZXNbMF0gLy8gPT4gcG9zdHNKU09OXG4gICAgdmFsdWVzWzFdIC8vID0+IGNvbW1lbnRzSlNPTlxuXG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfSk7XG4gIGBgYFxuXG4gIEBjbGFzcyBSU1ZQLlByb21pc2VcbiAgQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZXJcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQGNvbnN0cnVjdG9yXG4qL1xuZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlciwgbGFiZWwpIHtcbiAgdGhpcy5faWQgPSBjb3VudGVyKys7XG4gIHRoaXMuX2xhYmVsID0gbGFiZWw7XG4gIHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICB0aGlzLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgY29uZmlnLmluc3RydW1lbnQgJiYgaW5zdHJ1bWVudCgnY3JlYXRlZCcsIHRoaXMpO1xuXG4gIGlmIChub29wICE9PSByZXNvbHZlcikge1xuICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBuZWVkc1Jlc29sdmVyKCk7XG4gICAgdGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPyBpbml0aWFsaXplUHJvbWlzZSh0aGlzLCByZXNvbHZlcikgOiBuZWVkc05ldygpO1xuICB9XG59XG5cblByb21pc2UuY2FzdCA9IHJlc29sdmUkMTsgLy8gZGVwcmVjYXRlZFxuUHJvbWlzZS5hbGwgPSBhbGw7XG5Qcm9taXNlLnJhY2UgPSByYWNlO1xuUHJvbWlzZS5yZXNvbHZlID0gcmVzb2x2ZSQxO1xuUHJvbWlzZS5yZWplY3QgPSByZWplY3QkMTtcblxuUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gIF9ndWlkS2V5OiBndWlkS2V5LFxuXG4gIF9vbkVycm9yOiBmdW5jdGlvbiBfb25FcnJvcihyZWFzb24pIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgY29uZmlnLmFmdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9taXNlLl9vbkVycm9yKSB7XG4gICAgICAgIGNvbmZpZ1sndHJpZ2dlciddKCdlcnJvcicsIHJlYXNvbiwgcHJvbWlzZS5fbGFiZWwpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICAgIHdoaWNoIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlXG4gICAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbih1c2VyKXtcbiAgICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgIC8vIHVzZXIgaXMgdW5hdmFpbGFibGUsIGFuZCB5b3UgYXJlIGdpdmVuIHRoZSByZWFzb24gd2h5XG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIENoYWluaW5nXG4gICAgLS0tLS0tLS1cbiAgXG4gICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgICBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmlyc3QgcHJvbWlzZSdzIGZ1bGZpbGxtZW50XG4gICAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICByZXR1cm4gdXNlci5uYW1lO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiAnZGVmYXVsdCBuYW1lJztcbiAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgICAgLy8gd2lsbCBiZSBgJ2RlZmF1bHQgbmFtZSdgXG4gICAgfSk7XG4gIFxuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2VcXCdyZSB1bmhhcHB5Jyk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAvLyBpZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHJlYXNvbmAgd2lsbCBiZSAnRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknLlxuICAgICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2VcXCdyZSB1bmhhcHB5Jy5cbiAgICB9KTtcbiAgICBgYGBcbiAgICBJZiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIGRvZXMgbm90IHNwZWNpZnkgYSByZWplY3Rpb24gaGFuZGxlciwgcmVqZWN0aW9uIHJlYXNvbnMgd2lsbCBiZSBwcm9wYWdhdGVkIGZ1cnRoZXIgZG93bnN0cmVhbS5cbiAgXG4gICAgYGBganNcbiAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBQZWRhZ29naWNhbEV4Y2VwdGlvbignVXBzdHJlYW0gZXJyb3InKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgLy8gVGhlIGBQZWRnYWdvY2lhbEV4Y2VwdGlvbmAgaXMgcHJvcGFnYXRlZCBhbGwgdGhlIHdheSBkb3duIHRvIGhlcmVcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQXNzaW1pbGF0aW9uXG4gICAgLS0tLS0tLS0tLS0tXG4gIFxuICAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gICAgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5LiBUaGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXR1cm5pbmcgYSBwcm9taXNlIGluIHRoZVxuICAgIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBoYW5kbGVyLiBUaGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgdGhlbiBiZSBwZW5kaW5nXG4gICAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAgIC8vIFRoZSB1c2VyJ3MgY29tbWVudHMgYXJlIG5vdyBhdmFpbGFibGVcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgSWYgdGhlIGFzc2ltbGlhdGVkIHByb21pc2UgcmVqZWN0cywgdGhlbiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgYWxzbyByZWplY3QuXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgZnVsZmlsbHMsIHdlJ2xsIGhhdmUgdGhlIHZhbHVlIGhlcmVcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIFNpbXBsZSBFeGFtcGxlXG4gICAgLS0tLS0tLS0tLS0tLS1cbiAgXG4gICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICBcbiAgICBgYGBqYXZhc2NyaXB0XG4gICAgbGV0IHJlc3VsdDtcbiAgXG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgRXJyYmFjayBFeGFtcGxlXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFJlc3VsdChmdW5jdGlvbihyZXN1bHQsIGVycil7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIC8vIGZhaWx1cmVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgIH1cbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgUHJvbWlzZSBFeGFtcGxlO1xuICBcbiAgICBgYGBqYXZhc2NyaXB0XG4gICAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBBZHZhbmNlZCBFeGFtcGxlXG4gICAgLS0tLS0tLS0tLS0tLS1cbiAgXG4gICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICBcbiAgICBgYGBqYXZhc2NyaXB0XG4gICAgbGV0IGF1dGhvciwgYm9va3M7XG4gIFxuICAgIHRyeSB7XG4gICAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgICBib29rcyAgPSBmaW5kQm9va3NCeUF1dGhvcihhdXRob3IpO1xuICAgICAgLy8gc3VjY2Vzc1xuICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfVxuICAgIGBgYFxuICBcbiAgICBFcnJiYWNrIEV4YW1wbGVcbiAgXG4gICAgYGBganNcbiAgXG4gICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuICBcbiAgICB9XG4gIFxuICAgIGZ1bmN0aW9uIGZhaWx1cmUocmVhc29uKSB7XG4gIFxuICAgIH1cbiAgXG4gICAgZmluZEF1dGhvcihmdW5jdGlvbihhdXRob3IsIGVycil7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmaW5kQm9vb2tzQnlBdXRob3IoYXV0aG9yLCBmdW5jdGlvbihib29rcywgZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZShyZWFzb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBQcm9taXNlIEV4YW1wbGU7XG4gIFxuICAgIGBgYGphdmFzY3JpcHRcbiAgICBmaW5kQXV0aG9yKCkuXG4gICAgICB0aGVuKGZpbmRCb29rc0J5QXV0aG9yKS5cbiAgICAgIHRoZW4oZnVuY3Rpb24oYm9va3Mpe1xuICAgICAgICAvLyBmb3VuZCBib29rc1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIHRoZW5cbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxtZW50XG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cbiAgdGhlbjogdGhlbixcblxuICAvKipcbiAgICBgY2F0Y2hgIGlzIHNpbXBseSBzdWdhciBmb3IgYHRoZW4odW5kZWZpbmVkLCBvblJlamVjdGlvbilgIHdoaWNoIG1ha2VzIGl0IHRoZSBzYW1lXG4gICAgYXMgdGhlIGNhdGNoIGJsb2NrIG9mIGEgdHJ5L2NhdGNoIHN0YXRlbWVudC5cbiAgXG4gICAgYGBganNcbiAgICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkblxcJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICAgIH1cbiAgXG4gICAgLy8gc3luY2hyb25vdXNcbiAgICB0cnkge1xuICAgICAgZmluZEF1dGhvcigpO1xuICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgIH1cbiAgXG4gICAgLy8gYXN5bmMgd2l0aCBwcm9taXNlc1xuICAgIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQG1ldGhvZCBjYXRjaFxuICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gICAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG4gICdjYXRjaCc6IGZ1bmN0aW9uIF9jYXRjaChvblJlamVjdGlvbiwgbGFiZWwpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24sIGxhYmVsKTtcbiAgfSxcblxuICAvKipcbiAgICBgZmluYWxseWAgd2lsbCBiZSBpbnZva2VkIHJlZ2FyZGxlc3Mgb2YgdGhlIHByb21pc2UncyBmYXRlIGp1c3QgYXMgbmF0aXZlXG4gICAgdHJ5L2NhdGNoL2ZpbmFsbHkgYmVoYXZlc1xuICBcbiAgICBTeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKSB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQXV0aG9yKCk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBhbHdheXMgcnVuc1xuICAgICAgLy8gZG9lc24ndCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGZpbmFsbHlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuICAnZmluYWxseSc6IGZ1bmN0aW9uIF9maW5hbGx5KGNhbGxiYWNrLCBsYWJlbCkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcztcbiAgICB2YXIgY29uc3RydWN0b3IgPSBwcm9taXNlLmNvbnN0cnVjdG9yO1xuXG4gICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgfSk7XG4gICAgfSwgbGFiZWwpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBSZXN1bHQoKSB7XG4gIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG59XG5cbnZhciBFUlJPUiA9IG5ldyBSZXN1bHQoKTtcbnZhciBHRVRfVEhFTl9FUlJPUiQxID0gbmV3IFJlc3VsdCgpO1xuXG5mdW5jdGlvbiBnZXRUaGVuJDEob2JqKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG9iai50aGVuO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIEVSUk9SLnZhbHVlID0gZXJyb3I7XG4gICAgcmV0dXJuIEVSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeUFwcGx5KGYsIHMsIGEpIHtcbiAgdHJ5IHtcbiAgICBmLmFwcGx5KHMsIGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIEVSUk9SLnZhbHVlID0gZXJyb3I7XG4gICAgcmV0dXJuIEVSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VPYmplY3QoXywgYXJndW1lbnROYW1lcykge1xuICB2YXIgb2JqID0ge307XG4gIHZhciBsZW5ndGggPSBfLmxlbmd0aDtcbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkobGVuZ3RoKTtcblxuICBmb3IgKHZhciB4ID0gMDsgeCA8IGxlbmd0aDsgeCsrKSB7XG4gICAgYXJnc1t4XSA9IF9beF07XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgX25hbWUgPSBhcmd1bWVudE5hbWVzW2ldO1xuICAgIG9ialtfbmFtZV0gPSBhcmdzW2kgKyAxXTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIGFycmF5UmVzdWx0KF8pIHtcbiAgdmFyIGxlbmd0aCA9IF8ubGVuZ3RoO1xuICB2YXIgYXJncyA9IG5ldyBBcnJheShsZW5ndGggLSAxKTtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYXJnc1tpIC0gMV0gPSBfW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFyZ3M7XG59XG5cbmZ1bmN0aW9uIHdyYXBUaGVuYWJsZShfdGhlbiwgcHJvbWlzZSkge1xuICByZXR1cm4ge1xuICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxGaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgIHJldHVybiBfdGhlbi5jYWxsKHByb21pc2UsIG9uRnVsRmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICBgUlNWUC5kZW5vZGVpZnlgIHRha2VzIGEgJ25vZGUtc3R5bGUnIGZ1bmN0aW9uIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdFxuICB3aWxsIHJldHVybiBhbiBgUlNWUC5Qcm9taXNlYC4gWW91IGNhbiB1c2UgYGRlbm9kZWlmeWAgaW4gTm9kZS5qcyBvciB0aGVcbiAgYnJvd3NlciB3aGVuIHlvdSdkIHByZWZlciB0byB1c2UgcHJvbWlzZXMgb3ZlciB1c2luZyBjYWxsYmFja3MuIEZvciBleGFtcGxlLFxuICBgZGVub2RlaWZ5YCB0cmFuc2Zvcm1zIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgZnMgPSByZXF1aXJlKCdmcycpO1xuXG4gIGZzLnJlYWRGaWxlKCdteWZpbGUudHh0JywgZnVuY3Rpb24oZXJyLCBkYXRhKXtcbiAgICBpZiAoZXJyKSByZXR1cm4gaGFuZGxlRXJyb3IoZXJyKTtcbiAgICBoYW5kbGVEYXRhKGRhdGEpO1xuICB9KTtcbiAgYGBgXG5cbiAgaW50bzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gIGxldCByZWFkRmlsZSA9IFJTVlAuZGVub2RlaWZ5KGZzLnJlYWRGaWxlKTtcblxuICByZWFkRmlsZSgnbXlmaWxlLnR4dCcpLnRoZW4oaGFuZGxlRGF0YSwgaGFuZGxlRXJyb3IpO1xuICBgYGBcblxuICBJZiB0aGUgbm9kZSBmdW5jdGlvbiBoYXMgbXVsdGlwbGUgc3VjY2VzcyBwYXJhbWV0ZXJzLCB0aGVuIGBkZW5vZGVpZnlgXG4gIGp1c3QgcmV0dXJucyB0aGUgZmlyc3Qgb25lOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHJlcXVlc3QgPSBSU1ZQLmRlbm9kZWlmeShyZXF1aXJlKCdyZXF1ZXN0JykpO1xuXG4gIHJlcXVlc3QoJ2h0dHA6Ly9leGFtcGxlLmNvbScpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgLy8gLi4uXG4gIH0pO1xuICBgYGBcblxuICBIb3dldmVyLCBpZiB5b3UgbmVlZCBhbGwgc3VjY2VzcyBwYXJhbWV0ZXJzLCBzZXR0aW5nIGBkZW5vZGVpZnlgJ3NcbiAgc2Vjb25kIHBhcmFtZXRlciB0byBgdHJ1ZWAgY2F1c2VzIGl0IHRvIHJldHVybiBhbGwgc3VjY2VzcyBwYXJhbWV0ZXJzXG4gIGFzIGFuIGFycmF5OlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHJlcXVlc3QgPSBSU1ZQLmRlbm9kZWlmeShyZXF1aXJlKCdyZXF1ZXN0JyksIHRydWUpO1xuXG4gIHJlcXVlc3QoJ2h0dHA6Ly9leGFtcGxlLmNvbScpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgLy8gcmVzdWx0WzBdIC0+IHJlc1xuICAgIC8vIHJlc3VsdFsxXSAtPiBib2R5XG4gIH0pO1xuICBgYGBcblxuICBPciBpZiB5b3UgcGFzcyBpdCBhbiBhcnJheSB3aXRoIG5hbWVzIGl0IHJldHVybnMgdGhlIHBhcmFtZXRlcnMgYXMgYSBoYXNoOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHJlcXVlc3QgPSBSU1ZQLmRlbm9kZWlmeShyZXF1aXJlKCdyZXF1ZXN0JyksIFsncmVzJywgJ2JvZHknXSk7XG5cbiAgcmVxdWVzdCgnaHR0cDovL2V4YW1wbGUuY29tJykudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAvLyByZXN1bHQucmVzXG4gICAgLy8gcmVzdWx0LmJvZHlcbiAgfSk7XG4gIGBgYFxuXG4gIFNvbWV0aW1lcyB5b3UgbmVlZCB0byByZXRhaW4gdGhlIGB0aGlzYDpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhcHAgPSByZXF1aXJlKCdleHByZXNzJykoKTtcbiAgbGV0IHJlbmRlciA9IFJTVlAuZGVub2RlaWZ5KGFwcC5yZW5kZXIuYmluZChhcHApKTtcbiAgYGBgXG5cbiAgVGhlIGRlbm9kaWZpZWQgZnVuY3Rpb24gaW5oZXJpdHMgZnJvbSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uIEl0IHdvcmtzIGluIGFsbFxuICBlbnZpcm9ubWVudHMsIGV4Y2VwdCBJRSAxMCBhbmQgYmVsb3cuIENvbnNlcXVlbnRseSBhbGwgcHJvcGVydGllcyBvZiB0aGUgb3JpZ2luYWxcbiAgZnVuY3Rpb24gYXJlIGF2YWlsYWJsZSB0byB5b3UuIEhvd2V2ZXIsIGFueSBwcm9wZXJ0aWVzIHlvdSBjaGFuZ2Ugb24gdGhlXG4gIGRlbm9kZWlmaWVkIGZ1bmN0aW9uIHdvbid0IGJlIGNoYW5nZWQgb24gdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLiBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHJlcXVlc3QgPSBSU1ZQLmRlbm9kZWlmeShyZXF1aXJlKCdyZXF1ZXN0JykpLFxuICAgICAgY29va2llSmFyID0gcmVxdWVzdC5qYXIoKTsgLy8gPC0gSW5oZXJpdGFuY2UgaXMgdXNlZCBoZXJlXG5cbiAgcmVxdWVzdCgnaHR0cDovL2V4YW1wbGUuY29tJywge2phcjogY29va2llSmFyfSkudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAvLyBjb29raWVKYXIuY29va2llcyBob2xkcyBub3cgdGhlIGNvb2tpZXMgcmV0dXJuZWQgYnkgZXhhbXBsZS5jb21cbiAgfSk7XG4gIGBgYFxuXG4gIFVzaW5nIGBkZW5vZGVpZnlgIG1ha2VzIGl0IGVhc2llciB0byBjb21wb3NlIGFzeW5jaHJvbm91cyBvcGVyYXRpb25zIGluc3RlYWRcbiAgb2YgdXNpbmcgY2FsbGJhY2tzLiBGb3IgZXhhbXBsZSwgaW5zdGVhZCBvZjpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbiAgZnMucmVhZEZpbGUoJ215ZmlsZS50eHQnLCBmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgIGlmIChlcnIpIHsgLi4uIH0gLy8gSGFuZGxlIGVycm9yXG4gICAgZnMud3JpdGVGaWxlKCdteWZpbGUyLnR4dCcsIGRhdGEsIGZ1bmN0aW9uKGVycil7XG4gICAgICBpZiAoZXJyKSB7IC4uLiB9IC8vIEhhbmRsZSBlcnJvclxuICAgICAgY29uc29sZS5sb2coJ2RvbmUnKVxuICAgIH0pO1xuICB9KTtcbiAgYGBgXG5cbiAgeW91IGNhbiBjaGFpbiB0aGUgb3BlcmF0aW9ucyB0b2dldGhlciB1c2luZyBgdGhlbmAgZnJvbSB0aGUgcmV0dXJuZWQgcHJvbWlzZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gIGxldCByZWFkRmlsZSA9IFJTVlAuZGVub2RlaWZ5KGZzLnJlYWRGaWxlKTtcbiAgbGV0IHdyaXRlRmlsZSA9IFJTVlAuZGVub2RlaWZ5KGZzLndyaXRlRmlsZSk7XG5cbiAgcmVhZEZpbGUoJ215ZmlsZS50eHQnKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgIHJldHVybiB3cml0ZUZpbGUoJ215ZmlsZTIudHh0JywgZGF0YSk7XG4gIH0pLnRoZW4oZnVuY3Rpb24oKXtcbiAgICBjb25zb2xlLmxvZygnZG9uZScpXG4gIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXtcbiAgICAvLyBIYW5kbGUgZXJyb3JcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgZGVub2RlaWZ5XG4gIEBzdGF0aWNcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7RnVuY3Rpb259IG5vZGVGdW5jIGEgJ25vZGUtc3R5bGUnIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBjYWxsYmFjayBhc1xuICBpdHMgbGFzdCBhcmd1bWVudC4gVGhlIGNhbGxiYWNrIGV4cGVjdHMgYW4gZXJyb3IgdG8gYmUgcGFzc2VkIGFzIGl0cyBmaXJzdFxuICBhcmd1bWVudCAoaWYgYW4gZXJyb3Igb2NjdXJyZWQsIG90aGVyd2lzZSBudWxsKSwgYW5kIHRoZSB2YWx1ZSBmcm9tIHRoZVxuICBvcGVyYXRpb24gYXMgaXRzIHNlY29uZCBhcmd1bWVudCAoJ2Z1bmN0aW9uKGVyciwgdmFsdWUpeyB9JykuXG4gIEBwYXJhbSB7Qm9vbGVhbnxBcnJheX0gW29wdGlvbnNdIEFuIG9wdGlvbmFsIHBhcmFtdGVyIHRoYXQgaWYgc2V0XG4gIHRvIGB0cnVlYCBjYXVzZXMgdGhlIHByb21pc2UgdG8gZnVsZmlsbCB3aXRoIHRoZSBjYWxsYmFjaydzIHN1Y2Nlc3MgYXJndW1lbnRzXG4gIGFzIGFuIGFycmF5LiBUaGlzIGlzIHVzZWZ1bCBpZiB0aGUgbm9kZSBmdW5jdGlvbiBoYXMgbXVsdGlwbGUgc3VjY2Vzc1xuICBwYXJhbXRlcnMuIElmIHlvdSBzZXQgdGhpcyBwYXJhbXRlciB0byBhbiBhcnJheSB3aXRoIG5hbWVzLCB0aGUgcHJvbWlzZSB3aWxsXG4gIGZ1bGZpbGwgd2l0aCBhIGhhc2ggd2l0aCB0aGVzZSBuYW1lcyBhcyBrZXlzIGFuZCB0aGUgc3VjY2VzcyBwYXJhbWV0ZXJzIGFzXG4gIHZhbHVlcy5cbiAgQHJldHVybiB7RnVuY3Rpb259IGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgbm9kZUZ1bmNgIHRvIHJldHVybiBhblxuICBgUlNWUC5Qcm9taXNlYFxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gZGVub2RlaWZ5KG5vZGVGdW5jLCBvcHRpb25zKSB7XG4gIHZhciBmbiA9IGZ1bmN0aW9uIGZuKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkobCArIDEpO1xuICAgIHZhciBwcm9taXNlSW5wdXQgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICB2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBpZiAoIXByb21pc2VJbnB1dCkge1xuICAgICAgICAvLyBUT0RPOiBjbGVhbiB0aGlzIHVwXG4gICAgICAgIHByb21pc2VJbnB1dCA9IG5lZWRzUHJvbWlzZUlucHV0KGFyZyk7XG4gICAgICAgIGlmIChwcm9taXNlSW5wdXQgPT09IEdFVF9USEVOX0VSUk9SJDEpIHtcbiAgICAgICAgICB2YXIgcCA9IG5ldyBQcm9taXNlKG5vb3ApO1xuICAgICAgICAgIHJlamVjdChwLCBHRVRfVEhFTl9FUlJPUiQxLnZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9taXNlSW5wdXQgJiYgcHJvbWlzZUlucHV0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgYXJnID0gd3JhcFRoZW5hYmxlKHByb21pc2VJbnB1dCwgYXJnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJnc1tpXSA9IGFyZztcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKG5vb3ApO1xuXG4gICAgYXJnc1tsXSA9IGZ1bmN0aW9uIChlcnIsIHZhbCkge1xuICAgICAgaWYgKGVycikgcmVqZWN0KHByb21pc2UsIGVycik7ZWxzZSBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSByZXNvbHZlKHByb21pc2UsIHZhbCk7ZWxzZSBpZiAob3B0aW9ucyA9PT0gdHJ1ZSkgcmVzb2x2ZShwcm9taXNlLCBhcnJheVJlc3VsdChhcmd1bWVudHMpKTtlbHNlIGlmIChpc0FycmF5KG9wdGlvbnMpKSByZXNvbHZlKHByb21pc2UsIG1ha2VPYmplY3QoYXJndW1lbnRzLCBvcHRpb25zKSk7ZWxzZSByZXNvbHZlKHByb21pc2UsIHZhbCk7XG4gICAgfTtcblxuICAgIGlmIChwcm9taXNlSW5wdXQpIHtcbiAgICAgIHJldHVybiBoYW5kbGVQcm9taXNlSW5wdXQocHJvbWlzZSwgYXJncywgbm9kZUZ1bmMsIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGFuZGxlVmFsdWVJbnB1dChwcm9taXNlLCBhcmdzLCBub2RlRnVuYywgc2VsZik7XG4gICAgfVxuICB9O1xuXG4gIGZuLl9fcHJvdG9fXyA9IG5vZGVGdW5jO1xuXG4gIHJldHVybiBmbjtcbn1cblxuZnVuY3Rpb24gaGFuZGxlVmFsdWVJbnB1dChwcm9taXNlLCBhcmdzLCBub2RlRnVuYywgc2VsZikge1xuICB2YXIgcmVzdWx0ID0gdHJ5QXBwbHkobm9kZUZ1bmMsIHNlbGYsIGFyZ3MpO1xuICBpZiAocmVzdWx0ID09PSBFUlJPUikge1xuICAgIHJlamVjdChwcm9taXNlLCByZXN1bHQudmFsdWUpO1xuICB9XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQcm9taXNlSW5wdXQocHJvbWlzZSwgYXJncywgbm9kZUZ1bmMsIHNlbGYpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGFyZ3MpLnRoZW4oZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgcmVzdWx0ID0gdHJ5QXBwbHkobm9kZUZ1bmMsIHNlbGYsIGFyZ3MpO1xuICAgIGlmIChyZXN1bHQgPT09IEVSUk9SKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVzdWx0LnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBuZWVkc1Byb21pc2VJbnB1dChhcmcpIHtcbiAgaWYgKGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChhcmcuY29uc3RydWN0b3IgPT09IFByb21pc2UpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0VGhlbiQxKGFyZyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAgVGhpcyBpcyBhIGNvbnZlbmllbnQgYWxpYXMgZm9yIGBSU1ZQLlByb21pc2UuYWxsYC5cblxuICBAbWV0aG9kIGFsbFxuICBAc3RhdGljXG4gIEBmb3IgUlNWUFxuICBAcGFyYW0ge0FycmF5fSBhcnJheSBBcnJheSBvZiBwcm9taXNlcy5cbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIEFuIG9wdGlvbmFsIGxhYmVsLiBUaGlzIGlzIHVzZWZ1bFxuICBmb3IgdG9vbGluZy5cbiovXG5mdW5jdGlvbiBhbGwkMShhcnJheSwgbGFiZWwpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGFycmF5LCBsYWJlbCk7XG59XG5cbmZ1bmN0aW9uIEFsbFNldHRsZWQoQ29uc3RydWN0b3IsIGVudHJpZXMsIGxhYmVsKSB7XG4gIHRoaXMuX3N1cGVyQ29uc3RydWN0b3IoQ29uc3RydWN0b3IsIGVudHJpZXMsIGZhbHNlLCAvKiBkb24ndCBhYm9ydCBvbiByZWplY3QgKi9sYWJlbCk7XG59XG5cbkFsbFNldHRsZWQucHJvdG90eXBlID0gb19jcmVhdGUoRW51bWVyYXRvci5wcm90b3R5cGUpO1xuQWxsU2V0dGxlZC5wcm90b3R5cGUuX3N1cGVyQ29uc3RydWN0b3IgPSBFbnVtZXJhdG9yO1xuQWxsU2V0dGxlZC5wcm90b3R5cGUuX21ha2VSZXN1bHQgPSBtYWtlU2V0dGxlZFJlc3VsdDtcbkFsbFNldHRsZWQucHJvdG90eXBlLl92YWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ2FsbFNldHRsZWQgbXVzdCBiZSBjYWxsZWQgd2l0aCBhbiBhcnJheScpO1xufTtcblxuLyoqXG4gIGBSU1ZQLmFsbFNldHRsZWRgIGlzIHNpbWlsYXIgdG8gYFJTVlAuYWxsYCwgYnV0IGluc3RlYWQgb2YgaW1wbGVtZW50aW5nXG4gIGEgZmFpbC1mYXN0IG1ldGhvZCwgaXQgd2FpdHMgdW50aWwgYWxsIHRoZSBwcm9taXNlcyBoYXZlIHJldHVybmVkIGFuZFxuICBzaG93cyB5b3UgYWxsIHRoZSByZXN1bHRzLiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBoYW5kbGUgbXVsdGlwbGVcbiAgcHJvbWlzZXMnIGZhaWx1cmUgc3RhdGVzIHRvZ2V0aGVyIGFzIGEgc2V0LlxuXG4gIFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIHRoZSBnaXZlbiBwcm9taXNlcyBoYXZlIGJlZW5cbiAgc2V0dGxlZC4gVGhlIHJldHVybiBwcm9taXNlIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGFycmF5IG9mIHRoZSBzdGF0ZXMgb2ZcbiAgdGhlIHByb21pc2VzIHBhc3NlZCBpbnRvIHRoZSBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50LlxuXG4gIEVhY2ggc3RhdGUgb2JqZWN0IHdpbGwgZWl0aGVyIGluZGljYXRlIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiwgYW5kXG4gIHByb3ZpZGUgdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb3IgcmVhc29uLiBUaGUgc3RhdGVzIHdpbGwgdGFrZSBvbmUgb2ZcbiAgdGhlIGZvbGxvd2luZyBmb3JtYXRzOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgeyBzdGF0ZTogJ2Z1bGZpbGxlZCcsIHZhbHVlOiB2YWx1ZSB9XG4gICAgb3JcbiAgeyBzdGF0ZTogJ3JlamVjdGVkJywgcmVhc29uOiByZWFzb24gfVxuICBgYGBcblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gUlNWUC5Qcm9taXNlLnJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IFJTVlAuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCcyJykpO1xuICBsZXQgcHJvbWlzZTMgPSBSU1ZQLlByb21pc2UucmVqZWN0KG5ldyBFcnJvcignMycpKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUlNWUC5hbGxTZXR0bGVkKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBhcnJheSA9PSBbXG4gICAgLy8gICB7IHN0YXRlOiAnZnVsZmlsbGVkJywgdmFsdWU6IDEgfSxcbiAgICAvLyAgIHsgc3RhdGU6ICdyZWplY3RlZCcsIHJlYXNvbjogRXJyb3IgfSxcbiAgICAvLyAgIHsgc3RhdGU6ICdyZWplY3RlZCcsIHJlYXNvbjogRXJyb3IgfVxuICAgIC8vIF1cbiAgICAvLyBOb3RlIHRoYXQgZm9yIHRoZSBzZWNvbmQgaXRlbSwgcmVhc29uLm1lc3NhZ2Ugd2lsbCBiZSAnMicsIGFuZCBmb3IgdGhlXG4gICAgLy8gdGhpcmQgaXRlbSwgcmVhc29uLm1lc3NhZ2Ugd2lsbCBiZSAnMycuXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gTm90IHJ1bi4gKFRoaXMgYmxvY2sgd291bGQgb25seSBiZSBjYWxsZWQgaWYgYWxsU2V0dGxlZCBoYWQgZmFpbGVkLFxuICAgIC8vIGZvciBpbnN0YW5jZSBpZiBwYXNzZWQgYW4gaW5jb3JyZWN0IGFyZ3VtZW50IHR5cGUuKVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBhbGxTZXR0bGVkXG4gIEBzdGF0aWNcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXNcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIC0gb3B0aW9uYWwgc3RyaW5nIHRoYXQgZGVzY3JpYmVzIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiB0aGUgc2V0dGxlZFxuICBzdGF0ZXMgb2YgdGhlIGNvbnN0aXR1ZW50IHByb21pc2VzLlxuKi9cbmZ1bmN0aW9uIGFsbFNldHRsZWQoZW50cmllcywgbGFiZWwpIHtcbiAgcmV0dXJuIG5ldyBBbGxTZXR0bGVkKFByb21pc2UsIGVudHJpZXMsIGxhYmVsKS5wcm9taXNlO1xufVxuXG4vKipcbiAgVGhpcyBpcyBhIGNvbnZlbmllbnQgYWxpYXMgZm9yIGBSU1ZQLlByb21pc2UucmFjZWAuXG5cbiAgQG1ldGhvZCByYWNlXG4gIEBzdGF0aWNcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7QXJyYXl9IGFycmF5IEFycmF5IG9mIHByb21pc2VzLlxuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgQW4gb3B0aW9uYWwgbGFiZWwuIFRoaXMgaXMgdXNlZnVsXG4gIGZvciB0b29saW5nLlxuICovXG5mdW5jdGlvbiByYWNlJDEoYXJyYXksIGxhYmVsKSB7XG4gIHJldHVybiBQcm9taXNlLnJhY2UoYXJyYXksIGxhYmVsKTtcbn1cblxuZnVuY3Rpb24gUHJvbWlzZUhhc2goQ29uc3RydWN0b3IsIG9iamVjdCwgbGFiZWwpIHtcbiAgdGhpcy5fc3VwZXJDb25zdHJ1Y3RvcihDb25zdHJ1Y3Rvciwgb2JqZWN0LCB0cnVlLCBsYWJlbCk7XG59XG5cblByb21pc2VIYXNoLnByb3RvdHlwZSA9IG9fY3JlYXRlKEVudW1lcmF0b3IucHJvdG90eXBlKTtcblByb21pc2VIYXNoLnByb3RvdHlwZS5fc3VwZXJDb25zdHJ1Y3RvciA9IEVudW1lcmF0b3I7XG5Qcm9taXNlSGFzaC5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX3Jlc3VsdCA9IHt9O1xufTtcblxuUHJvbWlzZUhhc2gucHJvdG90eXBlLl92YWxpZGF0ZUlucHV0ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dCAmJiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnO1xufTtcblxuUHJvbWlzZUhhc2gucHJvdG90eXBlLl92YWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ1Byb21pc2UuaGFzaCBtdXN0IGJlIGNhbGxlZCB3aXRoIGFuIG9iamVjdCcpO1xufTtcblxuUHJvbWlzZUhhc2gucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBlbnVtZXJhdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBlbnVtZXJhdG9yLnByb21pc2U7XG4gIHZhciBpbnB1dCA9IGVudW1lcmF0b3IuX2lucHV0O1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBpbnB1dCkge1xuICAgIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gUEVORElORyAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5wdXQsIGtleSkpIHtcbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIHBvc2l0aW9uOiBrZXksXG4gICAgICAgIGVudHJ5OiBpbnB1dFtrZXldXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YXIgbGVuZ3RoID0gcmVzdWx0cy5sZW5ndGg7XG4gIGVudW1lcmF0b3IuX3JlbWFpbmluZyA9IGxlbmd0aDtcbiAgdmFyIHJlc3VsdCA9IHVuZGVmaW5lZDtcblxuICBmb3IgKHZhciBpID0gMDsgcHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ID0gcmVzdWx0c1tpXTtcbiAgICBlbnVtZXJhdG9yLl9lYWNoRW50cnkocmVzdWx0LmVudHJ5LCByZXN1bHQucG9zaXRpb24pO1xuICB9XG59O1xuXG4vKipcbiAgYFJTVlAuaGFzaGAgaXMgc2ltaWxhciB0byBgUlNWUC5hbGxgLCBidXQgdGFrZXMgYW4gb2JqZWN0IGluc3RlYWQgb2YgYW4gYXJyYXlcbiAgZm9yIGl0cyBgcHJvbWlzZXNgIGFyZ3VtZW50LlxuXG4gIFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIHRoZSBnaXZlbiBwcm9taXNlcyBoYXZlIGJlZW5cbiAgZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuIFRoZSByZXR1cm5lZCBwcm9taXNlXG4gIGlzIGZ1bGZpbGxlZCB3aXRoIGEgaGFzaCB0aGF0IGhhcyB0aGUgc2FtZSBrZXkgbmFtZXMgYXMgdGhlIGBwcm9taXNlc2Agb2JqZWN0XG4gIGFyZ3VtZW50LiBJZiBhbnkgb2YgdGhlIHZhbHVlcyBpbiB0aGUgb2JqZWN0IGFyZSBub3QgcHJvbWlzZXMsIHRoZXkgd2lsbFxuICBzaW1wbHkgYmUgY29waWVkIG92ZXIgdG8gdGhlIGZ1bGZpbGxlZCBvYmplY3QuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlcyA9IHtcbiAgICBteVByb21pc2U6IFJTVlAucmVzb2x2ZSgxKSxcbiAgICB5b3VyUHJvbWlzZTogUlNWUC5yZXNvbHZlKDIpLFxuICAgIHRoZWlyUHJvbWlzZTogUlNWUC5yZXNvbHZlKDMpLFxuICAgIG5vdEFQcm9taXNlOiA0XG4gIH07XG5cbiAgUlNWUC5oYXNoKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGhhc2gpe1xuICAgIC8vIGhhc2ggaGVyZSBpcyBhbiBvYmplY3QgdGhhdCBsb29rcyBsaWtlOlxuICAgIC8vIHtcbiAgICAvLyAgIG15UHJvbWlzZTogMSxcbiAgICAvLyAgIHlvdXJQcm9taXNlOiAyLFxuICAgIC8vICAgdGhlaXJQcm9taXNlOiAzLFxuICAgIC8vICAgbm90QVByb21pc2U6IDRcbiAgICAvLyB9XG4gIH0pO1xuICBgYGBgXG5cbiAgSWYgYW55IG9mIHRoZSBgcHJvbWlzZXNgIGdpdmVuIHRvIGBSU1ZQLmhhc2hgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIHRoZSByZWFzb24gdG8gdGhlIHJlamVjdGlvbiBoYW5kbGVyLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZXMgPSB7XG4gICAgbXlQcm9taXNlOiBSU1ZQLnJlc29sdmUoMSksXG4gICAgcmVqZWN0ZWRQcm9taXNlOiBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJ3JlamVjdGVkUHJvbWlzZScpKSxcbiAgICBhbm90aGVyUmVqZWN0ZWRQcm9taXNlOiBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJ2Fub3RoZXJSZWplY3RlZFByb21pc2UnKSksXG4gIH07XG5cbiAgUlNWUC5oYXNoKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGhhc2gpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ3JlamVjdGVkUHJvbWlzZSdcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGltcG9ydGFudCBub3RlOiBgUlNWUC5oYXNoYCBpcyBpbnRlbmRlZCBmb3IgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3RzIHRoYXRcbiAgYXJlIGp1c3QgYSBzZXQgb2Yga2V5cyBhbmQgdmFsdWVzLiBgUlNWUC5oYXNoYCB3aWxsIE5PVCBwcmVzZXJ2ZSBwcm90b3R5cGVcbiAgY2hhaW5zLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBmdW5jdGlvbiBNeUNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5leGFtcGxlID0gUlNWUC5yZXNvbHZlKCdFeGFtcGxlJyk7XG4gIH1cblxuICBNeUNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IHtcbiAgICBwcm90b1Byb3BlcnR5OiBSU1ZQLnJlc29sdmUoJ1Byb3RvIFByb3BlcnR5JylcbiAgfTtcblxuICBsZXQgbXlPYmplY3QgPSBuZXcgTXlDb25zdHJ1Y3RvcigpO1xuXG4gIFJTVlAuaGFzaChteU9iamVjdCkudGhlbihmdW5jdGlvbihoYXNoKXtcbiAgICAvLyBwcm90b1Byb3BlcnR5IHdpbGwgbm90IGJlIHByZXNlbnQsIGluc3RlYWQgeW91IHdpbGwganVzdCBoYXZlIGFuXG4gICAgLy8gb2JqZWN0IHRoYXQgbG9va3MgbGlrZTpcbiAgICAvLyB7XG4gICAgLy8gICBleGFtcGxlOiAnRXhhbXBsZSdcbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyBoYXNoLmhhc093blByb3BlcnR5KCdwcm90b1Byb3BlcnR5Jyk7IC8vIGZhbHNlXG4gICAgLy8gJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiBoYXNoLnByb3RvUHJvcGVydHlcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgaGFzaFxuICBAc3RhdGljXG4gIEBmb3IgUlNWUFxuICBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgdGhhdCBkZXNjcmliZXMgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBwcm9wZXJ0aWVzIG9mIGBwcm9taXNlc2BcbiAgaGF2ZSBiZWVuIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuKi9cbmZ1bmN0aW9uIGhhc2gob2JqZWN0LCBsYWJlbCkge1xuICByZXR1cm4gbmV3IFByb21pc2VIYXNoKFByb21pc2UsIG9iamVjdCwgbGFiZWwpLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIEhhc2hTZXR0bGVkKENvbnN0cnVjdG9yLCBvYmplY3QsIGxhYmVsKSB7XG4gIHRoaXMuX3N1cGVyQ29uc3RydWN0b3IoQ29uc3RydWN0b3IsIG9iamVjdCwgZmFsc2UsIGxhYmVsKTtcbn1cblxuSGFzaFNldHRsZWQucHJvdG90eXBlID0gb19jcmVhdGUoUHJvbWlzZUhhc2gucHJvdG90eXBlKTtcbkhhc2hTZXR0bGVkLnByb3RvdHlwZS5fc3VwZXJDb25zdHJ1Y3RvciA9IEVudW1lcmF0b3I7XG5IYXNoU2V0dGxlZC5wcm90b3R5cGUuX21ha2VSZXN1bHQgPSBtYWtlU2V0dGxlZFJlc3VsdDtcblxuSGFzaFNldHRsZWQucHJvdG90eXBlLl92YWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ2hhc2hTZXR0bGVkIG11c3QgYmUgY2FsbGVkIHdpdGggYW4gb2JqZWN0Jyk7XG59O1xuXG4vKipcbiAgYFJTVlAuaGFzaFNldHRsZWRgIGlzIHNpbWlsYXIgdG8gYFJTVlAuYWxsU2V0dGxlZGAsIGJ1dCB0YWtlcyBhbiBvYmplY3RcbiAgaW5zdGVhZCBvZiBhbiBhcnJheSBmb3IgaXRzIGBwcm9taXNlc2AgYXJndW1lbnQuXG5cbiAgVW5saWtlIGBSU1ZQLmFsbGAgb3IgYFJTVlAuaGFzaGAsIHdoaWNoIGltcGxlbWVudCBhIGZhaWwtZmFzdCBtZXRob2QsXG4gIGJ1dCBsaWtlIGBSU1ZQLmFsbFNldHRsZWRgLCBgaGFzaFNldHRsZWRgIHdhaXRzIHVudGlsIGFsbCB0aGVcbiAgY29uc3RpdHVlbnQgcHJvbWlzZXMgaGF2ZSByZXR1cm5lZCBhbmQgdGhlbiBzaG93cyB5b3UgYWxsIHRoZSByZXN1bHRzXG4gIHdpdGggdGhlaXIgc3RhdGVzIGFuZCB2YWx1ZXMvcmVhc29ucy4gVGhpcyBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG9cbiAgaGFuZGxlIG11bHRpcGxlIHByb21pc2VzJyBmYWlsdXJlIHN0YXRlcyB0b2dldGhlciBhcyBhIHNldC5cblxuICBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCB0aGUgZ2l2ZW4gcHJvbWlzZXMgaGF2ZSBiZWVuXG4gIHNldHRsZWQsIG9yIHJlamVjdGVkIGlmIHRoZSBwYXNzZWQgcGFyYW1ldGVycyBhcmUgaW52YWxpZC5cblxuICBUaGUgcmV0dXJuZWQgcHJvbWlzZSBpcyBmdWxmaWxsZWQgd2l0aCBhIGhhc2ggdGhhdCBoYXMgdGhlIHNhbWUga2V5IG5hbWVzIGFzXG4gIHRoZSBgcHJvbWlzZXNgIG9iamVjdCBhcmd1bWVudC4gSWYgYW55IG9mIHRoZSB2YWx1ZXMgaW4gdGhlIG9iamVjdCBhcmUgbm90XG4gIHByb21pc2VzLCB0aGV5IHdpbGwgYmUgY29waWVkIG92ZXIgdG8gdGhlIGZ1bGZpbGxlZCBvYmplY3QgYW5kIG1hcmtlZCB3aXRoIHN0YXRlXG4gICdmdWxmaWxsZWQnLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZXMgPSB7XG4gICAgbXlQcm9taXNlOiBSU1ZQLlByb21pc2UucmVzb2x2ZSgxKSxcbiAgICB5b3VyUHJvbWlzZTogUlNWUC5Qcm9taXNlLnJlc29sdmUoMiksXG4gICAgdGhlaXJQcm9taXNlOiBSU1ZQLlByb21pc2UucmVzb2x2ZSgzKSxcbiAgICBub3RBUHJvbWlzZTogNFxuICB9O1xuXG4gIFJTVlAuaGFzaFNldHRsZWQocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oaGFzaCl7XG4gICAgLy8gaGFzaCBoZXJlIGlzIGFuIG9iamVjdCB0aGF0IGxvb2tzIGxpa2U6XG4gICAgLy8ge1xuICAgIC8vICAgbXlQcm9taXNlOiB7IHN0YXRlOiAnZnVsZmlsbGVkJywgdmFsdWU6IDEgfSxcbiAgICAvLyAgIHlvdXJQcm9taXNlOiB7IHN0YXRlOiAnZnVsZmlsbGVkJywgdmFsdWU6IDIgfSxcbiAgICAvLyAgIHRoZWlyUHJvbWlzZTogeyBzdGF0ZTogJ2Z1bGZpbGxlZCcsIHZhbHVlOiAzIH0sXG4gICAgLy8gICBub3RBUHJvbWlzZTogeyBzdGF0ZTogJ2Z1bGZpbGxlZCcsIHZhbHVlOiA0IH1cbiAgICAvLyB9XG4gIH0pO1xuICBgYGBcblxuICBJZiBhbnkgb2YgdGhlIGBwcm9taXNlc2AgZ2l2ZW4gdG8gYFJTVlAuaGFzaGAgYXJlIHJlamVjdGVkLCB0aGUgc3RhdGUgd2lsbFxuICBiZSBzZXQgdG8gJ3JlamVjdGVkJyBhbmQgdGhlIHJlYXNvbiBmb3IgcmVqZWN0aW9uIHByb3ZpZGVkLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZXMgPSB7XG4gICAgbXlQcm9taXNlOiBSU1ZQLlByb21pc2UucmVzb2x2ZSgxKSxcbiAgICByZWplY3RlZFByb21pc2U6IFJTVlAuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdyZWplY3Rpb24nKSksXG4gICAgYW5vdGhlclJlamVjdGVkUHJvbWlzZTogUlNWUC5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ21vcmUgcmVqZWN0aW9uJykpLFxuICB9O1xuXG4gIFJTVlAuaGFzaFNldHRsZWQocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oaGFzaCl7XG4gICAgLy8gaGFzaCBoZXJlIGlzIGFuIG9iamVjdCB0aGF0IGxvb2tzIGxpa2U6XG4gICAgLy8ge1xuICAgIC8vICAgbXlQcm9taXNlOiAgICAgICAgICAgICAgeyBzdGF0ZTogJ2Z1bGZpbGxlZCcsIHZhbHVlOiAxIH0sXG4gICAgLy8gICByZWplY3RlZFByb21pc2U6ICAgICAgICB7IHN0YXRlOiAncmVqZWN0ZWQnLCByZWFzb246IEVycm9yIH0sXG4gICAgLy8gICBhbm90aGVyUmVqZWN0ZWRQcm9taXNlOiB7IHN0YXRlOiAncmVqZWN0ZWQnLCByZWFzb246IEVycm9yIH0sXG4gICAgLy8gfVxuICAgIC8vIE5vdGUgdGhhdCBmb3IgcmVqZWN0ZWRQcm9taXNlLCByZWFzb24ubWVzc2FnZSA9PSAncmVqZWN0aW9uJyxcbiAgICAvLyBhbmQgZm9yIGFub3RoZXJSZWplY3RlZFByb21pc2UsIHJlYXNvbi5tZXNzYWdlID09ICdtb3JlIHJlamVjdGlvbicuXG4gIH0pO1xuICBgYGBcblxuICBBbiBpbXBvcnRhbnQgbm90ZTogYFJTVlAuaGFzaFNldHRsZWRgIGlzIGludGVuZGVkIGZvciBwbGFpbiBKYXZhU2NyaXB0IG9iamVjdHMgdGhhdFxuICBhcmUganVzdCBhIHNldCBvZiBrZXlzIGFuZCB2YWx1ZXMuIGBSU1ZQLmhhc2hTZXR0bGVkYCB3aWxsIE5PVCBwcmVzZXJ2ZSBwcm90b3R5cGVcbiAgY2hhaW5zLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBmdW5jdGlvbiBNeUNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5leGFtcGxlID0gUlNWUC5Qcm9taXNlLnJlc29sdmUoJ0V4YW1wbGUnKTtcbiAgfVxuXG4gIE15Q29uc3RydWN0b3IucHJvdG90eXBlID0ge1xuICAgIHByb3RvUHJvcGVydHk6IFJTVlAuUHJvbWlzZS5yZXNvbHZlKCdQcm90byBQcm9wZXJ0eScpXG4gIH07XG5cbiAgbGV0IG15T2JqZWN0ID0gbmV3IE15Q29uc3RydWN0b3IoKTtcblxuICBSU1ZQLmhhc2hTZXR0bGVkKG15T2JqZWN0KS50aGVuKGZ1bmN0aW9uKGhhc2gpe1xuICAgIC8vIHByb3RvUHJvcGVydHkgd2lsbCBub3QgYmUgcHJlc2VudCwgaW5zdGVhZCB5b3Ugd2lsbCBqdXN0IGhhdmUgYW5cbiAgICAvLyBvYmplY3QgdGhhdCBsb29rcyBsaWtlOlxuICAgIC8vIHtcbiAgICAvLyAgIGV4YW1wbGU6IHsgc3RhdGU6ICdmdWxmaWxsZWQnLCB2YWx1ZTogJ0V4YW1wbGUnIH1cbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyBoYXNoLmhhc093blByb3BlcnR5KCdwcm90b1Byb3BlcnR5Jyk7IC8vIGZhbHNlXG4gICAgLy8gJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiBoYXNoLnByb3RvUHJvcGVydHlcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgaGFzaFNldHRsZWRcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyB0aGF0IGRlc2NyaWJlcyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gd2hlbiBhbGwgcHJvcGVydGllcyBvZiBgcHJvbWlzZXNgXG4gIGhhdmUgYmVlbiBzZXR0bGVkLlxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gaGFzaFNldHRsZWQob2JqZWN0LCBsYWJlbCkge1xuICByZXR1cm4gbmV3IEhhc2hTZXR0bGVkKFByb21pc2UsIG9iamVjdCwgbGFiZWwpLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHJldGhyb3cocmVhc29uKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHRocm93IHJlYXNvbjtcbiAgfSk7XG4gIHRocm93IHJlYXNvbjtcbn1cblxuLyoqXG4gIGBSU1ZQLmRlZmVyYCByZXR1cm5zIGFuIG9iamVjdCBzaW1pbGFyIHRvIGpRdWVyeSdzIGAkLkRlZmVycmVkYC5cbiAgYFJTVlAuZGVmZXJgIHNob3VsZCBiZSB1c2VkIHdoZW4gcG9ydGluZyBvdmVyIGNvZGUgcmVsaWFudCBvbiBgJC5EZWZlcnJlZGAnc1xuICBpbnRlcmZhY2UuIE5ldyBjb2RlIHNob3VsZCB1c2UgdGhlIGBSU1ZQLlByb21pc2VgIGNvbnN0cnVjdG9yIGluc3RlYWQuXG5cbiAgVGhlIG9iamVjdCByZXR1cm5lZCBmcm9tIGBSU1ZQLmRlZmVyYCBpcyBhIHBsYWluIG9iamVjdCB3aXRoIHRocmVlIHByb3BlcnRpZXM6XG5cbiAgKiBwcm9taXNlIC0gYW4gYFJTVlAuUHJvbWlzZWAuXG4gICogcmVqZWN0IC0gYSBmdW5jdGlvbiB0aGF0IGNhdXNlcyB0aGUgYHByb21pc2VgIHByb3BlcnR5IG9uIHRoaXMgb2JqZWN0IHRvXG4gICAgYmVjb21lIHJlamVjdGVkXG4gICogcmVzb2x2ZSAtIGEgZnVuY3Rpb24gdGhhdCBjYXVzZXMgdGhlIGBwcm9taXNlYCBwcm9wZXJ0eSBvbiB0aGlzIG9iamVjdCB0b1xuICAgIGJlY29tZSBmdWxmaWxsZWQuXG5cbiAgRXhhbXBsZTpcblxuICAgYGBgamF2YXNjcmlwdFxuICAgbGV0IGRlZmVycmVkID0gUlNWUC5kZWZlcigpO1xuXG4gICBkZWZlcnJlZC5yZXNvbHZlKFwiU3VjY2VzcyFcIik7XG5cbiAgIGRlZmVycmVkLnByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgIC8vIHZhbHVlIGhlcmUgaXMgXCJTdWNjZXNzIVwiXG4gICB9KTtcbiAgIGBgYFxuXG4gIEBtZXRob2QgZGVmZXJcbiAgQHN0YXRpY1xuICBAZm9yIFJTVlBcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBkZWZlcihsYWJlbCkge1xuICB2YXIgZGVmZXJyZWQgPSB7IHJlc29sdmU6IHVuZGVmaW5lZCwgcmVqZWN0OiB1bmRlZmluZWQgfTtcblxuICBkZWZlcnJlZC5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGRlZmVycmVkLnJlc29sdmUgPSByZXNvbHZlO1xuICAgIGRlZmVycmVkLnJlamVjdCA9IHJlamVjdDtcbiAgfSwgbGFiZWwpO1xuXG4gIHJldHVybiBkZWZlcnJlZDtcbn1cblxuLyoqXG4gYFJTVlAubWFwYCBpcyBzaW1pbGFyIHRvIEphdmFTY3JpcHQncyBuYXRpdmUgYG1hcGAgbWV0aG9kLCBleGNlcHQgdGhhdCBpdFxuICB3YWl0cyBmb3IgYWxsIHByb21pc2VzIHRvIGJlY29tZSBmdWxmaWxsZWQgYmVmb3JlIHJ1bm5pbmcgdGhlIGBtYXBGbmAgb25cbiAgZWFjaCBpdGVtIGluIGdpdmVuIHRvIGBwcm9taXNlc2AuIGBSU1ZQLm1hcGAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsXG4gIGJlY29tZSBmdWxmaWxsZWQgd2l0aCB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYG1hcEZuYCBvbiB0aGUgdmFsdWVzIHRoZSBwcm9taXNlc1xuICBiZWNvbWUgZnVsZmlsbGVkIHdpdGguXG5cbiAgRm9yIGV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuXG4gIGxldCBwcm9taXNlMSA9IFJTVlAucmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gUlNWUC5yZXNvbHZlKDIpO1xuICBsZXQgcHJvbWlzZTMgPSBSU1ZQLnJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIGxldCBtYXBGbiA9IGZ1bmN0aW9uKGl0ZW0pe1xuICAgIHJldHVybiBpdGVtICsgMTtcbiAgfTtcblxuICBSU1ZQLm1hcChwcm9taXNlcywgbWFwRm4pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgaXMgWyAyLCAzLCA0IF1cbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgUlNWUC5tYXBgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSByZXR1cm5lZCBwcm9taXNlJ3NcbiAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gUlNWUC5yZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJzInKSk7XG4gIGxldCBwcm9taXNlMyA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcignMycpKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgbGV0IG1hcEZuID0gZnVuY3Rpb24oaXRlbSl7XG4gICAgcmV0dXJuIGl0ZW0gKyAxO1xuICB9O1xuXG4gIFJTVlAubWFwKHByb21pc2VzLCBtYXBGbikudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnMidcbiAgfSk7XG4gIGBgYFxuXG4gIGBSU1ZQLm1hcGAgd2lsbCBhbHNvIHdhaXQgaWYgYSBwcm9taXNlIGlzIHJldHVybmVkIGZyb20gYG1hcEZuYC4gRm9yIGV4YW1wbGUsXG4gIHNheSB5b3Ugd2FudCB0byBnZXQgYWxsIGNvbW1lbnRzIGZyb20gYSBzZXQgb2YgYmxvZyBwb3N0cywgYnV0IHlvdSBuZWVkXG4gIHRoZSBibG9nIHBvc3RzIGZpcnN0IGJlY2F1c2UgdGhleSBjb250YWluIGEgdXJsIHRvIHRob3NlIGNvbW1lbnRzLlxuXG4gIGBgYGphdnNjcmlwdFxuXG4gIGxldCBtYXBGbiA9IGZ1bmN0aW9uKGJsb2dQb3N0KXtcbiAgICAvLyBnZXRDb21tZW50cyBkb2VzIHNvbWUgYWpheCBhbmQgcmV0dXJucyBhbiBSU1ZQLlByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWRcbiAgICAvLyB3aXRoIHNvbWUgY29tbWVudHMgZGF0YVxuICAgIHJldHVybiBnZXRDb21tZW50cyhibG9nUG9zdC5jb21tZW50c191cmwpO1xuICB9O1xuXG4gIC8vIGdldEJsb2dQb3N0cyBkb2VzIHNvbWUgYWpheCBhbmQgcmV0dXJucyBhbiBSU1ZQLlByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWRcbiAgLy8gd2l0aCBzb21lIGJsb2cgcG9zdCBkYXRhXG4gIFJTVlAubWFwKGdldEJsb2dQb3N0cygpLCBtYXBGbikudGhlbihmdW5jdGlvbihjb21tZW50cyl7XG4gICAgLy8gY29tbWVudHMgaXMgdGhlIHJlc3VsdCBvZiBhc2tpbmcgdGhlIHNlcnZlciBmb3IgdGhlIGNvbW1lbnRzXG4gICAgLy8gb2YgYWxsIGJsb2cgcG9zdHMgcmV0dXJuZWQgZnJvbSBnZXRCbG9nUG9zdHMoKVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBtYXBcbiAgQHN0YXRpY1xuICBAZm9yIFJTVlBcbiAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXNcbiAgQHBhcmFtIHtGdW5jdGlvbn0gbWFwRm4gZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGVhY2ggZnVsZmlsbGVkIHByb21pc2UuXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgcmVzdWx0IG9mIGNhbGxpbmdcbiAgYG1hcEZuYCBvbiBlYWNoIGZ1bGZpbGxlZCBwcm9taXNlIG9yIHZhbHVlIHdoZW4gdGhleSBiZWNvbWUgZnVsZmlsbGVkLlxuICAgVGhlIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCBpZiBhbnkgb2YgdGhlIGdpdmVuIGBwcm9taXNlc2AgYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gbWFwKHByb21pc2VzLCBtYXBGbiwgbGFiZWwpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzLCBsYWJlbCkudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKG1hcEZuKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHBhc3MgYSBmdW5jdGlvbiBhcyBtYXAncyBzZWNvbmQgYXJndW1lbnQuXCIpO1xuICAgIH1cblxuICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRzW2ldID0gbWFwRm4odmFsdWVzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cywgbGFiZWwpO1xuICB9KTtcbn1cblxuLyoqXG4gIFRoaXMgaXMgYSBjb252ZW5pZW50IGFsaWFzIGZvciBgUlNWUC5Qcm9taXNlLnJlc29sdmVgLlxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBmb3IgUlNWUFxuICBAcGFyYW0geyp9IHZhbHVlIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aXRoXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGlkZW50aWZ5aW5nIHRoZSByZXR1cm5lZCBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZnVuY3Rpb24gcmVzb2x2ZSQyKHZhbHVlLCBsYWJlbCkge1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlLCBsYWJlbCk7XG59XG5cbi8qKlxuICBUaGlzIGlzIGEgY29udmVuaWVudCBhbGlhcyBmb3IgYFJTVlAuUHJvbWlzZS5yZWplY3RgLlxuXG4gIEBtZXRob2QgcmVqZWN0XG4gIEBzdGF0aWNcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7Kn0gcmVhc29uIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCB3aXRoLlxuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBpZGVudGlmeWluZyB0aGUgcmV0dXJuZWQgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgZ2l2ZW4gYHJlYXNvbmAuXG4qL1xuZnVuY3Rpb24gcmVqZWN0JDIocmVhc29uLCBsYWJlbCkge1xuICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uLCBsYWJlbCk7XG59XG5cbi8qKlxuIGBSU1ZQLmZpbHRlcmAgaXMgc2ltaWxhciB0byBKYXZhU2NyaXB0J3MgbmF0aXZlIGBmaWx0ZXJgIG1ldGhvZCwgZXhjZXB0IHRoYXQgaXRcbiAgd2FpdHMgZm9yIGFsbCBwcm9taXNlcyB0byBiZWNvbWUgZnVsZmlsbGVkIGJlZm9yZSBydW5uaW5nIHRoZSBgZmlsdGVyRm5gIG9uXG4gIGVhY2ggaXRlbSBpbiBnaXZlbiB0byBgcHJvbWlzZXNgLiBgUlNWUC5maWx0ZXJgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbFxuICBiZWNvbWUgZnVsZmlsbGVkIHdpdGggdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBmaWx0ZXJGbmAgb24gdGhlIHZhbHVlcyB0aGVcbiAgcHJvbWlzZXMgYmVjb21lIGZ1bGZpbGxlZCB3aXRoLlxuXG4gIEZvciBleGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcblxuICBsZXQgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IFJTVlAucmVzb2x2ZSgyKTtcbiAgbGV0IHByb21pc2UzID0gUlNWUC5yZXNvbHZlKDMpO1xuXG4gIGxldCBwcm9taXNlcyA9IFtwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzXTtcblxuICBsZXQgZmlsdGVyRm4gPSBmdW5jdGlvbihpdGVtKXtcbiAgICByZXR1cm4gaXRlbSA+IDE7XG4gIH07XG5cbiAgUlNWUC5maWx0ZXIocHJvbWlzZXMsIGZpbHRlckZuKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gcmVzdWx0IGlzIFsgMiwgMyBdXG4gIH0pO1xuICBgYGBcblxuICBJZiBhbnkgb2YgdGhlIGBwcm9taXNlc2AgZ2l2ZW4gdG8gYFJTVlAuZmlsdGVyYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZSdzXG4gIHJlamVjdGlvbiBoYW5kbGVyLiBGb3IgZXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IFJTVlAucmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gUlNWUC5yZWplY3QobmV3IEVycm9yKCcyJykpO1xuICBsZXQgcHJvbWlzZTMgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJzMnKSk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIGxldCBmaWx0ZXJGbiA9IGZ1bmN0aW9uKGl0ZW0pe1xuICAgIHJldHVybiBpdGVtID4gMTtcbiAgfTtcblxuICBSU1ZQLmZpbHRlcihwcm9taXNlcywgZmlsdGVyRm4pLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJzInXG4gIH0pO1xuICBgYGBcblxuICBgUlNWUC5maWx0ZXJgIHdpbGwgYWxzbyB3YWl0IGZvciBhbnkgcHJvbWlzZXMgcmV0dXJuZWQgZnJvbSBgZmlsdGVyRm5gLlxuICBGb3IgaW5zdGFuY2UsIHlvdSBtYXkgd2FudCB0byBmZXRjaCBhIGxpc3Qgb2YgdXNlcnMgdGhlbiByZXR1cm4gYSBzdWJzZXRcbiAgb2YgdGhvc2UgdXNlcnMgYmFzZWQgb24gc29tZSBhc3luY2hyb25vdXMgb3BlcmF0aW9uOlxuXG4gIGBgYGphdmFzY3JpcHRcblxuICBsZXQgYWxpY2UgPSB7IG5hbWU6ICdhbGljZScgfTtcbiAgbGV0IGJvYiAgID0geyBuYW1lOiAnYm9iJyB9O1xuICBsZXQgdXNlcnMgPSBbIGFsaWNlLCBib2IgXTtcblxuICBsZXQgcHJvbWlzZXMgPSB1c2Vycy5tYXAoZnVuY3Rpb24odXNlcil7XG4gICAgcmV0dXJuIFJTVlAucmVzb2x2ZSh1c2VyKTtcbiAgfSk7XG5cbiAgbGV0IGZpbHRlckZuID0gZnVuY3Rpb24odXNlcil7XG4gICAgLy8gSGVyZSwgQWxpY2UgaGFzIHBlcm1pc3Npb25zIHRvIGNyZWF0ZSBhIGJsb2cgcG9zdCwgYnV0IEJvYiBkb2VzIG5vdC5cbiAgICByZXR1cm4gZ2V0UHJpdmlsZWdlc0ZvclVzZXIodXNlcikudGhlbihmdW5jdGlvbihwcml2cyl7XG4gICAgICByZXR1cm4gcHJpdnMuY2FuX2NyZWF0ZV9ibG9nX3Bvc3QgPT09IHRydWU7XG4gICAgfSk7XG4gIH07XG4gIFJTVlAuZmlsdGVyKHByb21pc2VzLCBmaWx0ZXJGbikudGhlbihmdW5jdGlvbih1c2Vycyl7XG4gICAgLy8gdHJ1ZSwgYmVjYXVzZSB0aGUgc2VydmVyIHRvbGQgdXMgb25seSBBbGljZSBjYW4gY3JlYXRlIGEgYmxvZyBwb3N0LlxuICAgIHVzZXJzLmxlbmd0aCA9PT0gMTtcbiAgICAvLyBmYWxzZSwgYmVjYXVzZSBBbGljZSBpcyB0aGUgb25seSB1c2VyIHByZXNlbnQgaW4gYHVzZXJzYFxuICAgIHVzZXJzWzBdID09PSBib2I7XG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIGZpbHRlclxuICBAc3RhdGljXG4gIEBmb3IgUlNWUFxuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlc1xuICBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXJGbiAtIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBlYWNoIHJlc29sdmVkIHZhbHVlIHRvXG4gIGZpbHRlciB0aGUgZmluYWwgcmVzdWx0cy5cbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBkZXNjcmliaW5nIHRoZSBwcm9taXNlLiBVc2VmdWwgZm9yXG4gIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9XG4qL1xuXG5mdW5jdGlvbiByZXNvbHZlQWxsKHByb21pc2VzLCBsYWJlbCkge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMsIGxhYmVsKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVNpbmdsZShwcm9taXNlLCBsYWJlbCkge1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb21pc2UsIGxhYmVsKS50aGVuKGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgIHJldHVybiByZXNvbHZlQWxsKHByb21pc2VzLCBsYWJlbCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gZmlsdGVyKHByb21pc2VzLCBmaWx0ZXJGbiwgbGFiZWwpIHtcbiAgdmFyIHByb21pc2UgPSBpc0FycmF5KHByb21pc2VzKSA/IHJlc29sdmVBbGwocHJvbWlzZXMsIGxhYmVsKSA6IHJlc29sdmVTaW5nbGUocHJvbWlzZXMsIGxhYmVsKTtcbiAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGZpbHRlckZuKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHBhc3MgYSBmdW5jdGlvbiBhcyBmaWx0ZXIncyBzZWNvbmQgYXJndW1lbnQuXCIpO1xuICAgIH1cblxuICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgIHZhciBmaWx0ZXJlZCA9IG5ldyBBcnJheShsZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgZmlsdGVyZWRbaV0gPSBmaWx0ZXJGbih2YWx1ZXNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXNvbHZlQWxsKGZpbHRlcmVkLCBsYWJlbCkudGhlbihmdW5jdGlvbiAoZmlsdGVyZWQpIHtcbiAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICB2YXIgbmV3TGVuZ3RoID0gMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZmlsdGVyZWRbaV0pIHtcbiAgICAgICAgICByZXN1bHRzW25ld0xlbmd0aF0gPSB2YWx1ZXNbaV07XG4gICAgICAgICAgbmV3TGVuZ3RoKys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVzdWx0cy5sZW5ndGggPSBuZXdMZW5ndGg7XG5cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0pO1xuICB9KTtcbn1cblxudmFyIGxlbiA9IDA7XG52YXIgdmVydHhOZXh0ID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlJDFbbGVuXSA9IGNhbGxiYWNrO1xuICBxdWV1ZSQxW2xlbiArIDFdID0gYXJnO1xuICBsZW4gKz0gMjtcbiAgaWYgKGxlbiA9PT0gMikge1xuICAgIC8vIElmIGxlbiBpcyAxLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAvLyBJZiBhZGRpdGlvbmFsIGNhbGxiYWNrcyBhcmUgcXVldWVkIGJlZm9yZSB0aGUgcXVldWUgaXMgZmx1c2hlZCwgdGhleVxuICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICBzY2hlZHVsZUZsdXNoJDEoKTtcbiAgfVxufVxuXG52YXIgYnJvd3NlcldpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdW5kZWZpbmVkO1xudmFyIGJyb3dzZXJHbG9iYWwgPSBicm93c2VyV2luZG93IHx8IHt9O1xudmFyIEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gYnJvd3Nlckdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBpc05vZGUgPSB0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICh7fSkudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4vLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxudmFyIGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuLy8gbm9kZVxuZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gIHZhciBuZXh0VGljayA9IHByb2Nlc3MubmV4dFRpY2s7XG4gIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAvLyBzZXRJbW1lZGlhdGUgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBpbnN0ZWFkXG4gIHZhciB2ZXJzaW9uID0gcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLm1hdGNoKC9eKD86KFxcZCspXFwuKT8oPzooXFxkKylcXC4pPyhcXCp8XFxkKykkLyk7XG4gIGlmIChBcnJheS5pc0FycmF5KHZlcnNpb24pICYmIHZlcnNpb25bMV0gPT09ICcwJyAmJiB2ZXJzaW9uWzJdID09PSAnMTAnKSB7XG4gICAgbmV4dFRpY2sgPSBzZXRJbW1lZGlhdGU7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV4dFRpY2soZmx1c2gpO1xuICB9O1xufVxuXG4vLyB2ZXJ0eFxuZnVuY3Rpb24gdXNlVmVydHhUaW1lcigpIHtcbiAgaWYgKHR5cGVvZiB2ZXJ0eE5leHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZlcnR4TmV4dChmbHVzaCk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBub2RlLmRhdGEgPSBpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMjtcbiAgfTtcbn1cblxuLy8gd2ViIHdvcmtlclxuZnVuY3Rpb24gdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZmx1c2g7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVNldFRpbWVvdXQoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUkMSA9IG5ldyBBcnJheSgxMDAwKTtcblxuZnVuY3Rpb24gZmx1c2goKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZSQxW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZSQxW2kgKyAxXTtcblxuICAgIGNhbGxiYWNrKGFyZyk7XG5cbiAgICBxdWV1ZSQxW2ldID0gdW5kZWZpbmVkO1xuICAgIHF1ZXVlJDFbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnRleCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgciA9IHJlcXVpcmU7XG4gICAgdmFyIHZlcnR4ID0gcigndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoJDEgPSB1bmRlZmluZWQ7XG4vLyBEZWNpZGUgd2hhdCBhc3luYyBtZXRob2QgdG8gdXNlIHRvIHRyaWdnZXJpbmcgcHJvY2Vzc2luZyBvZiBxdWV1ZWQgY2FsbGJhY2tzOlxuaWYgKGlzTm9kZSkge1xuICBzY2hlZHVsZUZsdXNoJDEgPSB1c2VOZXh0VGljaygpO1xufSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICBzY2hlZHVsZUZsdXNoJDEgPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2gkMSA9IHVzZU1lc3NhZ2VDaGFubmVsKCk7XG59IGVsc2UgaWYgKGJyb3dzZXJXaW5kb3cgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICBzY2hlZHVsZUZsdXNoJDEgPSBhdHRlbXB0VmVydGV4KCk7XG59IGVsc2Uge1xuICBzY2hlZHVsZUZsdXNoJDEgPSB1c2VTZXRUaW1lb3V0KCk7XG59XG5cbnZhciBwbGF0Zm9ybSA9IHVuZGVmaW5lZDtcblxuLyogZ2xvYmFsIHNlbGYgKi9cbmlmICh0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcpIHtcbiAgcGxhdGZvcm0gPSBzZWxmO1xuXG4gIC8qIGdsb2JhbCBnbG9iYWwgKi9cbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcpIHtcbiAgICBwbGF0Zm9ybSA9IGdsb2JhbDtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGdsb2JhbDogYHNlbGZgIG9yIGBnbG9iYWxgIGZvdW5kJyk7XG4gIH1cblxudmFyIF9hc3luYyRmaWx0ZXI7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8vIGRlZmF1bHRzXG5cbi8vIHRoZSBkZWZhdWx0IGV4cG9ydCBoZXJlIGlzIGZvciBiYWNrd2FyZHMgY29tcGF0OlxuLy8gICBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2lzc3Vlcy80MzRcbmNvbmZpZy5hc3luYyA9IGFzYXA7XG5jb25maWcuYWZ0ZXIgPSBmdW5jdGlvbiAoY2IpIHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoY2IsIDApO1xufTtcbnZhciBjYXN0ID0gcmVzb2x2ZSQyO1xuXG52YXIgYXN5bmMgPSBmdW5jdGlvbiBhc3luYyhjYWxsYmFjaywgYXJnKSB7XG4gIHJldHVybiBjb25maWcuYXN5bmMoY2FsbGJhY2ssIGFyZyk7XG59O1xuXG5mdW5jdGlvbiBvbigpIHtcbiAgY29uZmlnWydvbiddLmFwcGx5KGNvbmZpZywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gb2ZmKCkge1xuICBjb25maWdbJ29mZiddLmFwcGx5KGNvbmZpZywgYXJndW1lbnRzKTtcbn1cblxuLy8gU2V0IHVwIGluc3RydW1lbnRhdGlvbiB0aHJvdWdoIGB3aW5kb3cuX19QUk9NSVNFX0lOVFJVTUVOVEFUSU9OX19gXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvd1snX19QUk9NSVNFX0lOU1RSVU1FTlRBVElPTl9fJ10gPT09ICdvYmplY3QnKSB7XG4gIHZhciBjYWxsYmFja3MgPSB3aW5kb3dbJ19fUFJPTUlTRV9JTlNUUlVNRU5UQVRJT05fXyddO1xuICBjb25maWd1cmUoJ2luc3RydW1lbnQnLCB0cnVlKTtcbiAgZm9yICh2YXIgZXZlbnROYW1lIGluIGNhbGxiYWNrcykge1xuICAgIGlmIChjYWxsYmFja3MuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKSkge1xuICAgICAgb24oZXZlbnROYW1lLCBjYWxsYmFja3NbZXZlbnROYW1lXSk7XG4gICAgfVxuICB9XG59dmFyIHJzdnAgPSAoX2FzeW5jJGZpbHRlciA9IHtcbiAgY2FzdDogY2FzdCxcbiAgUHJvbWlzZTogUHJvbWlzZSxcbiAgRXZlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0LFxuICBhbGw6IGFsbCQxLFxuICBhbGxTZXR0bGVkOiBhbGxTZXR0bGVkLFxuICByYWNlOiByYWNlJDEsXG4gIGhhc2g6IGhhc2gsXG4gIGhhc2hTZXR0bGVkOiBoYXNoU2V0dGxlZCxcbiAgcmV0aHJvdzogcmV0aHJvdyxcbiAgZGVmZXI6IGRlZmVyLFxuICBkZW5vZGVpZnk6IGRlbm9kZWlmeSxcbiAgY29uZmlndXJlOiBjb25maWd1cmUsXG4gIG9uOiBvbixcbiAgb2ZmOiBvZmYsXG4gIHJlc29sdmU6IHJlc29sdmUkMixcbiAgcmVqZWN0OiByZWplY3QkMixcbiAgbWFwOiBtYXBcbn0sIF9kZWZpbmVQcm9wZXJ0eShfYXN5bmMkZmlsdGVyLCAnYXN5bmMnLCBhc3luYyksIF9kZWZpbmVQcm9wZXJ0eShfYXN5bmMkZmlsdGVyLCAnZmlsdGVyJywgLy8gYmFiZWwgc2VlbXMgdG8gZXJyb3IgaWYgYXN5bmMgaXNuJ3QgYSBjb21wdXRlZCBwcm9wIGhlcmUuLi5cbmZpbHRlciksIF9hc3luYyRmaWx0ZXIpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSByc3ZwO1xuZXhwb3J0cy5jYXN0ID0gY2FzdDtcbmV4cG9ydHMuUHJvbWlzZSA9IFByb21pc2U7XG5leHBvcnRzLkV2ZW50VGFyZ2V0ID0gRXZlbnRUYXJnZXQ7XG5leHBvcnRzLmFsbCA9IGFsbCQxO1xuZXhwb3J0cy5hbGxTZXR0bGVkID0gYWxsU2V0dGxlZDtcbmV4cG9ydHMucmFjZSA9IHJhY2UkMTtcbmV4cG9ydHMuaGFzaCA9IGhhc2g7XG5leHBvcnRzLmhhc2hTZXR0bGVkID0gaGFzaFNldHRsZWQ7XG5leHBvcnRzLnJldGhyb3cgPSByZXRocm93O1xuZXhwb3J0cy5kZWZlciA9IGRlZmVyO1xuZXhwb3J0cy5kZW5vZGVpZnkgPSBkZW5vZGVpZnk7XG5leHBvcnRzLmNvbmZpZ3VyZSA9IGNvbmZpZ3VyZTtcbmV4cG9ydHMub24gPSBvbjtcbmV4cG9ydHMub2ZmID0gb2ZmO1xuZXhwb3J0cy5yZXNvbHZlID0gcmVzb2x2ZSQyO1xuZXhwb3J0cy5yZWplY3QgPSByZWplY3QkMjtcbmV4cG9ydHMubWFwID0gbWFwO1xuZXhwb3J0cy5hc3luYyA9IGFzeW5jO1xuZXhwb3J0cy5maWx0ZXIgPSBmaWx0ZXI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yc3ZwLm1hcCJdfQ==\n"]}